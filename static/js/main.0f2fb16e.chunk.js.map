{"version":3,"sources":["config/firebase.ts","models/index.ts","state/context/index.tsx","components/breadcrumb/breadcrumb.tsx","components/breadcrumb/index.ts","components/explorer/contextMenu.tsx","components/elements/block/pdf.tsx","components/elements/block/view.tsx","components/elements/border/pdf.tsx","components/elements/border/view.tsx","components/elements/table/helpers.tsx","components/elements/table/pdf.tsx","hooks/useModal.ts","hooks/useFileSystem.ts","utils/serviceWorker.ts","utils/deepClone.ts","hooks/useEditor.ts","state/editor.tsx","components/elements/table/view.tsx","components/elements/text/pdf.tsx","components/elements/text/view.tsx","components/elements/image/pdf.tsx","components/elements/image/view.tsx","components/elements/index.ts","components/documentPDF/index.tsx","components/contextMenu/contextMenu.tsx","components/dialog/dialog.tsx","components/fsTree/index.tsx","state/modal.tsx","components/modal/index.tsx","state/fileSystem.tsx","utils/classnames.ts","components/explorer/explorer.tsx","components/explorer/index.tsx","components/sidebar/sidebar.tsx","components/layout/layout.tsx","pages/dashboard/dashboard.tsx","components/editor/components/block/block.tsx","components/editor/components/border/border.tsx","components/editor/components/image/image.tsx","components/editor/components/table/table.tsx","components/editor/editor.tsx","components/elementControl/index.tsx","components/textSettings/textSettings.tsx","components/page/box.tsx","components/page/index.tsx","pages/document/components/leftPanel.tsx","pages/document/document.tsx","pages/document/index.tsx","routing/routes.tsx","index.tsx","assets/logo.png"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","uploadString","firestore","FILE_SYSTEM_ELEMENT","FOLDER","DOCUMENT","FILE_STATUS","DOCUMENT_IN_PROGRESS","DOCUMENT__DONE","TEMPLATE","ELEMENT","mockFn","documents","collection","FSContext","React","createContext","fsItems","Map","parentForCreateFromTemplate","copiedElement","setParentForCreateFromTemplate","getFolderElementsTreeById","getFolderElementsById","getElement","commit","rename","removeById","createItem","copyItem","pasteItem","FSProvider","_React$PureComponent","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","unsubscribe","id","type","map","element","children","objectSpread","items","forEach","value","isNeededType","parentId","push","get","doc","update","status","data","name","delete","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","newDocument","templateSnapshot","docRef","wrap","_context","prev","next","content","formTemplate","documentId","sent","add","abrupt","t0","Error","stop","_x","setState","_ref2","_callee2","newElement","_context2","_x2","parent","inherits","createClass","key","subscribe","nextProps","_this$state","react_default","createElement","Provider","props","_this2","onSnapshot","querySnapshot","set","PureComponent","getBreadcrumbList","list","item","reverse","_item","path","breadcrumbName","itemRender","route","params","routes","indexOf","react_router_dom","to","Breadcrumb","withRouter","match","useContext","breadcrumb","className","CONTEXT_MENU_ID","menus","icon","currentId","contextMenuMap","_contextMenuMap","defineProperty","getContextMenuId","contextMenu","BlockPDF","style","react_pdf_browser_es","BlockView","BorderPDF","BorderView","DEFAULT_PROPS","DEFAULT_BORDER","getIdFromCellPosition","row","column","baseTableStyles","table","display","flexDirection","border","backgroundColor","fontFamily","fontSize","header","footer","fontWeight","cell","padding","getTableMembers","hasFooter","undefined","_data","toArray","other","slice","pop","body","cellRender","defaultColumnWidth","defaultCellStyle","cellsStyle","CellComponent","changeTable","isActive","isDone","actions","rowIndex","rowsLength","cellType","cellIndex","rowCount","current","columnCount","_getCellStyle","_getCellStyle$colSpan","colSpan","_getCellStyle$style","borderWidth","borderStyle","borderColor","defaultStyle","objectWithoutProperties","defaultBorderStyle","resultStyle","width","isLastRow","isLastColumn","borderBottom","borderRight","getBorderStyle","defaultStyles","StyleSheet","create","TableCell","TablePDF","_props$hasFooter","columnsCount","_props$style","_props$cellsStyle","_getTableMembers","height","render","rows","initialState","open","title","target","useModal","_useState","useState","_useState2","slicedToArray","setModalState","nextState","closeModal","useFileSystem","folderId","_useContext","defaultFolders","filter","isDefault","progress","elements","isLocalhost","Boolean","window","location","hostname","register","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","then","response","contentType","headers","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","deepClone","obj","serialized","JSON","stringify","parse","saveIntervalId","maxX","maxY","removeCallback","removeIndex","_","index","pagesKey","Symbol","useEditorContext","createUseContext","fsElement","fsElementId","pages","setPages","useEffect","document","isArray","setInterval","clearInterval","_useState3","_useState4","activeElement","_setActiveElement","resetActiveElement","isElementActive","_useState5","_useState6","activeId","_setActiveId","addElement","pageIndex","position","zoom","screen","pixelDepth","size","x","y","Date","toString","page","toConsumableArray","changeElement","elementIndex","_useState7","_useState8","showPreview","setShowPreview","_useState9","_useState10","drawerVisible","setDrawerVisible","_useState11","_useState12","preview","setPreview","showPreviewHandler","addPage","deletePage","deleteElement","setActiveElement","addRowToTableElement","insertIndex","columns","splice","addColumnToTableElement","addColSpan","cellId","prevColspan","removeRowFromTableElement","removeColumnFromTableElement","togglePreview","handleChangeText","changeTextStyle","setActiveId","resetActiveId","handleChangeSettings","addImage","input","file","result","onchange","e","reader","FileReader","files","onload","readAsDataURL","click","showDrawer","closeDrawer","isEditable","setIsEditable","toggleEditability","inputRef","useRef","focus","save","ev","es_form","Item","TextArea","ref","autosize","defaultValue","onPressEnter","onBlur","onClick","tooltip","placement","es_button","shape","es_icon","theme","TableView","innerRef","tableStyle","Fragment","TextPDF","TextView","minHeight","onChange","ImagePDF","src","ImageView","background","backgroundSize","textElement","color","imageElement","blockElement","borderElement","tableElement","tableElement1","0-1","1-1","2-1","3-1","4-0","5-0","6-0","tableElement2","4-1","4-5","7-0","7-1","8-0","tableElement3","5-1","6-1","8-1","9-1","10-1","11-1","12-1","13-1","14-0","15-0","16-1","17-1","18-1","18-5","18-7","19-0","20-0","20-1","20-2","20-3","20-4","21-0","21-1","22-0","22-1","23-0","23-1","24-0","24-1","24-3","24-4","25-0","26-0","_elements","control","Font","family","fonts","fontStyle","DocumentPDF","elementKey","top","left","pdf_BlockPDF","pdf_BorderPDF","pdf_TextPDF","pdf_ImagePDF","pdf_TablePDF","ContextMenuConnected","connectMenu","trigger","includes","fileName","es6","menu","selectable","documentPDF_DocumentPDF","blob","url","loading","DialogComponent","bodyStyle","onAction","onClose","modal","visible","onOk","onCancel","getTreeNodeIcon","expanded","icon_default","TreeComponent","onSelect","tree_default","showIcon","switcherIcon","event","node","getTreeNodes","TreeNode","MODAL_MODES","CREATE_FOLDER","CREATE_DOCUMENT","CREATE_DOCUMENT_FROM_TEMPLATE","RENAME_FS_ITEM","useModalContext","setOpen","mode","setMode","setTarget","modalToggle","modalMode","getTitle","Modal","setName","_useModalContext","history","onCreate","isTemplate","pathname","handleOk","autoFocus","hasOwn","hasOwnProperty","getFSElementClasses","classNames","classes","_i","_args","arg","argType","_i2","_Object$keys","keys","join","fs-element","in-progress","Explorer","_useFileSystem","fsActions","_useModal","_useModal2","elementsModal","elementsModalActions","handleFSElement","fsTree_TreeComponent","handleContextMenuActions","table_default","bordered","showHeader","pagination","dataIndex","dataSource","date","handleElementsModalAction","_elementsModal$target","collect","_iconsMap","docMark","folderType","getIcon","menuData","i","dialog_DialogComponent","SidebarComponent","collapsed","setCollapsed","layout","Sider","collapsible","onCollapse","alt","logo","split","letter","text","LayoutComponent","sidebar_SidebarComponent","DashboardPage","layout_LayoutComponent","Header","Content","Footer","popover","zIndex","cover","right","bottom","BlockComponent","displayColorPicker","setDisplayColorPicker","colorActive","setColor","input_number","Chrome_default","onChangeComplete","hex","BorderComponent","styleDefault","ImageComponent","TableComponent","openBorderColor","setBorderColor","EditorComponent","_useEditorContext","block","image_image","table_table","settingsComponents","DND_CONTROL_TYPES","ElementControlComponent","_useDrag","useDrag","drag","settingsContent","TextSettings","react_color_lib","getHeight","innerElement","getBoundingClientRect","getEnableResizing","done","enableResizing","bottomLeft","bottomRight","topLeft","topRight","Box","isActiveText","react_rnd_lib","bounds","stopPropagation","onDoubleClick","disableDragging","onDragStop","onResizeStop","dir","elementRef","delta","_elementRef$getBoundi","textSettings_TextSettings","view_BlockView","view_BorderView","view_TableView","view_ImageView","view_TextView","renderElement","PageComponent","bodyOffset","setBodyOffset","scrollY","setScrollY","listRef","_useDrop","useDrop","accept","drop","monitor","getClientOffset","offsetLeft","offsetTop","didDrop","isOver","isOverCurrent","shallow","_useDrop2","listener","removeEventListener","box","LeftPanel","values","elementControl_ElementControlComponent","DocumentPageComponent","isInProgress","handleAction","goBack","Group","typography","Title","level","code","lib","backend","HTML5Backend","leftPanel_LeftPanel","page_PageComponent","drawer","editor_EditorComponent","DocumentPage","renderLayout","react_router","ReactDOM","context_FSProvider","exact","component","getElementById","module","exports","__webpack_require__","p"],"mappings":"0YAeAA,IAASC,cAVM,CACbC,OAAQ,0CACRC,WAAY,4CACZC,YAAa,mDACbC,UAAW,4BACXC,cAAe,wCACfC,kBAAmB,eACnBC,aAAc,8CAKT,IAAMC,EAAgCT,IAAiBS,YCPjDC,EAAsB,CAAEC,OAHtB,8BAG8BC,SAF5B,iCAyCJC,EAAc,CAAEC,qBAJA,oCAIsBC,eAH5B,8BAG4CC,SAFlD,yBAuBJC,EANA,gBAMAA,EALC,iBAKDA,EAJE,kBAIFA,EAHC,iBAGDA,EAFC,iBCxBRC,EAAc,aAEdC,EAAYV,EAAUW,WAAW,aAE1BC,EAAYC,IAAMC,cAAkC,CAC/DC,QAAS,IAAIC,IACbN,YACAO,4BAA6B,KAC7BC,cAAe,KACfC,+BAAgCV,EAChCW,0BAA2BX,EAC3BY,sBAAuBZ,EACvBa,WAAYb,EACZc,OAAQd,EACRe,OAAQf,EACRgB,WAAYhB,EACZiB,WAAYjB,EACZkB,SAAUlB,EACVmB,UAAWnB,IAGAoB,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAJ,IAAAe,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MACEQ,MAAe,CACbhC,QAAS,IAAIC,IACbC,4BAA6B,KAC7BC,cAAe,MAJnBc,EAOErB,WAAaX,EAAUW,WAAW,WAPpCqB,EA+DYgB,YAA0B,aA/DtChB,EAiEYZ,0BAA4B,SACpC6B,EACAC,GAIA,OAFiBlB,EAAKX,sBAAsB4B,EAAIC,GAEhCC,IAAoB,SAAAC,GAClC,IAAKA,EAAQH,GAAI,OAAOG,EACxB,IAAMC,EAAWrB,EAAKZ,0BAA0BgC,EAAQH,GAAIC,GAC5D,OAAOG,EAASf,OAAS,EAAlBL,OAAAqB,EAAA,EAAArB,CAAA,GAA2BmB,EAA3B,CAAoCC,aAAaD,KA1E9DpB,EA6EYX,sBAAwB,SAChC4B,EACAC,GAEA,IAAMK,EAA6B,GAOnC,OALAvB,EAAKe,MAAMhC,QAAQyC,QAAQ,SAAAC,GACzB,IAAMC,GAAgBR,GAASA,GAAQO,EAAMP,OAASA,EAClDO,EAAME,WAAaV,GAAMS,GAAcH,EAAMK,KAAN3B,OAAAqB,EAAA,EAAArB,CAAA,GAAgBwB,MAGtDF,GAxFXvB,EA0FYV,WAAa,SAAC2B,GACtB,OAAKA,GAEWjB,EAAKe,MAAMhC,QAAQ8C,IAAIZ,IAFvB,MA3FpBjB,EAiGYT,OAAS,SAAC0B,GAClB,OAAOjB,EAAKrB,WAAWmD,IAAIb,GAAIc,OAAO,CAAEC,OAAQ5D,EAAYE,kBAlGhE0B,EAoGYR,OAAS,SAACyC,GAClB,OAAOjC,EAAKrB,WAAWmD,IAAIG,EAAKhB,IAAIc,OAAO,CAAEG,KAAMD,EAAKC,QArG5DlC,EAuGYP,WAAa,SAACwB,GACtB,OAAOjB,EAAKrB,WAAWmD,IAAIb,GAAIkB,UAxGnCnC,EA0GYN,WA1GZ,eAAA0C,EAAAnC,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KA0GyB,SAAAC,EAAOR,GAAP,IAAAS,EAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,EAEfd,EAAKf,OAASjD,EAAoBE,SAFnB,CAAA2E,EAAAE,KAAA,YAGbN,EAAwB,CAC1BR,KAAMD,EAAKC,KACXe,QAAS,SAGPhB,EAAKiB,aARQ,CAAAJ,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EASgBtE,EAAUoD,IAAIG,EAAKkB,YAAYtB,MAT/C,OASTc,EATSG,EAAAM,MAUfV,EAAcC,EAAiBV,QACnBC,KAAOD,EAAKC,KAXT,cAAAY,EAAAE,KAAA,GAcItE,EAAU2E,IAAIX,GAdlB,QAcXE,EAdWE,EAAAM,KAejBnB,EAAKkB,WAAaP,EAAO3B,GAfR,eAAA6B,EAAAE,KAAA,GAkBNhD,EAAKrB,WAAW0E,IAAIpB,GAlBd,eAAAa,EAAAQ,OAAA,SAAAR,EAAAM,MAAA,cAAAN,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAoBbU,MAAM,uBAAAV,EAAAS,IApBO,yBAAAT,EAAAW,SAAAhB,EAAA,kBA1GzB,gBAAAiB,GAAA,OAAAtB,EAAAvB,MAAAV,KAAAE,YAAA,GAAAL,EAiIYL,SAAW,SAACsC,GACpBjC,EAAK2D,SAAS,CAAEzE,cAAe+C,KAlInCjC,EAoIYJ,UApIZ,eAAAgE,EAAA3D,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KAoIwB,SAAAqB,EAAOlC,GAAP,IAAAzC,EAAA4E,EAAAlB,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,UACZ9D,EAAkBc,EAAKe,MAAvB7B,cADY,CAAA6E,EAAAf,KAAA,eAAAe,EAAAT,OAAA,wBAIdQ,EAJc7D,OAAAqB,EAAA,EAAArB,CAAA,GAKff,EALe,CAMlByC,aAGEzC,EAAcyC,WAAaA,IAC7BmC,EAAW5B,KAAX,QAAApB,OAA0BgD,EAAW5B,OAGnC4B,EAAW5C,OAASjD,EAAoBE,WACtC2F,EAAW9B,SAAW5D,EAAYE,iBACpCwF,EAAW9B,OAAS5D,EAAYC,sBAGlCyF,EAAWZ,cAAe,GAlBRa,EAAAf,KAAA,EAqBChD,EAAKN,WAAWoE,GArBjB,cAqBdlB,EArBcmB,EAAAX,KAuBpBpD,EAAK2D,SAAS,CAAEzE,cAAe,OAvBX6E,EAAAT,OAAA,SAyBbV,GAzBa,yBAAAmB,EAAAN,SAAAI,MApIxB,gBAAAG,GAAA,OAAAJ,EAAA/C,MAAAV,KAAAE,YAAA,GAAAL,EA+JYb,+BAAiC,SAAC8E,GAC1CjE,EAAK2D,SAAS,CAAE1E,4BAA6BgF,KAhKjDjE,EAAA,OAAAC,OAAAiE,EAAA,EAAAjE,CAAAJ,EAAAC,GAAAG,OAAAkE,EAAA,EAAAlE,CAAAJ,EAAA,EAAAuE,IAAA,oBAAA3C,MAAA,WAUItB,KAAKkE,cAVT,CAAAD,IAAA,4BAAA3C,MAAA,SAa4B6C,GACxBnE,KAAKkE,cAdT,CAAAD,IAAA,uBAAA3C,MAAA,WAkBItB,KAAKa,gBAlBT,CAAAoD,IAAA,SAAA3C,MAAA,WAqBW,IAAA8C,EACyDpE,KAAKY,MAA7DhC,EADDwF,EACCxF,QAASG,EADVqF,EACUrF,cAAeD,EADzBsF,EACyBtF,4BAEhC,OACEuF,EAAAjC,EAAAkC,cAAC7F,EAAU8F,SAAX,CACEjD,MAAO,CACL1C,UACAL,YACAQ,gBACAD,8BACAE,+BAAgCgB,KAAKhB,+BACrCC,0BAA2Be,KAAKf,0BAChCC,sBAAuBc,KAAKd,sBAC5BC,WAAYa,KAAKb,WACjBC,OAAQY,KAAKZ,OACbC,OAAQW,KAAKX,OACbG,SAAUQ,KAAKR,SACfD,WAAYS,KAAKT,WACjBE,UAAWO,KAAKP,UAChBH,WAAYU,KAAKV,aAGlBU,KAAKwE,MAAMtD,YA3CpB,CAAA+C,IAAA,YAAA3C,MAAA,WAgDwB,IAAAmD,EAAAzE,KACpBA,KAAKa,cACLb,KAAKa,YAAcb,KAAKxB,WAAWkG,WAAW,SAAAC,GAC5C,IAAM3D,EAAM,IAAInC,IAGhB8F,EAActD,QAAQ,SAAAM,GACpB,IAAMG,EAA0BH,EAAIG,OACpCA,EAAKhB,GAAKa,EAAIb,GACdE,EAAI4D,IAAIjD,EAAIb,GAAIgB,KAElB2C,EAAKjB,SAAS,CAAE5E,QAASoC,UA3D/BtB,EAAA,CAAgChB,IAAMmG,sBC5BtC,SAASC,EAAkBN,GAKzB,IAJA,IAAMO,EAAgB,GAElBC,EAAOR,EAAM5F,QAAQ8C,IAAI8C,EAAM1D,MAE1B,CACP,IAAKkE,EAAM,CACTD,EAAKE,UACL,MAHK,IAAAC,EAMwBF,EAAvBlE,EANDoE,EAMCpE,GAAIiB,EANLmD,EAMKnD,KAAMP,EANX0D,EAMW1D,SAElBuD,EAAKtD,KAAK,CACR0D,KAAI,cAAAxE,OAAgBG,GACpBsE,eAAgBrD,EAChBb,SAAU,KAGZ8D,EAAOR,EAAM5F,QAAQ8C,IAAIF,GAG3B,OAAOuD,EAGT,SAASM,EAAWC,EAAcC,EAAaC,GAG7C,OAFeA,EAAOC,QAAQH,KAAWE,EAAOrF,OAAS,EAGvDkE,EAAAjC,EAAAkC,cAAA,YAAOgB,EAAMF,gBAEbf,EAAAjC,EAAAkC,cAACoB,EAAA,EAAD,CAAMC,GAAIL,EAAMH,MAAOG,EAAMF,gBCjE1B,MAAMQ,EAAaC,YDYwB,SAAArB,GAAS,IAEnD1D,EADY0D,EAAVsB,MACWP,OAAbzE,GAENA,EAAKA,GAAM,OAJ8C,IAMjDlC,EAAYmH,qBAAWtH,GAAvBG,QAER,OACEyF,EAAAjC,EAAAkC,cAAA0B,EAAA,GACEC,UAAU,aACVZ,WAAYA,EACZG,OAAQV,EAAkB,CAAElG,UAASkC,gFErB9BoF,EAJI,WAIJA,EAHI,WAmFJC,EAAQ,CACnB,CACErE,KA5Ea,CACf,CACEC,KAAM,aACNT,MAAO,aACP8E,KAAM,cAER,CACErE,KAAM,WACNT,MAAO,WACP8E,KAAM,YAER,CACErE,KAAM,OACNT,MAAO,OACP8E,KAAM,YA+DNC,UAvFa,YAyFf,CACEvE,KA9Da,CACf,CACEC,KAAM,OACNT,MAAO,gBACP8E,KAAM,QAER,CACErE,KAAM,OACNT,MAAO,OACP8E,KAAM,eAER,CACErE,KAAM,WACNT,MAAO,WACP8E,KAAM,kBAER,CACErE,KAAM,OACNT,MAAO,OACP8E,KAAM,QAER,CACErE,KAAM,SACNT,MAAO,SACP8E,KAAM,aAER,CACErE,KAAM,SACNT,MAAO,SACP8E,KAAM,QAER,CACErE,KAAM,SACNT,MAAO,SACP8E,KAAM,WA6BNC,UA1Fa,YA4Ff,CACEvE,KA5BW,CACb,CACEC,KAAM,OACNT,MAAO,OACP8E,KAAM,QAER,CACErE,KAAM,SACNT,MAAO,SACP8E,KAAM,QAER,CACErE,KAAM,SACNT,MAAO,SACP8E,KAAM,WAeNC,UA7FW,WAiGTC,GAAcC,EAAA,GAAAzG,OAAA0G,EAAA,EAAA1G,CAAAyG,EACjBzI,EAAoBC,OAlGR,UAiGK+B,OAAA0G,EAAA,EAAA1G,CAAAyG,EAEjBzI,EAAoBE,SApGN,YAkGGuI,GAKPE,EAAmB,SAAC1F,GAC/B,IAAM2F,EAAcJ,EAAevF,GAEnC,GAAI2F,EAAa,OAAOA,EAExB,MAAM,IAAIrD,MAAM,6BAA+BtC,gDCzG3C4F,GAA2B,SAAAnC,GAAS,IAChCoC,EAAUpC,EAAVoC,MACR,OAAOvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOA,KCFhBE,WAA4B,SAAAtC,GAAS,IACjCoC,EAAUpC,EAAVoC,MACR,OAAOvC,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,gBAAgBW,MAAOA,MCFzCG,GAA6B,SAAAvC,GAAS,IAClCoC,EAAUpC,EAAVoC,MACR,OAAOvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOA,KCFhBI,WAA8B,SAAAxC,GAAS,IACnCoC,EAAUpC,EAAVoC,MACR,OAAOvC,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,iBAAiBW,MAAOA,gBCc1CK,GACO,GADPA,GAEa,OAFbA,GAGW,OAHXA,GAIa,OAJbA,GAKU,UALVA,GAMU,MANVA,GAOU,OAPVA,GAQU,QAGVC,GAAc,GAAAvG,OAAMsG,GAAN,KAAAtG,OAAoCsG,GAApC,KAAAtG,OAClBsG,IAQWE,GAAwB,SAAAlF,GAAA,IAAGmF,EAAHnF,EAAGmF,IAAKC,EAARpF,EAAQoF,OAAR,SAAA1G,OAChCyG,GADgCzG,OAtBN,KAsBMA,OACD0G,IAqBvBC,GAAkB,CAC7BC,MAAO,CACLC,QAAS,OACTC,cAAe,SACfC,OAAQR,GACRS,gBAAiBV,GACjBW,WAAY,SACZC,SAAUZ,IAEZa,OAAQ,CACNN,QAAS,OACTC,cAAe,MACfE,gBAAiBV,IAEnBc,OAAQ,CACNP,QAAS,OACTC,cAAe,MACfE,gBAAiBV,GACjBe,WAAY,QAEdZ,IAAK,CACHI,QAAS,OACTC,cAAe,OAEjBQ,KAAM,CACJT,QAAS,OACTU,QAASjB,KAIAkB,GAAkB,SAACrG,GAA+D,IAA7CsG,EAA6ClI,UAAAC,OAAA,QAAAkI,IAAAnI,UAAA,IAAAA,UAAA,GAAAoI,EAAAxI,OAAAyI,GAAA,EAAAzI,CAClEgC,GAApBgG,EADsFQ,EAAA,GAC3EE,EAD2EF,EAAAG,MAAA,GAEvFV,EAAmBK,GAAYI,EAAME,OAAc,GAEzD,MAAO,CAAEZ,SAAQa,KAAMH,EAAOT,WAGnBa,GAAa,SACxBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GARwB,OAYrB,SAACtH,EAAgBuH,EAAkBC,EAAoBC,GAAvD,OAA8E,SACjFtB,EACAuB,GAEA,IAAMC,EAAkB,CAAEC,QAASL,EAAUlJ,OAAQmJ,GAC/CK,EAAqB,CAAED,QAASF,EAAWrJ,OAAQ2B,EAAK3B,QAF3DyJ,EAODb,EA7ES5B,GAAsB,CAAEC,IA2EjCiC,GAAyB,SAAbE,EAAsB,EAAI,GA3EAlC,OA4EtCmC,MA1Ec,GAoEbK,EAAAD,EAIKE,eAJL,IAAAD,EAIe,EAJfA,EAAAE,EAAAH,EAIkBhD,aAJlB,IAAAmD,EAI0B,GAJ1BA,EAUKC,EAA2DlB,EAA3DkB,YAAaC,EAA8CnB,EAA9CmB,YAAaC,EAAiCpB,EAAjCoB,YAAgBC,EAV/CrK,OAAAsK,EAAA,EAAAtK,CAUgEgJ,EAVhE,6CAYGuB,EAAkB,GAAA1J,OAAMqJ,GAAe/C,GAArB,KAAAtG,OAAmDsJ,GACzEhD,GADsB,KAAAtG,OACQuJ,GAAejD,IAEzCqD,EAAWxK,OAAAqB,EAAA,EAAArB,CAAA,CACfyK,MAAK,GAAA5J,OAAKkI,EAAqBiB,EAA1B,MACFK,EAlFgB,SAAC/C,EAAYC,EAAeT,GACjDA,EAAQA,GAASM,GACjB,IAAMQ,EAAuB,GAEvB8C,EAAYpD,EAAIsC,QAAU,IAAMtC,EAAIjH,OACpCsK,EAAepD,EAAOqC,QAAU,IAAMrC,EAAOlH,OAKnD,OAHKqK,IAAW9C,EAAOgD,aAAe9D,GACjC6D,IAAc/C,EAAOiD,YAAc/D,GAEjCc,EAyEFkD,CAAenB,EAAUE,EAAaU,GACtCzD,GAkBL,OAdEvC,EAAAjC,EAAAkC,cAAC0E,EAAD,CACE/E,IAAKuF,EACL5C,MAAO0D,EACPhJ,MAAO2G,EACPiB,SAAUA,EACVC,OAAQA,EACR/B,IAAKqC,EAASC,SAAwB,SAAbH,EAAsB,EAAI,GACnDlC,OAAQsC,EAAYD,QACpBH,SAAUA,EACVN,YAAaA,EACbG,QAASA,OC7ITyB,GAAqBC,KAAWC,OAAOzD,IAEvC0D,GAA2B,SAAAxG,GAAS,IAChClD,EAAiBkD,EAAjBlD,MAAOsF,EAAUpC,EAAVoC,MAEf,OACEvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOA,GAEXvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,KAAOvF,KAKP2J,GAA2B,SAAAzG,GAAS,IAChC1C,EAAuE0C,EAAvE1C,KADgCoJ,EACuC1G,EAAjE4D,iBAD0B,IAAA8C,KACPC,EAA8C3G,EAA9C2G,aADOC,EACuC5G,EAAhCoC,aADP,IAAAwE,EACe,GADfA,EAAAC,EACuC7G,EAApBuE,kBADnB,IAAAsC,EACgC,GADhCA,EAAAC,EAEPnD,GAAgBrG,EAAMsG,GAA/CN,EAFgCwD,EAEhCxD,OAAQa,EAFwB2C,EAExB3C,KAAMZ,EAFkBuD,EAElBvD,OAEhBc,EAAqB,IAAMsC,EAC3BI,EAASzJ,EAAK3B,OAEdqL,EAAS5C,GACbC,EADuB/I,OAAAqB,EAAA,EAAArB,CAAA,GAGlB+K,GAAc5C,KAHI,CAIrB+B,YAAapD,EAAMoD,YACnBC,YAAarD,EAAMqD,YACnBC,YAAatD,EAAMsD,cAGrBnB,EACAiC,IAGF,OACE3G,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAK9G,OAAAqB,EAAA,EAAArB,CAAA,GAAO+K,GAActD,MAAUX,IACxCvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOiE,GAAc/C,QAASA,EAAO9G,IAAIwK,EAAO1D,EAAQ,EAAGyD,EAAQ,YAExE5C,EAAK3H,IAAI,SAACyK,EAAMpC,GAAP,OACRhF,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAK9G,OAAAqB,EAAA,EAAArB,CAAA,GAAO+K,GAAczD,IAArB,CAA0BmE,OAAQ,KAAMtH,IAAKoF,GACrDoC,EAAKzK,IAAIwK,EAAOC,EAAMpC,EAAUkC,EAAQ,YAI5CxD,EAAO5H,OACNkE,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOiE,GAAc9C,QACxBA,EAAO/G,IAAIwK,EAAOzD,EAAQwD,EAAS,EAAGA,EAAQ,YAE/C,2FCzCJG,GAAgC,CACpCC,MAAM,EACNC,MAAO,GACPC,OAAQ,KACR/I,QAAS,MAGJ,SAASgJ,KAAgD,IAAAC,EACpCC,mBAAwBN,IADYO,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GACvDnL,EADuDqL,EAAA,GAChDzI,EADgDyI,EAAA,GAW9D,MAAO,CACLrL,EACA,CACEuL,cAXkB,SAACC,GACrB5I,EAAS4I,IAWPC,WARe,WACjB7I,EAAS1D,OAAAqB,EAAA,EAAArB,CAAA,GAAK4L,QCvBX,SAASY,GAAcC,GAAoB,IAAAC,EAClBzG,qBAAWtH,GAArB+J,GAD4BgE,EACxC5N,QADwCkB,OAAAsK,EAAA,EAAAtK,CAAA0M,EAAA,cAG1CpL,EAAQoH,EAAMtJ,sBAAsBqN,GAEpCE,EAAiBrL,EAAMsL,OAAO,SAAA1H,GAAI,OAAIA,EAAK2H,YAC3CC,EAAWxL,EAAMsL,OAAO,SAAA1H,GAAI,OAAIA,EAAKnD,SAAW5D,EAAYC,uBAC5DyK,EAAOvH,EAAMsL,OACjB,SAAA1H,GAAI,OAAIA,EAAKnD,SAAW5D,EAAYC,uBAAyB8G,EAAK2H,YAGpE,OAAO7M,OAAAqB,EAAA,EAAArB,CAAA,CACLsB,QACAyL,SAAU,CAACJ,EAAgBG,EAAUjE,IAClCH,iBCRDsE,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASpH,MAAM,2DAQ5B,SAASqH,GAASC,GACvB,GAA6C,kBAAmBC,UAAW,CAMzE,GAJkB,IAAIC,IACnBC,aACDP,OAAOC,SAASO,MAEJC,SAAWT,OAAOC,SAASQ,OAIvC,OAGFT,OAAOU,iBAAiB,OAAQ,WAC9B,IAAMC,EAAK,GAAAhN,OAAM4M,aAAN,sBAEPT,KAoEV,SAAiCa,EAAeP,GAE9CQ,MAAMD,GACHE,KAAK,SAAAC,GAEJ,IAAMC,EAAcD,EAASE,QAAQtM,IAAI,gBAEnB,MAApBoM,EAASjM,QACO,MAAfkM,IAA8D,IAAvCA,EAAYtI,QAAQ,cAG5C4H,UAAUY,cAAcC,MAAML,KAAK,SAAAM,GACjCA,EAAaC,aAAaP,KAAK,WAC7Bb,OAAOC,SAASoB,aAKpBC,GAAgBX,EAAOP,KAG1BmB,MAAM,WAELC,QAAQC,IAAI,mEAzFVC,CAAwBf,EAAOP,GAI/BC,UAAUY,cAAcC,MAAML,KAAK,WAEjCW,QAAQC,IACN,+GAMJH,GAAgBX,EAAOP,MAM/B,SAASkB,GAAgBX,EAAeP,GACtCC,UAAUY,cACPd,SAASQ,GACTE,KAAK,SAAAM,GACJA,EAAaQ,cAAgB,WAC3B,IAAMC,EAAmBT,EAAaU,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBhO,QACfyM,UAAUY,cAAcc,YAK1BP,QAAQC,IACN,gHAKErB,GAAUA,EAAO4B,UACnB5B,EAAO4B,SAASb,KAOlBK,QAAQC,IAAI,sCAGRrB,GAAUA,EAAO6B,WACnB7B,EAAO6B,UAAUd,UAO5BI,MAAM,SAAAW,GAELV,QAAQU,MAAM,4CAA6CA,KA+B1D,SAASd,KACV,kBAAmBf,WACrBA,UAAUY,cAAcC,MAAML,KAAK,SAAAM,GACjCA,EAAaC,eC5IZ,SAASe,GAAaC,GAC3B,GAAmB,kBAARA,EAAkB,MAAM/L,MAAM,qBAAuB+L,GAEhE,IAAMC,EAAqBC,KAAKC,UAAUH,GAE1C,IACE,OAAOE,KAAKE,MAAMH,GAClB,MAAOH,GACP,MAAM7L,MAAM,uBAAyB6L,ICazC,IAiFIO,GAjFEC,GAAe,OACfC,GAAe,OAEfC,GAAiB,SAACC,GAAD,OAAyB,SAACC,EAAQC,GAAT,OAA2BA,IAAUF,IAgF/EG,GAAWC,OAAO,SCpGjB,OAAMC,GAAmBC,aDsGzB,SAAmB3L,GAAiC,IAAAgI,EACvBzG,qBAAWtH,GAArCU,EADiDqN,EACjDrN,WAAYZ,EADqCiO,EACrCjO,UACd6R,EAAYjR,EAAWqF,EAAM6L,aAE7BlH,IAAWiH,GAAaA,EAAUvO,SAAW5D,EAAYE,eAJN4N,EAM/BC,mBAAyB,CAAC,KANKC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAMlDuE,EANkDrE,EAAA,GAM3CsE,EAN2CtE,EAAA,GASxDe,OAAegD,IAAYM,EAE5BE,oBAAU,WACR,GAAKJ,EAAL,CAEA,IAAMvP,EAActC,EAAUoD,IAAIyO,EAAUpN,YAAY0B,WAAW,SAAAC,GACjE6J,QAAQC,IAAI,aACZ,IAAMgC,EAAW9L,EAAc7C,OACzBgB,EAA0BwM,KAAKE,MAAMiB,EAAS3N,SAChDzC,MAAMqQ,QAAQ5N,IAAUyN,EAASzN,KASvC,OANA2M,GAAiBkB,YAAY,WAC3B,IAAM7N,EAAUwM,KAAKC,UAAWvC,OAAegD,KAC/CzR,EAAUoD,IAAIyO,EAAUpN,YAAYpB,OAAO,CAAEkB,YAC7C0L,QAAQC,IAAI,yBACX,KAEI,WACL5N,IACA+P,cAAcnB,IACdjB,QAAQC,IAAI,kBAEb,CAAC2B,EAAW7R,IAEf,IAlCyDsS,EAyCd7E,mBAA8B,MAzChB8E,EAAAhR,OAAAoM,EAAA,EAAApM,CAAA+Q,EAAA,GAyClDE,EAzCkDD,EAAA,GAyCnCE,EAzCmCF,EAAA,GA2CnDG,EAAqB,kBAAMD,EAAkB,OAC7CE,EAAkB,SAACjQ,GACvB,QAAS8P,GAAiBA,EAAcjQ,KAAOG,EAAQH,IA7CAqQ,EAuDxBnF,mBAA8C,MAvDtBoF,EAAAtR,OAAAoM,EAAA,EAAApM,CAAAqR,EAAA,GAuDlDE,EAvDkDD,EAAA,GAuDxCE,EAvDwCF,EAAA,GA4DnDG,EAAa,SAACC,EAAmBzQ,EAAmB0Q,EAAoBnQ,GAC5E,IAAML,EAAUkO,GAAwBtC,GAAS9L,GAAME,SACvD,IAAKA,EAAS,MAAM,IAAIoC,MAAM,yBAA2BtC,GACzD,IAAM2Q,EAAa1E,OAAO2E,OAAOC,WAAa,GAAM,EAC5CC,EAAS5Q,EAAT4Q,KACFC,EAAIpC,GAAO+B,EAASK,EAAID,EAAKtH,MAAQmF,GAAOmC,EAAKtH,MAAQkH,EAASK,EAAIJ,EACtEK,EAAIpC,GAAO8B,EAASM,EAAIF,EAAKtG,OAASoE,GAAOkC,EAAKtG,OAASkG,EAASM,EAAIL,EAC9EzQ,EAAQwQ,SAAW,CAAEK,IAAGC,KACxB9Q,EAAQH,GAAR,IAAAH,SAAmB,IAAIqR,MAAQC,SAAS,KACpC3Q,GAAS,UAAWL,IACtBA,EAAQK,MAAQA,GAGlB,IAAM4Q,EAAqB5B,EAAMkB,GACjClB,EAAMkB,GAAN,GAAA7Q,OAAAb,OAAAqS,GAAA,EAAArS,CAAuBoS,GAAvB,CAA6BjR,IAC7BsP,EAASzQ,OAAAqS,GAAA,EAAArS,CAAIwQ,KAQT8B,EAAgB,SAACZ,EAAmBa,EAAsBpR,GAC9DqP,EAAMkB,GAAWa,GAAjBvS,OAAAqB,EAAA,EAAArB,CAAA,GAAsCmB,GACtCsP,EAASzQ,OAAAqS,GAAA,EAAArS,CAAIwQ,KArF0CgC,EAmOnBtG,oBAAS,GAnOUuG,EAAAzS,OAAAoM,EAAA,EAAApM,CAAAwS,EAAA,GAmOlDE,EAnOkDD,EAAA,GAmOrCE,EAnOqCF,EAAA,GAAAG,EAuOf1G,oBAAS,GAvOM2G,EAAA7S,OAAAoM,EAAA,EAAApM,CAAA4S,EAAA,GAuOlDE,EAvOkDD,EAAA,GAuOnCE,EAvOmCF,EAAA,GAAAG,EA2O3B9G,oBAAS,GA3OkB+G,EAAAjT,OAAAoM,EAAA,EAAApM,CAAAgT,EAAA,GA2OlDE,EA3OkDD,EAAA,GA2OzCE,EA3OyCF,EAAA,GA8OzD,MAAO,CACLtC,SAAUL,EACViB,WACAN,gBACAT,QACAnH,SACA6J,UACAR,cACAI,gBACAxJ,QAAS,CACP8J,mBAZuB,kBAAMD,GAAYD,IAazCG,QAvNY,kBAAM5C,EAAQ,GAAA5P,OAAAb,OAAAqS,GAAA,EAAArS,CAAKwQ,GAAL,CAAY,OAwNtC8C,WAtNe,SAAC5B,GAClBjB,EAASD,EAAM5D,OAAOkD,GAAe4B,MAsNnCD,aACAa,gBACAiB,cA/KkB,SAAC7B,EAAmBa,GACxC/B,EAAMkB,GAAalB,EAAMkB,GAAW9E,OAAOkD,GAAeyC,IAC1D9B,EAASzQ,OAAAqS,GAAA,EAAArS,CAAIwQ,KA8KXgD,iBA/MqB,SAACrS,GACpBiQ,EAAgBjQ,GAClBgQ,IAEAD,EAAkB/P,IA4MlBgQ,qBACAC,kBACAqC,qBAzKyB,SAAC/B,EAAmBa,EAAsBpR,GAA0B,IACvFa,EAAoBb,EAApBa,KAAMsG,EAAcnH,EAAdmH,UACRoL,EAAsB1R,EAAK3B,QAAUiI,EAAY,EAAI,GACrDqL,EAAU3R,EAAK0R,GAAaxS,IAAI,SAAA8O,GAAC,MAAI,SAC3C7O,EAAQa,KAAK4R,OAAOF,EAAa,EAAGC,GACpCrB,EAAcZ,EAAWa,EAAcpR,IAqKrC0S,wBAlK4B,SAC9BnC,EACAa,EACApR,GACG,IACKa,EAASb,EAATa,KACRb,EAAQa,KAAOA,EAAKd,IAAI,SAAAkR,GAAI,SAAAvR,OAAAb,OAAAqS,GAAA,EAAArS,CAAQoS,GAAR,CAAc,WAC1CE,EAAcZ,EAAWa,EAAcpR,IA4JrC2S,WAzJe,SACjBpC,EACAa,EACApR,EACAmG,EACAC,GAEA,IAAKpG,EAAQ8H,WACX,MAAM,IAAI1F,MAAM,oCAGlB,IAAMvB,EAAOqN,GAAUlO,EAAQa,MAC/BA,EAAKsF,GAAKsM,OAAOrM,EAAS,EAAG,GAE7B,IAAMwM,EAAS1M,GAAsB,CAAEC,MAAKC,WAC5CpG,EAAQ8H,WAAW8K,GAAU5S,EAAQ8H,WAAW8K,IAAW,GAC3D,IAAMC,EAAc7S,EAAQ8H,WAAW8K,GAAQ/J,SAAW,EAE1D7I,EAAQ8H,WAAW8K,GAAU,CAC3B/J,QAASgK,EAAc,EACvBlN,MAAM9G,OAAAqB,EAAA,EAAArB,CAAA,GACDmB,EAAQ8H,WAAW8K,GAAQjN,QAIlC3F,EAAQa,KAAOA,EAEfsQ,EAAcZ,EAAWa,EAAcpR,IA+HrC8S,0BA5H8B,SAChCvC,EACAa,EACApR,EACAmG,GAEA,IAAMtF,EAAOqN,GAAUlO,EAAQa,MAC/BA,EAAK4R,OAAOtM,EAAK,GACjBnG,EAAQa,KAAOA,EACfsQ,EAAcZ,EAAWa,EAAcpR,IAoHrC+S,6BAjHiC,SACnCxC,EACAa,EACApR,EACAoG,GAEA,IAAMvF,EAAOqN,GAAUlO,EAAQa,MAC/BA,EAAKT,QAAQ,SAAA+F,GAAG,OAAIA,EAAIsM,OAAOrM,EAAQ,KACvCpG,EAAQa,KAAOA,EACfsQ,EAAcZ,EAAWa,EAAcpR,IAyGrCgT,cAjCkB,kBAAMxB,GAAgBD,IAkCxC0B,iBAvGqB,SACvB1C,EACAa,EACA/Q,EACAL,GAEAA,EAAQK,MAAQA,EAChB8Q,EAAcZ,EAAWa,EAAcpR,IAiGrCkT,gBA9FoB,SACtB3C,EACAa,EACAzL,EACAtF,EACAL,GAE6B,cAAzBA,EAAQ2F,MAAMA,KAChBtF,EAAQ,QAEmB,WAAzBL,EAAQ2F,MAAMA,KAChBtF,EAAQ,UAEmB,SAAzBL,EAAQ2F,MAAMA,KAChBtF,EAAQ,UAEI,aAAVsF,IACFtF,EAAK,GAAAX,OAAMW,EAAN,OAGPL,EAAQ2F,MAAMA,GAAStF,EACvB8Q,EAAcZ,EAAWa,EAAcpR,IA0ErCmT,YAhNgB,SAAClC,EAAcpR,GAAf,OAA8BwQ,EAAa,CAAEY,OAAMpR,QAiNnEuT,cAhNkB,kBAAM/C,EAAa,OAiNrCgD,qBAzEyB,SAC3B9C,EACAa,EACAzL,EACAtF,EACAP,GAEA,IAAME,EAAekO,GAAU4B,GAC/B9P,EAAQF,GAAM6F,GAAStF,EACvB8Q,EAAcZ,EAAWa,EAAcpR,IAiErCsT,SA9Da,SAAC/C,EAAmBzQ,EAAmB0Q,GACtD,IAAM+C,EAAQ/D,SAASnM,cAAc,SACrCkQ,EAAMzT,KAAO,OAEb,IAAI0T,EAAY,GACZC,EAAiB,GAErBF,EAAMG,SAAW,SAACC,GAChB,IAAMC,EAAS,IAAIC,WAEnBL,EAAOG,EAAE/I,OAAOkJ,MAAM,GAEtBF,EAAOG,OAAS,SAAS5S,GACvBsS,EAAStS,EAAEyJ,OAAO6I,OAClBnD,EAAWC,EAAWzQ,EAAM0Q,EAAUiD,IAExCG,EAAOI,cAAcR,IAEvBD,EAAMU,SA6CJC,WArCe,kBAAMtC,GAAiB,IAsCtCuC,YArCgB,kBAAMvC,GAAiB,QEzTvChI,WAAqBvD,IAErB0D,GAA2B,SAAAxG,GAAS,IAChCwO,EAAY9C,KAAZ8C,QACA1R,EAAuEkD,EAAvElD,MAAOsF,EAAgEpC,EAAhEoC,MAAOsC,EAAyD1E,EAAzD0E,SAAUC,EAA+C3E,EAA/C2E,OAAQ/B,EAAuC5C,EAAvC4C,IAAKC,EAAkC7C,EAAlC6C,OAAQ4B,EAA0BzE,EAA1ByE,YAAaM,EAAa/E,EAAb+E,SAF1BwC,EAGJC,oBAAS,GAHLC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAGjCsJ,EAHiCpJ,EAAA,GAGrBqJ,EAHqBrJ,EAAA,GAIlCsJ,EAAoB,kBAAMD,GAAeD,IAEzCG,EAAWC,mBAEjBjF,oBAAU,WACJ6E,GAAcG,GAAYA,EAAS9L,SACrC8L,EAAS9L,QAAQgM,SAElB,CAACL,IAEJ,IAIMM,EAAO,SAACC,GACR3M,GAAaA,EAAY7B,EAAKC,EAAQuO,EAAG/J,OAAOvK,OACpDiU,KAGItP,EAAyB,WAAbsD,EAAwB,mBAAqB,OAY/D,OAAO8L,EACLhR,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAWA,EAAWW,MAAOA,GAChCvC,EAAAjC,EAAAkC,cAAAuR,GAAA,EAAMC,KAAN,CAAW7P,UAAU,cACnB5B,EAAAjC,EAAAkC,cAAAkQ,GAAA,EAAOuB,SAAP,CACEC,IAAKR,EACLS,UAAU,EACVC,aAAc5U,EACd6U,aAAcR,EACdS,OAAQT,MAKdtR,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAWA,EAAWW,MAAOA,EAAwByP,QAlC5C,WACVnN,IAAaC,GAAQoM,MAkCT,WAAbhM,IAA0ByJ,IAAY7J,GACrC9E,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,kBACb5B,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASC,UAAU,MAAM3K,MAAM,iBAC7BvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQzV,KAAK,SAASqF,KAAK,QAAQyL,KAAK,QAAQ4E,MAAM,SAASJ,QA3BpD,WACd7R,EAAM4E,SACX5E,EAAM4E,QAAQ4K,6BAA6B3M,SA6BvC2L,IAAY7J,GACZ9E,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,gBACb5B,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASC,UAAU,MAAM3K,MAAM,0BAC7BvH,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,eAAe4V,MAAM,SAASN,QA7BhC,WACZ7R,EAAM4E,SACX5E,EAAM4E,QAAQwK,WAAWxM,EAAKC,QA+B5BhD,EAAAjC,EAAAkC,cAAA,YAAOhD,KAKPsV,GAAgC,SAAApS,GAAS,IAE3C1C,EAWE0C,EAXF1C,KACAqJ,EAUE3G,EAVF2G,aAH2CD,EAazC1G,EATF4D,iBAJ2C,IAAA8C,KAAAE,EAazC5G,EARFoC,aAL2C,IAAAwE,EAKnC,GALmCA,EAAAC,EAazC7G,EAPFuE,kBAN2C,IAAAsC,EAM9B,GAN8BA,EAO3CwL,EAMErS,EANFqS,SACA5N,EAKEzE,EALFyE,YACAG,EAIE5E,EAJF4E,QACAF,EAGE1E,EAHF0E,SACAC,EAEE3E,EAFF2E,OACA6J,EACExO,EADFwO,QAZ2C1H,EAeZnD,GAAgBrG,EAAMsG,GAA/CN,EAfqCwD,EAerCxD,OAAQa,EAf6B2C,EAe7B3C,KAAMZ,EAfuBuD,EAevBvD,OAEhBc,EAAqB,IAAMsC,EAC3BI,EAASzJ,EAAK3B,OAEdqL,EAAS5C,GACbC,EADuB/I,OAAAqB,EAAA,EAAArB,CAAA,GAGlB+K,GAAc5C,KAHI,CAIrB+B,YAAapD,EAAMoD,YACnBC,YAAarD,EAAMqD,YACnBC,YAAatD,EAAMsD,cAGrBnB,EACAiC,GACA/B,EACAC,EACAC,EACAC,GAGE0N,EAAUhX,OAAAqB,EAAA,EAAArB,CAAA,GAAQ+K,GAActD,MAAUX,GAG9C,OAFAkQ,EAAUhX,OAAAqB,EAAA,EAAArB,CAAA,GAAQgX,EAAR,CAAoBjP,SAAgC,EAAtBiP,EAAWjP,WAGjDxD,EAAAjC,EAAAkC,cAAAD,EAAAjC,EAAA2U,SAAA,MACI/D,IAAY7J,GACZ9E,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,0BACb5B,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASC,UAAU,QAAQ3K,MAAM,WAC/BvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEpQ,KAAK,aACLyL,KAAK,QACL4E,MAAM,SACNJ,QAASjN,EAAQmK,wBAGrBlP,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASC,UAAU,QAAQ3K,MAAM,cAC/BvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEpQ,KAAK,cACLyL,KAAK,QACL4E,MAAM,SACNJ,QAASjN,EAAQuK,4BAMzBtP,EAAAjC,EAAAkC,cAAA,OAAK0R,IAAKa,EAAU5Q,UAAU,gBAAgBW,MAAOkQ,GACnDzS,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOiE,GAAc/C,QAASA,EAAO9G,IAAIwK,EAAO1D,EAAQ,EAAGyD,EAAQ,YAEvE5C,EAAK3H,IAAI,SAACyK,EAAMpC,GAAP,OACRhF,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,MAAMW,MAAOiE,GAAczD,IAAKnD,IAAKoF,IAChD2J,IAAY7J,GACZ9E,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,eACb5B,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASC,UAAU,OAAO3K,MAAM,cAC9BvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEzV,KAAK,SACLqF,KAAK,QACLyL,KAAK,QACL4E,MAAM,SACNJ,QAAS,kBAAMjN,EAAQ2K,0BAA0B1K,QAKxDoC,EAAKzK,IAAIwK,EAAOC,EAAMpC,EAAUkC,EAAQ,YAI5CxD,EAAO5H,OACNkE,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOiE,GAAc9C,QACvBA,EAAO/G,IAAIwK,EAAOzD,EAAQwD,EAAS,EAAGA,EAAQ,YAE/C,QC/KNyL,GAAkC,SAAAxS,GAAS,IACvCoC,EAAiBpC,EAAjBoC,MAAOtF,EAAUkD,EAAVlD,MACf,OACE+C,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOA,GACXvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,KAAOvF,KCTLyU,0BAQFkB,GAA8B,SAAAzS,GAAS,IACnCoC,EAA6CpC,EAA7CoC,MAAOsC,EAAsC1E,EAAtC0E,SAAUgL,EAA4B1P,EAA5B0P,iBAAkB5S,EAAUkD,EAAVlD,MAC3C,OACE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,gBACZiD,EACC7E,EAAAjC,EAAAkC,cAACyR,GAAD,CACEE,UAAU,EACV3U,MAAOA,EACPsF,MAAK9G,OAAAqB,EAAA,EAAArB,CAAA,GAAQ8G,EAAR,CAAiCsQ,UAAW,SACjDC,SAAU,SAACvC,GAAD,OAAYV,EAAiBU,EAAE/I,OAAOvK,UAGlD+C,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAK9G,OAAAqB,EAAA,EAAArB,CAAA,GAAQ8G,IAA4BtF,KCfhD8V,GAAoC,SAAA5S,GAAS,IACzCoC,EAAiBpC,EAAjBoC,MAAOtF,EAAUkD,EAAVlD,MACf,OACE+C,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAMD,MAAOA,GACXvC,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAOwQ,IAAK/V,GAAS,OCJrBgW,WAAgC,SAAA9S,GAAS,IACrClD,EAAUkD,EAAVlD,MAER,OACE+C,EAAAjC,EAAAkC,cAAA,OACEsC,MAAO,CACL2D,MAAO,OACPgB,OAAQ,OACRgM,WAAU,OAAA5W,OAASW,EAAT,eACVkW,eAAgB,iBCVlBC,GAA2B,CAC/B3W,GAAI,eACJC,KAAM1C,EACNoT,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CAAEiB,SAAU,OAAQ6P,MAAO,QAClCpW,MAAO,QAGHqW,GAA6B,CACjC7W,GAAI,gBACJC,KAAM1C,EACNoT,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CAAEe,gBAAiB,SAC1BrG,MAAO,IAGHsW,GAA6B,CACjC9W,GAAI,gBACJC,KAAM1C,EACNoT,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CAAEe,gBAAiB,SAGtBkQ,GAA+B,CACnC/W,GAAI,iBACJC,KAAM1C,EACNoT,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CAAEoD,YAAa,MAAOE,YAAa,OAAQD,YAAa,UAG3D6N,GAA6B,CACjChX,GAAI,gBACJC,KAAM1C,EACN8M,aAAc,EACdsG,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CACLe,gBAAiB,QACjBqC,YAAa,MACbE,YAAa,OACbD,YAAa,SAEflB,WAAY,GACZX,WAAW,EACXtG,KAAM,CACJ,CAAC,WAAY,YACb,CAAC,SAAU,UACX,CAAC,SAAU,UACX,CAAC,SAAU,UACX,CAAC,SAAU,YAITiW,GAA8B,CAClCjX,GAAI,gBACJC,KAAM1C,EACN8M,aAAc,EACdsG,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,IAAKgB,OAAQ,KAC5B3E,MAAO,CACLe,gBAAiB,QACjBqC,YAAa,MACbE,YAAa,OACbD,YAAa,SAEflB,WAAY,CACViP,MAAO,CACLpR,MAAO,GACPkD,QAAS,GAEXmO,MAAO,CACLrR,MAAO,GACPkD,QAAS,GAEXoO,MAAO,CACLtR,MAAO,GACPkD,QAAS,GAEXqO,MAAO,CACLvR,MAAO,GACPkD,QAAS,GAEXsO,MAAO,CACLxR,MAAO,GACPkD,QAAS,GAEXuO,MAAO,CACLzR,MAAO,GACPkD,QAAS,GAEXwO,MAAO,CACL1R,MAAO,GACPkD,QAAS,IAGb1B,WAAW,EACXtG,KAAM,CACJ,CAAC,OAAQ,cAAe,OACxB,CAAC,KAAM,gBAAiB,UACxB,CAAC,KAAM,gBAAiB,YACxB,CAAC,KAAM,gBAAiB,SACxB,CAAC,0BAA2B,YAC5B,CAAC,eAAgB,MAAO,UACxB,CAAC,kBAAmB,cAIlByW,GAA8B,CAClCzX,GAAI,gBACJC,KAAM1C,EACN8M,aAAc,GACdsG,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,KAAMgB,OAAQ,KAC7B3E,MAAO,CACLe,gBAAiB,QACjBqC,YAAa,MACbE,YAAa,OACbD,YAAa,SAEflB,WAAY,CACViP,MAAO,CACLpR,MAAO,GACPkD,QAAS,GAEXmO,MAAO,CACLrR,MAAO,GACPkD,QAAS,GAEXoO,MAAO,CACLtR,MAAO,GACPkD,QAAS,GAEXqO,MAAO,CACLvR,MAAO,GACPkD,QAAS,GAEX0O,MAAO,CACL5R,MAAO,GACPkD,QAAS,GAEX2O,MAAO,CACL7R,MAAO,CACLoB,WAAY,SAGhBqQ,MAAO,CACLzR,MAAO,GACPkD,QAAS,IAEXwO,MAAO,CACL1R,MAAO,GACPkD,QAAS,GAEX4O,MAAO,CACL9R,MAAO,GACPkD,QAAS,GAEX6O,MAAO,CACL/R,MAAO,GACPkD,QAAS,GAEX8O,MAAO,CACLhS,MAAO,GACPkD,QAAS,IAGb1B,WAAW,EACXtG,KAAM,CACJ,CAAC,OAAQ,cAAe,QAAS,UAAW,cAAe,aAC3D,CAAC,KAAM,gBAAiB,MAAO,OAAQ,QAAS,SAChD,CAAC,KAAM,gBAAiB,MAAO,OAAQ,QAAS,SAChD,CAAC,KAAM,gBAAiB,OAAQ,OAAQ,OAAQ,SAChD,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,UAC1B,CAAC,KACD,CAAC,0BAA2B,UAC5B,CAAC,eAAgB,MAAO,SACxB,CAAC,kBAAmB,YAIlB+W,GAA8B,CAClC/X,GAAI,gBACJC,KAAM1C,EACN8M,aAAc,GACdsG,SAAU,CAAEK,EAAG,EAAGC,EAAG,GACrBF,KAAM,CAAEtH,MAAO,KAAMgB,OAAQ,KAC7B3E,MAAO,CACLe,gBAAiB,QACjBqC,YAAa,MACbE,YAAa,OACbD,YAAa,SAEflB,WAAY,CACViP,MAAO,CACLpR,MAAO,GACPkD,QAAS,GAEXmO,MAAO,CACLrR,MAAO,GACPkD,QAAS,GAEXoO,MAAO,CACLtR,MAAO,GACPkD,QAAS,GAEXqO,MAAO,CACLvR,MAAO,GACPkD,QAAS,GAEX0O,MAAO,CACL5R,MAAO,GACPkD,QAAS,GAEXgP,MAAO,CACLlS,MAAO,GACPkD,QAAS,GAEXiP,MAAO,CACLnS,MAAO,GACPkD,QAAS,GAEX6O,MAAO,CACL/R,MAAO,GACPkD,QAAS,GAEXkP,MAAO,CACLpS,MAAO,GACPkD,QAAS,GAEXmP,MAAO,CACLrS,MAAO,GACPkD,QAAS,GAEXoP,OAAQ,CACNtS,MAAO,GACPkD,QAAS,GAEXqP,OAAQ,CACNvS,MAAO,GACPkD,QAAS,GAEXsP,OAAQ,CACNxS,MAAO,GACPkD,QAAS,GAEXuP,OAAQ,CACNzS,MAAO,GACPkD,QAAS,GAEXwP,OAAQ,CACN1S,MAAO,GACPkD,QAAS,GAEXyP,OAAQ,CACN3S,MAAO,GACPkD,QAAS,GAEX0P,OAAQ,CACN5S,MAAO,GACPkD,QAAS,GAEX2P,OAAQ,CACN7S,MAAO,GACPkD,QAAS,GAEX4P,OAAQ,CACN9S,MAAO,GACPkD,QAAS,GAEX6P,OAAQ,CACN/S,MAAO,CACLoB,WAAY,SAGhB4R,OAAQ,CACNhT,MAAO,CACLoB,WAAY,SAGhB6R,OAAQ,CACNjT,MAAO,GACPkD,QAAS,IAEXgQ,OAAQ,CACNlT,MAAO,CACLe,gBAAiB,QAEnBmC,QAAS,GAEXiQ,OAAQ,CACNnT,MAAO,CACLe,gBAAiB,QAEnBmC,QAAS,GAEXkQ,OAAQ,CACNpT,MAAO,CACLe,gBAAiB,SAGrBsS,OAAQ,CACNrT,MAAO,CACLe,gBAAiB,SAGrBuS,OAAQ,CACNtT,MAAO,CACLe,gBAAiB,SAGrBwS,OAAQ,CACNvT,MAAO,GACPkD,QAAS,GAEXsQ,OAAQ,CACNxT,MAAO,GACPkD,QAAS,GAEXuQ,OAAQ,CACNzT,MAAO,GACPkD,QAAS,GAEXwQ,OAAQ,CACN1T,MAAO,GACPkD,QAAS,GAEXyQ,OAAQ,CACN3T,MAAO,GACPkD,QAAS,GAEX0Q,OAAQ,CACN5T,MAAO,GACPkD,QAAS,GAEX2Q,OAAQ,CACN7T,MAAO,GACPkD,QAAS,GAEX4Q,OAAQ,CACN9T,MAAO,CACLoB,WAAY,QAEd8B,QAAS,GAEX6Q,OAAQ,CACN/T,MAAO,CACLoB,WAAY,SAGhB4S,OAAQ,CACNhU,MAAO,CACLoB,WAAY,SAGhB6S,OAAQ,CACNjU,MAAO,GACPkD,QAAS,IAEXgR,OAAQ,CACNlU,MAAO,GACPkD,QAAS,IAGb1B,WAAW,EACXtG,KAAM,CACJ,CAAC,OAAQ,cAAe,QAAS,UAAW,cAAe,YAAa,QAAS,cACjF,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,KAAM,SAC5D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,IAAK,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC7D,CAAC,KAAM,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC9D,CAAC,KAAM,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC9D,CAAC,KAAM,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC9D,CAAC,KAAM,cAAe,MAAO,OAAQ,QAAS,QAAS,MAAO,SAC9D,CAAC,gBAAiB,SAAU,IAAK,UACjC,CAAC,iBAAa,SAAU,IAAK,UAC7B,CAAC,KAAM,cAAe,OAAQ,OAAQ,OAAQ,QAAS,MAAO,SAC9D,CAAC,KAAM,cAAe,OAAQ,OAAQ,OAAQ,QAAS,MAAO,SAC9D,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,SAAU,IAAK,UACzC,CAAC,KACD,CAAC,mCAA+B,YAAa,QAAS,UAAW,cACjE,CAAC,kBAAmB,OAAQ,KAAM,OAAQ,QAC1C,CAAC,kBAAmB,QAAS,KAAM,OAAQ,SAC3C,CAAC,mBAAoB,SAAU,MAAO,QAAS,UAC/C,CAAC,IAAK,SAAU,IAAK,QAAS,UAC9B,CAAC,KACD,CAAC,kBAAmB,YAIX+K,IAA2CkO,GAAA,GAAAjb,OAAA0G,EAAA,EAAA1G,CAAAib,GACrD1c,EAAe,CACd2c,QAAS,CACPjZ,KAAM,OACNqE,KAAM,YACNrF,KAAM1C,GAER4C,QAASwW,KAP2C3X,OAAA0G,EAAA,EAAA1G,CAAAib,GASrD1c,EAAgB,CACf2c,QAAS,CACPjZ,KAAM,QACNqE,KAAM,QACNrF,KAAM1C,GAER4C,QAAS2W,KAf2C9X,OAAA0G,EAAA,EAAA1G,CAAAib,GAiBrD1c,EAAiB,CAChB2c,QAAS,CACPjZ,KAAM,SACNqE,KAAM,SACNrF,KAAM1C,GAER4C,QAAS4W,KAvB2C/X,OAAA0G,EAAA,EAAA1G,CAAAib,GAyBrD1c,EAAgB,CACf2c,QAAS,CACPjZ,KAAM,QACNqE,KAAM,UACNrF,KAAM1C,GAER4C,QAAS0W,KA/B2C7X,OAAA0G,EAAA,EAAA1G,CAAAib,GAiCrD1c,EAAgB,CACf2c,QAAS,CACPjZ,KAAM,QACNqE,KAAM,QACNrF,KAAM1C,GAER4C,QAAS6W,KAvC2ChY,OAAA0G,EAAA,EAAA1G,CAAAib,GAyCrD1c,EAAgB,EAAI,CACnB2c,QAAS,CACPjZ,KAAM,UACNqE,KAAM,QACNrF,KAAM1C,EAAgB,GAExB4C,QAAS8W,KA/C2CjY,OAAA0G,EAAA,EAAA1G,CAAAib,GAiDrD1c,EAAgB,EAAI,CACnB2c,QAAS,CACPjZ,KAAM,UACNqE,KAAM,QACNrF,KAAM1C,EAAgB,GAExB4C,QAASsX,KAvD2CzY,OAAA0G,EAAA,EAAA1G,CAAAib,GAyDrD1c,EAAgB,EAAI,CACnB2c,QAAS,CACPjZ,KAAM,UACNqE,KAAM,QACNrF,KAAM1C,EAAgB,GAExB4C,QAAS4X,KA/D2CkC,IChZxDE,KAAK9N,SAAS,CACZ+N,OAAQ,SACRC,MAAO,CACL,CACE9D,IACE,gHAEJ,CACEA,IACE,6GACFrP,WAAY,QAEd,CACEqP,IACE,8GACFrP,WAAY,SACZoT,UAAW,UAEb,CACE/D,IACE,kHACFrP,WAAY,OACZoT,UAAW,aASjB,IAAMC,GAAoC,SAAA7W,GAAS,IACzC8L,EAAU9L,EAAV8L,MAER,OACEjM,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,KACGyJ,EAAMtP,IAAI,SAACkR,EAAMjO,GAAP,OACTI,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAM5C,IAAKA,GACRiO,EAAKlR,IAAI,SAACC,EAASqa,GAClB,IAAM1U,EAAU9G,OAAAqB,EAAA,EAAArB,CAAA,CACd2R,SAAU,WACV8J,IAAKta,EAAQwQ,SAASM,EAAI,EAC1ByJ,KAAMva,EAAQwQ,SAASK,EAAI,EAC3BvH,MAAOtJ,EAAQ4Q,KAAKtH,MAAQ,EAC5BgB,OAAQtK,EAAQ4Q,KAAKtG,OAAS,GAC3BtK,EAAQ2F,OAGb,GAAI3F,EAAQF,OAAS1C,EACnB,OAAOgG,EAAAjC,EAAAkC,cAACmX,GAAD,CAAUxX,IAAKqX,EAAY1U,MAAOA,IAG3C,GAAI3F,EAAQF,OAAS1C,EACnB,OAAOgG,EAAAjC,EAAAkC,cAACoX,GAAD,CAAWzX,IAAKqX,EAAY1U,MAAOA,IAG5C,GAAI3F,EAAQF,OAAS1C,GAAgB,UAAW4C,EAC9C,OAAOoD,EAAAjC,EAAAkC,cAACqX,GAAD,CAAS1X,IAAKqX,EAAY1U,MAAOA,EAAOtF,MAAOL,EAAQK,QAGhE,GAAIL,EAAQF,OAAS1C,GAAiB,UAAW4C,EAC/C,OAAOoD,EAAAjC,EAAAkC,cAACsX,GAAD,CAAU3X,IAAKqX,EAAY1U,MAAOA,EAAOtF,MAAOL,EAAQK,QAGjE,GAAIL,EAAQF,OAAS1C,GAAiB,cAAe4C,EAAS,KACpDa,EAA8Cb,EAA9Ca,KAAMqJ,EAAwClK,EAAxCkK,aAAc/C,EAA0BnH,EAA1BmH,UAAWW,EAAe9H,EAAf8H,WAMvC,OAHAnC,EAAM2U,KAAO,SACN3U,EAAM2E,OAGXlH,EAAAjC,EAAAkC,cAACuX,GAAD,CACE5X,IAAKqX,EACLxZ,KAAMA,EACNqJ,aAAcA,EACd/C,UAAWA,EACXxB,MAAOA,EACPmC,WAAYA,IAKlB,OAAO,YCuBN+S,WAAuBC,YAAY7V,EAAZ6V,CAnFQ,SAAAvX,GAAS,IAC3C6B,EAAiC7B,EAAjC6B,UAAW2V,EAAsBxX,EAAtBwX,QAAS7E,EAAa3S,EAAb2S,SAEtBrV,EAAS0C,EAAT1C,KAEFka,GAAWA,EAAQhX,OACjBgX,EAAQhX,KAAKnD,SAAW5D,EAAYC,uBACtC4D,EAAOA,EAAK4K,OAAO,SAAA1H,GAAI,MAAmB,kBAAfA,EAAK1D,SAG9B0a,EAAQhX,KAAKnD,SAAW5D,EAAYE,iBACtC2D,EAAOA,EAAK4K,OACV,SAAA1H,GAAI,OAAK,CAAC,SAAU,SAAU,gBAAiB,UAAUiX,SAASjX,EAAK1D,UAIvE0a,EAAQhX,KAAKnD,SAAW5D,EAAYG,WACtC0D,EAAOA,EAAK4K,OAAO,SAAA1H,GAAI,OAAK,CAAC,SAAU,YAAYiX,SAASjX,EAAK1D,WAjBlB,IAAAyK,EAqBzBC,mBAAyB,IArBAC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAqB5CuE,EArB4CrE,EAAA,GAqBrCsE,EArBqCtE,EAAA,GAsB3C1N,EAAcwH,qBAAWtH,GAAzBF,UAERiS,oBAAU,WACR,GAAKwL,GAAYA,EAAQhX,KAAzB,CAEA,IAAMnE,EAActC,EAAUoD,IAAIqa,EAAQhX,KAAKhC,YAAY0B,WAAW,SAAAC,GACpE,IAAM8L,EAAW9L,EAAc7C,OACzBgB,EAA0BwM,KAAKE,MAAMiB,EAAS3N,SACpDyN,EAASzN,KAGX,OAAO,WACLjC,OAED,CAACtC,EAAWyd,IAEf,IAAME,EAAWF,GAAWA,EAAQhX,KAAnB,GAAArE,OAA6Bqb,EAAQhX,KAAKjD,KAA1C,QAAuD,GAExE,OACEsC,EAAAjC,EAAAkC,cAAC6X,EAAA,EAAD,CAAarb,GAAIuF,EAAWJ,UAAU,gBACpC5B,EAAAjC,EAAAkC,cAAA8X,EAAA,GAAMC,YAAY,GACfva,EAAKd,IAAI,SAACgE,GAAD,OACRX,EAAAjC,EAAAkC,cAAA8X,EAAA,EAAMtG,KAAN,CAAW7R,IAAKe,EAAKjD,MACnBsC,EAAAjC,EAAAkC,cAAC6X,EAAA,EAAD,CAAUlY,IAAKe,EAAKjD,KAAMD,KAAMkD,EAAMqR,QAASc,GAC7B,aAAfnS,EAAK1D,MACJ+C,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CACE5C,IAAKe,EAAKjD,KACV0O,SAAUpM,EAAAjC,EAAAkC,cAACgY,GAAD,CAAahM,MAAOA,IAC9B4L,SAAUA,GAET,SAAAja,KAAGsa,KAAHta,EAASua,IAAT,IAAcC,EAAdxa,EAAcwa,QAAd,OAAAxa,EAAuBiN,MACtBuN,EACE,sBAEApY,EAAAjC,EAAAkC,cAAAD,EAAAjC,EAAA2U,SAAA,KACE1S,EAAAjC,EAAAkC,cAAAoS,EAAA,GACE3V,KAAMiE,EAAKoB,KACXH,UAA0B,WAAfjB,EAAK1D,MAAqB,QAAU,YAEjD+C,EAAAjC,EAAAkC,cAAA,YAAOU,EAAKjD,SAMpBsC,EAAAjC,EAAAkC,cAAAD,EAAAjC,EAAA2U,SAAA,KACE1S,EAAAjC,EAAAkC,cAAAoS,EAAA,GACE3V,KAAMiE,EAAKoB,KACXH,UAA0B,WAAfjB,EAAK1D,MAAqB,QAAU,YAEjD+C,EAAAjC,EAAAkC,cAAA,YAAOU,EAAKjD,mCCxFxB2a,GAAmC,SAAAlY,GAAS,IACxCmH,EAAsEnH,EAAtEmH,KAAMC,EAAgEpH,EAAhEoH,MAAO9I,EAAyD0B,EAAzD1B,QAASyH,EAAgD/F,EAAhD+F,MAAOoS,EAAyCnY,EAAzCmY,UAAWC,EAA8BpY,EAA9BoY,SAAUC,EAAoBrY,EAApBqY,QAAS9U,EAAWvD,EAAXuD,OAEnE,OACE1D,EAAAjC,EAAAkC,cAAAwY,GAAA,GACEvS,MAAOA,EACPoS,UAAWA,EACXI,QAASpR,EACTC,MAAOA,EACPoR,KAAMJ,EACNK,SAAUJ,EACV9U,OAAQA,GAEPjF,yBCrBDoa,GAAkB,SAAAjb,GAAA,IAAGkb,EAAHlb,EAAGkb,SAAH,OACtB9Y,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAMrB,KAAMoc,EAAW,cAAgB,SAAUxG,MAAM,YAgB5C0G,GAAwC,SAAA7Y,GAAS,IACpD1C,EAAmB0C,EAAnB1C,KAAMwb,EAAa9Y,EAAb8Y,SAEd,OACEjZ,EAAAjC,EAAAkC,cAACiZ,GAAAnb,EAAD,CACEob,UAAU,EACVC,aAAcpZ,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAMrB,KAAK,SACzBuc,SAAU,SAACxN,EAAG4N,GACPA,EAAMC,KAAKnZ,MAAM1C,MACtBwb,EAASI,EAAMC,KAAKnZ,MAAM1C,QAtBb,SAAf8b,EAAgB9b,GACpB,OAAOA,EAAKd,IAAI,SAAAgE,GAAI,OAClBX,EAAAjC,EAAAkC,cAACiZ,GAAAnb,EAAKyb,SAAN,CAAe/b,KAAMkD,EAAMf,IAAKe,EAAKlE,GAAIsF,KAAM8W,GAAiBtR,MAAO5G,EAAKjD,MACzEiD,EAAK9D,SAAW0c,EAAa5Y,EAAK9D,UAAY,QAsB9C0c,CAAa9b,KC7BPgc,GAAc,CACzBC,cALoB,gBAMpBC,gBALsB,kBAMtBC,8BALoC,gCAMpCC,eALqB,kBAmChB,IAAMC,GAAkBhO,aArB/B,WAAoB,IAAApE,EACMC,oBAAS,GADfC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GACXJ,EADWM,EAAA,GACLmS,EADKnS,EAAA,GAAA4E,EAEM7E,mBAAyB8R,GAAYC,eAF3CjN,EAAAhR,OAAAoM,EAAA,EAAApM,CAAA+Q,EAAA,GAEXwN,EAFWvN,EAAA,GAELwN,EAFKxN,EAAA,GAAAK,EAGUnF,mBAAc,MAHxBoF,EAAAtR,OAAAoM,EAAA,EAAApM,CAAAqR,EAAA,GAGXtF,EAHWuF,EAAA,GAGHmN,EAHGnN,EAAA,GAYlB,MAAO,CACLzF,OACA0S,OACAG,YATkB,SAACC,EAA4B5S,GAC/CuS,GAASzS,GACT2S,EAAQG,GAAaX,GAAYC,eACjCQ,EAAU1S,IAOVA,SACA0S,eCzBEG,ICR8BvO,aAAiB7D,IDQpC,SAAC+R,GAChB,GAAIA,IAASP,GAAYE,gBACvB,MAAO,sBAET,GAAIK,IAASP,GAAYC,cACvB,MAAO,oBAET,GAAIM,IAASP,GAAYG,8BACvB,MAAO,gCAET,GAAII,IAASP,GAAYI,eACvB,MAAO,iBAGT,MAAM,IAAI7a,MAAM,iBAAmBgb,KA2ExBM,GAAQ9Y,YAxEkB,SAAArB,GAAS,IAAAuH,EACtBC,mBAAS,IADaC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GACvChK,EADuCkK,EAAA,GACjC2S,EADiC3S,EAAA,GAAA4S,EAEFV,KAApCxS,EAFsCkT,EAEtClT,KAAM0S,EAFgCQ,EAEhCR,KAAMG,EAF0BK,EAE1BL,YAAa3S,EAFagT,EAEbhT,OAFaW,EAGuBzG,qBAAWtH,GAAxEG,EAHsC4N,EAGtC5N,QAASW,EAH6BiN,EAG7BjN,WAAYF,EAHiBmN,EAGjBnN,OAAQP,EAHS0N,EAGT1N,4BAE7BgH,EAAmBtB,EAAnBsB,MAAOgZ,EAAYta,EAAZsa,QAETjC,EAAU,WACd2B,IACAI,EAAQ,KAEJG,EAAQ,eAAA9c,EAAAnC,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAR,EAAAgC,EAAAkb,EAAA,OAAA7c,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACTf,EAA0B,CAC9BC,OACAP,SAAUsE,EAAMP,OAAOzE,GACvBC,KAAMjD,EAAoBC,QAGxBsgB,IAASP,GAAYE,gBAPV,CAAArb,EAAAE,KAAA,WAQPiB,EAAwClF,EAAQ8C,IAAIoE,EAAMP,OAAOzE,IAR1D,CAAA6B,EAAAE,KAAA,eAAAF,EAAAQ,OAAA,iBAWP6b,EAA6B,YAAhBlb,EAAO/B,KAC1BD,EAAKf,KAAOjD,EAAoBE,SAChC8D,EAAKD,OAASmd,EAAa/gB,EAAYG,SAAWH,EAAYC,qBAbjD,UAgBXmgB,IAASP,GAAYG,8BAhBV,CAAAtb,EAAAE,KAAA,YAiBR/D,GAAgCA,EAA4BgC,GAjBpD,CAAA6B,EAAAE,KAAA,gBAAAF,EAAAQ,OAAA,kBAmBbrB,EAAKN,SAAW1C,EAA4BgC,GAC5CgB,EAAKf,KAAOjD,EAAoBE,SAChC8D,EAAKD,OAAS5D,EAAYC,qBAC1B4D,EAAKiB,cAAe,EACpBjB,EAAKkB,WAAc6I,EAA6B7I,WAvBnC,eAAAL,EAAAE,KAAA,GA0BTtD,EAAWuC,GA1BF,QA2Bf+a,IAEIwB,IAASP,GAAYG,+BAAiCnf,GACxDggB,EAAQrd,KAAK,CAAEwd,SAAQ,GAAAte,OAAK7B,EAA4BgC,MA9B3C,yBAAA6B,EAAAW,SAAAhB,MAAH,yBAAAL,EAAAvB,MAAAV,KAAAE,YAAA,GAkCRgf,EAAQ,eAAAzb,EAAA3D,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KAAG,SAAAqB,IAAA,OAAAvB,EAAAC,EAAAM,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,UAAAe,EAAAhB,KAAA,EAETyb,IAASP,GAAYI,eAFZ,CAAAta,EAAAf,KAAA,eAAAe,EAAAf,KAAA,EAGLxD,EAAOS,OAAAqB,EAAA,EAAArB,CAAA,GAAK+L,EAAN,CAAc9J,UAHf,OAIX8a,IAJWjZ,EAAAf,KAAA,eAMXkc,IANW,OAAAnb,EAAAf,KAAA,iBAAAe,EAAAhB,KAAA,GAAAgB,EAAAR,GAAAQ,EAAA,SASb4K,QAAQC,IAAI,6BAAZ7K,EAAAR,IATa,yBAAAQ,EAAAN,SAAAI,EAAA,kBAAH,yBAAAD,EAAA/C,MAAAV,KAAAE,YAAA,GAiBRgW,EACJmI,IAASP,GAAYI,eAAkBrS,EAA6B9J,KAAO,GAE7E,OACEsC,EAAAjC,EAAAkC,cAAAwY,GAAA,GAAUC,QAASpR,EAAMC,MAAO8S,GAASL,GAAOrB,KAAMkC,EAAUjC,SAAUJ,GACvElR,GAAQtH,EAAAjC,EAAAkC,cAAAkQ,GAAA,GAAO2K,WAAW,EAAMhI,SATX,SAACuG,GACzBkB,EAAQlB,EAAM7R,OAAOvK,QAQ2C4U,aAAcA,OEhG5EkJ,GAAS,GAAGC,iCCsDZC,GAAsB,SAACta,GAM3B,OD1Da,SAASua,IAEd,IACR,IAAMC,EAAU,GADRvf,EAAAC,UAAAC,OADLC,EACK,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IADLF,EACKE,GAAAJ,UAAAI,GAGR,QAAAmf,EAAA,EAAAC,EAAkBtf,EAAlBqf,EAAAC,EAAAvf,OAAAsf,IAAwB,CAAnB,IAAME,EAAGD,EAAAD,GACZ,GAAKE,EAAL,CAIA,IAAMC,SAAiBD,EAEvB,GAAgB,WAAZC,GAAoC,WAAZA,EAC1BJ,EAAQ/d,KAAKke,QACR,GAAItf,MAAMqQ,QAAQiP,GACvBH,EAAQ/d,KAAK8d,EAAW7e,MAAM,KAAMif,SAC/B,GAAgB,WAAZC,EAET,IADA,IAAMxQ,EAAMuQ,EACZE,EAAA,EAAAC,EAAkBhgB,OAAOigB,KAAK3Q,GAA9ByQ,EAAAC,EAAA3f,OAAA0f,IAAoC,CAA/B,IAAM5b,EAAG6b,EAAAD,GACRT,GAAO3e,KAAK2O,EAAKnL,IAAQmL,EAAInL,IAC/Bub,EAAQ/d,KAAKwC,KAMrB,OAAOub,EAAQQ,KAAK,KCgCbT,CALS,CACdU,cAAc,EACdC,cAAelb,EAAKnD,SAAW5D,EAAYC,wBCrDlCiiB,GAAWta,YD6DqB,SAAArB,GAAS,IAC5CsB,EAAmBtB,EAAnBsB,MAAOgZ,EAAYta,EAAZsa,QADqCsB,EAShD9T,GAAcxG,EAAMP,OAAOzE,IAJ7B+L,GALkDuT,EAIlDhf,MAJkDgf,EAKlDvT,UACA9N,EANkDqhB,EAMlDrhB,cAEGshB,GAR+CD,EAOlDthB,4BAPkDgB,OAAAsK,EAAA,EAAAtK,CAAAsgB,EAAA,qEAAAE,EAUNxU,KAVMyU,EAAAzgB,OAAAoM,EAAA,EAAApM,CAAAwgB,EAAA,GAU7CE,EAV6CD,EAAA,GAU9BE,EAV8BF,EAAA,GAW5C/B,EAAgBL,KAAhBK,YAEFkC,EAAkB,SAAC1b,GAAD,OAA6B,WACnD,GAAIA,EAAKjE,OAASjD,EAAoBC,OACpC+gB,EAAQrd,KAAK,CAAEwd,SAAQ,GAAAte,OAAKqE,EAAKlE,WAEjC,GAAIkE,EAAKnD,SAAW5D,EAAYG,SAAU,CACxC,IAAMyN,EAAsC,CAC1C7G,OACAjD,KAAM,yBACNT,MAAO,0BAGTmf,EAAqBtU,cAAc,CACjCR,MAAM,EACNC,MAAO,gCACPC,SACA/I,QACEuB,EAAAjC,EAAAkC,cAACqc,GAAD,CACE7e,KAAMue,EAAUphB,0BAA0B,OAAQnB,EAAoBC,QACtEuf,SAAU+C,EAAUrhB,wCAK1B8f,EAAQrd,KAAR,aAAAd,OAA0BqE,EAAKlE,OAK/B8f,EAA2B,SAAClD,EAAY7R,GAC5C,OAAQA,EAAOvK,OACb,IAAK,WACH,OAAOkd,EAAYV,GAAYE,iBAEjC,IAAK,aACH,OAAOQ,EAAYV,GAAYC,eAEjC,IAAK,SACH,OAAOS,EAAYV,GAAYI,eAAgBrS,EAAO7G,MAExD,IAAK,gBACH,OAAO8Z,EAAQrd,KAAR,aAAAd,OAA0BkL,EAAO7G,KAAKlE,KAE/C,IAAK,OACH,OAAOuf,EAAU5gB,UAAUqG,EAAMP,OAAOzE,IAE1C,IAAK,SACH,GAAI+K,EAAO7G,KAAK2H,UAAW,OAE3B,OAAO8T,EAAqBtU,cAAc,CAAER,MAAM,EAAMC,MAD1C,mCACiDC,WAEjE,IAAK,WACH,OAAO2C,QAAQC,IAAI,WAAYiP,EAAO7R,GAExC,IAAK,OACH,IAsBM/I,EACJuB,EAAAjC,EAAAkC,cAACuc,EAAAze,EAAD,CACEyP,KAAK,QACLiP,UAAU,EACVC,YAAY,EACZC,YAAY,EACZvN,QA1BY,CACd,CACEwN,UAAW,SAEb,CACEA,UAAW,SAsBXC,WAlBS,CACX,CACEtV,MAAO,UACPuV,KAAM,cAER,CACEvV,MAAO,UACPuV,KAAM,iBAeV,OAAOV,EAAqBtU,cAAc,CAAER,MAAM,EAAMC,MAjC1C,uBAiCiDC,SAAQ/I,YAEzE,IAAK,OACH,OAAOud,EAAU7gB,SAASqM,EAAO7G,MAEnC,IAAK,SAEH,OAAOyb,EAAqBtU,cAAc,CAAER,MAAM,EAAMC,MAD1C,mCACiDC,WAEjE,QACE,SAIAuV,EAAyB,eAAAnf,EAAAnC,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAA+e,EAAA/f,EAAAS,EAAAiD,EAAA,OAAA7C,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAC3B2d,EAAc3U,OADa,CAAAlJ,EAAAE,KAAA,eAAAF,EAAAQ,OAAA,oBAAAke,EAGFb,EAAc3U,OAApCvK,EAHwB+f,EAGxB/f,MAAOS,EAHiBsf,EAGjBtf,KAAMiD,EAHWqc,EAGXrc,KAEhB1D,GAAU0D,EALiB,CAAArC,EAAAE,KAAA,eAAAF,EAAAQ,OAAA,oBAAAR,EAAAC,KAAA,EAQhB,WAAVtB,EAR0B,CAAAqB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAStBwd,EAAU/gB,WAAW0F,EAAKlE,IATJ,UAWhB,WAAVQ,EAX0B,CAAAqB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAYtBwd,EAAUjhB,OAAO4F,EAAKlE,IAZA,QAchB,2BAAVQ,GACFkd,EAAYV,GAAYG,8BAA+BjZ,GAGzDyb,EAAqBpU,aAlBS1J,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAoB9B6L,QAAQC,IAAR,YAAA9N,OAAwBoB,EAAxB,eAAAY,EAAAS,IApB8B,yBAAAT,EAAAW,SAAAhB,EAAA,kBAAH,yBAAAL,EAAAvB,MAAAV,KAAAE,YAAA,GAyC/B,OACEmE,EAAAjC,EAAAkC,cAAC6X,EAAA,EAAD,CAAoBrb,GAAIoF,GACtB7B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,YAAY4G,EAAS7L,IAnBpB,SAACc,EAA2BiO,GAA5B,OAClB1L,EAAAjC,EAAAkC,cAAA,OAAKL,IAAK8L,EAAO9J,UAAU,QACxBnE,EAAKd,IAAI,SAAAgE,GAAI,OACZX,EAAAjC,EAAAkC,cAAC6X,EAAA,EAAD,CACElY,IAAKe,EAAKlE,GACVwgB,QAAS,SAAA/b,GAAM,OAAAzF,OAAAqB,EAAA,EAAArB,CAAA,GAAUyF,EAAV,CAAkBP,UACjClE,GAAIkE,EAAK2H,UAAY,GAAKlG,EAAiBzB,EAAKjE,OAEhDsD,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAWqZ,GAAoBta,GAAOqR,QAASqK,EAAgB1b,IAvL9D,SAACA,GAA4B,IAAAuc,EACvCC,EAAU,OACVxc,EAAKnD,SAAW5D,EAAYG,WAAUojB,EAAU,UAChDxc,EAAKnD,SAAW5D,EAAYE,iBAAgBqjB,EAAU,gBAE1D,IAAIC,EAAa,OAkBjB,MAjBkB,YAAdzc,EAAKjD,OAAoB0f,EAAa,WAElBF,EAAA,GAAAzhB,OAAA0G,EAAA,EAAA1G,CAAAyhB,EACrBzjB,EAAoBC,OACnBsG,EAAAjC,EAAAkC,cAAAD,EAAAjC,EAAA2U,SAAA,KACG/R,EAAK2H,WAAatI,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAM6D,UAAU,SAASlF,KAAM0gB,IAClDpd,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAM6D,UAAU,cAAclF,KAAK,SAAS4V,MAAM,aAJhC7W,OAAA0G,EAAA,EAAA1G,CAAAyhB,EAOrBzjB,EAAoBE,SACnBqG,EAAAjC,EAAAkC,cAAAD,EAAAjC,EAAA2U,SAAA,KACG1S,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAM6D,UAAU,aAAalF,KAAMygB,IACpCnd,EAAAjC,EAAAkC,cAAC8Y,EAAAhb,EAAD,CAAM6D,UAAU,OAAOlF,KAAK,OAAO4V,MAAM,aAVvB4K,GAeRvc,EAAKjE,MAiKV2gB,CAAQ1c,GACTX,EAAAjC,EAAAkC,cAAA,QAAM2B,UAAU,QAAQjB,EAAKjD,cAWlCoE,EAAMnF,IAAI,SAAAgE,GACT,IAAI2c,EAAW3c,EAAKlD,KAEdgC,EAASuc,EAAUlhB,WAAW2G,EAAMP,OAAOzE,IAC3Cke,IAAwBlb,GAA0B,YAAhBA,EAAO/B,KAY/C,OAVIiD,EAAKqB,YAAcH,IACrByb,EAAW3c,EAAKlD,KAAK4K,OACnB,SAAAkV,GAAC,MACa,SAAZA,EAAEtgB,OACDvC,IACGA,EAAc8C,SAAW5D,EAAYG,WAAa4gB,GACjDjgB,EAAc8C,SAAW5D,EAAYG,UAAY4gB,MAK1D3a,EAAAjC,EAAAkC,cAACwX,GAAD,CACE7X,IAAKe,EAAKqB,UACVvE,KAAM6f,EACNtb,UAAWrB,EAAKqB,UAChB8Q,SAAUyJ,MAKhBvc,EAAAjC,EAAAkC,cAACqa,GAAD,MAEAta,EAAAjC,EAAAkC,cAACud,GAAD,CACElW,KAAM6U,EAAc7U,KACpBC,MAAO4U,EAAc5U,MACrB9I,QAAS0d,EAAc1d,QACvB8Z,SAAUwE,EACVvE,QAAS4D,EAAqBpU,qCE/OhCyV,WAAqC,SAAAtd,GAAS,IAAAuH,EAChBC,oBAAS,GADOC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAC3CgW,EAD2C9V,EAAA,GAChC+V,EADgC/V,EAAA,GAE1CuS,EAAgBL,KAAhBK,YAyBR,OACEna,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQC,MAAR,CAAcC,aAAa,EAAMJ,UAAWA,EAAWK,WAAYJ,GACjE3d,EAAAjC,EAAAkC,cAACoB,EAAA,EAAD,CAAMC,GAAG,IAAIM,UAAU,iBACrB5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,OAAOoc,IAAI,OAAOhL,IAAKiL,OAErC,SAASC,MAAM,IAAIvhB,IAAI,SAACwhB,EAAQzS,GAAT,OACtB1L,EAAAjC,EAAAkC,cAAA,QAAML,IAAK8L,EAAO9J,UAAU,YACzBuc,MAKPne,EAAAjC,EAAAkC,cAAA8X,EAAA,GAAMzF,MAAM,OAAO0F,YAAY,EAAOhG,QAnCtB,SAAC9Q,GACA,SAAfA,EAAOtB,KACTua,EAAYV,GAAYE,iBAGP,WAAfzY,EAAOtB,KACTua,EAAYV,GAAYC,iBAIE,CAC5B,CACE9Z,IAAK,SACLwe,KAAM,aACNrc,KAAM,cAER,CACEnC,IAAK,OACLwe,KAAM,eACNrc,KAAM,aAiBOpF,IAAI,SAAAgE,GAAI,OACjBX,EAAAjC,EAAAkC,cAAA8X,EAAA,EAAMtG,KAAN,CAAW7R,IAAKe,EAAKf,KACnBI,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAMiE,EAAKoB,OACjB/B,EAAAjC,EAAAkC,cAAA,YAAOU,EAAKyd,aCnDlBC,WAAmC,SAAAle,GACvC,OACEH,EAAAjC,EAAAkC,cAAA2d,EAAA,GAAQhc,UAAU,UAChB5B,EAAAjC,EAAAkC,cAACqe,GAAD,MAECne,EAAMtD,YCHP0hB,WAAoC,SAAApe,GACxC,OACEH,EAAAjC,EAAAkC,cAACue,GAAD,KACExe,EAAAjC,EAAAkC,cAAA2d,EAAA,GAAQhc,UAAU,aAChB5B,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQa,OAAR,CAAe7c,UAAU,WAEzB5B,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQc,QAAR,CAAgB9c,UAAU,WACxB5B,EAAAjC,EAAAkC,cAACsB,EAAD,MAEAvB,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,QACb5B,EAAAjC,EAAAkC,cAAC6b,GAAD,QAIJ9b,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQe,OAAR,CAAe/c,UAAU,UAAzB,iICbFgd,WAAU,CACdxR,SAAU,WACVyR,OAAQ,MAEJC,GAAQ,CACZ1R,SAAU,QACV8J,IAAK,MACL6H,MAAO,MACPC,OAAQ,MACR7H,KAAM,OAwEO8H,GAnEwB,SAAArhB,GAA6C,IAA1CqS,EAA0CrS,EAA1CqS,qBAAsBvD,EAAoB9O,EAApB8O,cACtDc,EAAgCd,EAAhCc,KAAMJ,EAA0BV,EAA1BU,SAAU7K,EAAgBmK,EAAhBnK,MAD0DmF,GAC1CgF,EAAThQ,KAEqBiL,oBAAS,IAHqBC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAG3EwX,EAH2EtX,EAAA,GAGvDuX,EAHuDvX,EAAA,GAa5EwX,EAfS,SAAC7c,GAAD,OAAsBA,GAAgB,KAejC8c,CAAS9c,GAE7B,OACEvC,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,yBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,sBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtH,MACZsH,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,QAAShT,EAAO,YAGnE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtG,OACZsG,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,SAAUhT,EAAO,YAGpE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASK,EAChBD,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASM,EAChBF,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,0BACcD,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQpQ,KAAK,YAAYH,UAAU,gBAAgBoQ,QA7CjD,WAClBmN,GAAuBD,MA6ClBA,EACClf,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOqc,IACV5e,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOuc,GAAc9M,QA5ChB,WAClBmN,GAAsB,MA4Cdnf,EAAAjC,EAAAkC,cAACsf,GAAAxhB,EAAD,CACEsV,MAAO+L,EAAY9b,gBACnBkc,iBAAkB,SAACnM,GAAD,OAChBpD,EAAqB,kBAAmBoD,EAAMoM,IAAK,aAIvD,QC3ENb,GAAU,CACdxR,SAAU,WACVyR,OAAQ,KAEJC,GAAQ,CACZ1R,SAAU,QACV8J,IAAK,MACL6H,MAAO,MACPC,OAAQ,MACR7H,KAAM,OAgFOuI,GA3EyB,SAAA9hB,GAA6C,IAA1CqS,EAA0CrS,EAA1CqS,qBAAsBvD,EAAoB9O,EAApB8O,cACvDc,EAA0Bd,EAA1Bc,KAAMJ,EAAoBV,EAApBU,SAAU7K,EAAUmK,EAAVnK,MAD2DmF,EAG/BC,oBAAS,GAHsBC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAG5EwX,EAH4EtX,EAAA,GAGxDuX,EAHwDvX,EAAA,GAa7E+X,EAfS,SAACpd,GAAD,OAAsBA,GAAgB,KAehC8c,CAAS9c,GAE9B,OACEvC,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,yBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,sBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtH,MACZsH,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,QAAShT,EAAO,YAGnE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtG,OACZsG,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,SAAUhT,EAAO,YAGpE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASK,EAChBD,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASM,EAChBF,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAO0iB,EAAaha,YACpB6H,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,cAAehT,EAAO,aAGzE+C,EAAAjC,EAAAkC,cAAA,4BACgBD,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQpQ,KAAK,YAAYH,UAAU,gBAAgBoQ,QArDnD,WAClBmN,GAAuBD,MAqDlBA,EACClf,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOqc,IACV5e,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOuc,GAAc9M,QApDhB,WAClBmN,GAAsB,MAoDdnf,EAAAjC,EAAAkC,cAACsf,GAAAxhB,EAAD,CACEsV,MAAOsM,EAAarc,gBACpBkc,iBAAkB,SAACnM,GAAD,OAChBpD,EAAqB,cAAeoD,EAAMoM,IAAK,aAInD,QC7BGG,GA1CwB,SAAAhiB,GAA6C,IAA1CqS,EAA0CrS,EAA1CqS,qBAAsBvD,EAAoB9O,EAApB8O,cACtDc,EAAmBd,EAAnBc,KAAMJ,EAAaV,EAAbU,SAGd,OACEpN,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,yBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,sBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtH,MACZsH,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,QAAShT,EAAO,YAGnE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtG,OACZsG,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,SAAUhT,EAAO,YAGpE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASK,EAChBD,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASM,EAChBF,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,kBC/C/D2hB,GAAU,CACdxR,SAAU,WACVyR,OAAQ,KAEJC,GAAQ,CACZ1R,SAAU,QACV8J,IAAK,MACL6H,MAAO,MACPC,OAAQ,MACR7H,KAAM,OAwGO0I,GAnGwB,SAAAjiB,GAA6C,IAA1CqS,EAA0CrS,EAA1CqS,qBAAsBvD,EAAoB9O,EAApB8O,cACtDc,EAAgCd,EAAhCc,KAAMJ,EAA0BV,EAA1BU,SAAU7K,EAAgBmK,EAAhBnK,MAD0DmF,GAC1CgF,EAAThQ,KAEqBiL,oBAAS,IAHqBC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAG3EwX,EAH2EtX,EAAA,GAGvDuX,EAHuDvX,EAAA,GAAA4E,EAIxC7E,oBAAS,GAJ+B8E,EAAAhR,OAAAoM,EAAA,EAAApM,CAAA+Q,EAAA,GAI3EsT,EAJ2ErT,EAAA,GAI1DsT,EAJ0DtT,EAAA,GAsB5EkT,EAxBS,SAACpd,GAAD,OAAsBA,GAAgB,KAwBhC8c,CAAS9c,GAE9B,OACEvC,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,yBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,sBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtH,MACZsH,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,QAAShT,EAAO,YAGnE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOuQ,EAAKtG,OACZsG,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,SAAUhT,EAAO,YAGpE+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASK,EAChBD,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,kBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAOmQ,EAASM,EAChBF,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,IAAKhT,EAAO,gBAG/D+C,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,UACb5B,EAAAjC,EAAAkC,cAAA,uBACAD,EAAAjC,EAAAkC,cAAAqf,GAAA,GACEriB,MAAO0iB,EAAaha,YACpB6H,KAAK,QACLsF,SAAU,SAAC7V,GAAD,OAAgBgT,EAAqB,cAAD,GAAA3T,OAAmBW,EAAnB,MAA8B,aAGhF+C,EAAAjC,EAAAkC,cAAA,0BACcD,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQpQ,KAAK,YAAYH,UAAU,gBAAgBoQ,QA7DjD,WAClBmN,GAAuBD,MA6DlBA,EACClf,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOqc,IACV5e,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOuc,GAAc9M,QA5DhB,WAClBmN,GAAsB,MA4Ddnf,EAAAjC,EAAAkC,cAACsf,GAAAxhB,EAAD,CACEsV,MAAOsM,EAAarc,gBACpBkc,iBAAkB,SAACnM,GAAD,OAChBpD,EAAqB,kBAAmBoD,EAAMoM,IAAK,aAIvD,MAENzf,EAAAjC,EAAAkC,cAAA,2BACgB,IACdD,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQpQ,KAAK,YAAYH,UAAU,gBAAgBoQ,QApE/B,WACxB+N,GAAgBD,MAoEXA,EACC9f,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOqc,IACV5e,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOuc,GAAc9M,QAnEV,WACxB+N,GAAe,MAmEP/f,EAAAjC,EAAAkC,cAACsf,GAAAxhB,EAAD,CACEsV,MAAOsM,EAAarc,gBACpBkc,iBAAkB,SAACnM,GAAD,OAChBpD,EAAqB,cAAeoD,EAAMoM,IAAK,aAInD,QCzFNO,WAAmC,WAAM,IAAAC,EACQpU,KAA7C9G,EADqCkb,EACrClb,QAASiI,EAD4BiT,EAC5BjT,SAAUN,EADkBuT,EAClBvT,cAAe5H,EADGmb,EACHnb,OAa1C,OACE9E,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,oBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,eAAf,kBAkBEkD,KAAY4H,GACZ1M,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,mBAlDI,SAAC8K,EAA6BuD,GAA9B,IAAArS,EAAA,OAAAA,EAAA,GAAAnC,OAAA0G,EAAA,EAAA1G,CAAAmC,EACxB5D,EACCgG,EAAAjC,EAAAkC,cAACigB,GAAD,CAAgBxT,cAAeA,EAAeuD,qBAAsBA,KAF7CxU,OAAA0G,EAAA,EAAA1G,CAAAmC,EAIxB5D,EACCgG,EAAAjC,EAAAkC,cAACoD,GAAD,CAAiBqJ,cAAeA,EAAeuD,qBAAsBA,KAL9CxU,OAAA0G,EAAA,EAAA1G,CAAAmC,EAOxB5D,EACCgG,EAAAjC,EAAAkC,cAACkgB,GAAD,CAAgBzT,cAAeA,EAAeuD,qBAAsBA,KAR7CxU,OAAA0G,EAAA,EAAA1G,CAAAmC,EAUxB5D,EACCgG,EAAAjC,EAAAkC,cAACmgB,GAAD,CAAgB1T,cAAeA,EAAeuD,qBAAsBA,KAX7CrS,EAmDhByiB,CAAmB3T,EAjCC,SAACnK,EAAetF,EAAeP,GAC1DqI,EAAQkL,qBACNjD,EAASa,KACTb,EAASvQ,GACT8F,EACAtF,EACAP,EACAgQ,KA0B6DA,EAAchQ,UCzDpE4jB,WACN,yBAODC,GAA4C,SAAApgB,GAAS,IACjDwW,EAAYxW,EAAZwW,QADiD6J,EAExCC,aAAQ,CAAE9f,KAAM,CAAEjE,KAAM4jB,GAAuB1jB,QAAS+Z,EAAQja,QAAxEgkB,EAFgDjlB,OAAAoM,EAAA,EAAApM,CAAA+kB,EAAA,MAGzD,OACExgB,EAAAjC,EAAAkC,cAAA,WACED,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,kBAAkB+P,IAAK+O,GACpC1gB,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAMia,EAAQ5U,OACpB/B,EAAAjC,EAAAkC,cAAA,QAAM2B,UAAU,QAAQ+U,EAAQjZ,6BCdlCijB,WAAkB,CACtB,CACE5e,KAAM,aACNQ,MAAO,YACPtF,MAAO,QAET,CACE8E,KAAM,eACNQ,MAAO,YACPtF,MAAO,UAET,CACE8E,KAAM,cACNQ,MAAO,YACPtF,MAAO,SAET,CACE8E,KAAM,YACNQ,MAAO,iBACPtF,MAAO,aAET,CACE8E,KAAM,OACNQ,MAAO,aACPtF,MAAO,QAET,CACE8E,KAAM,SACNQ,MAAO,aACPtF,MAAO,YAIL2hB,GAAU,CACdxR,SAAU,WACVyR,OAAQ,KAEJC,GAAQ,CACZ1R,SAAU,QACV8J,IAAK,MACL6H,MAAO,MACPC,OAAQ,MACR7H,KAAM,OAGFyJ,GAAsC,SAAAhjB,GAAkC,IAA/BkS,EAA+BlS,EAA/BkS,gBACrCvN,EADoE3E,EAAdhB,QACtD2F,MADoEmF,EAExBC,oBAAS,GAFeC,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAErEwX,EAFqEtX,EAAA,GAEjDuX,EAFiDvX,EAAA,GAY5E,OACE5H,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,sBACb5B,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,gBACb5B,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,YAAYkF,UAAU,kBACjC5B,EAAAjC,EAAAkC,cAAAqf,GAAA,GAAariB,MAAOsF,EAAMiB,SAAUsP,SAAU,SAACvC,GAAD,OAAYT,EAAgB,WAAYS,OAExFvQ,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQpQ,KAAK,cAAcH,UAAU,gBAAgBoQ,QAdrC,WAClBmN,GAAuBD,MAcpBA,EACClf,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOqc,IACV5e,EAAAjC,EAAAkC,cAAA,OAAKsC,MAAOuc,GAAc9M,QAbd,WAClBmN,GAAsB,MAahBnf,EAAAjC,EAAAkC,cAAC4gB,GAAA,aAAD,CACExN,MAAO9Q,EAAM8Q,MACbmM,iBAAkB,SAACnM,GAAD,OAAgBvD,EAAgB,QAASuD,EAAMoM,SAGnE,KACHkB,GAAgBhkB,IAAI,SAACgE,EAAM+K,GAAP,OACnB1L,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEpQ,KAAMpB,EAAKoB,KACXnC,IAAK8L,EACL9J,UAAU,gBACVoQ,QAAS,kBAAMlC,EAAgBnP,EAAK4B,MAAO5B,EAAK1D,cCXpD6jB,WAAY,SAChBC,EACAnkB,GAEA,OAAIA,EAAQF,OAAS1C,GAAkB+mB,EAAa1b,QAE/B0b,EAAa1b,QAAQ2b,wBACtB9Z,OAHgDtK,EAAQ4Q,KAAKtG,SAM7E+Z,GAAoB,SAACvkB,EAAmBwkB,GAC5C,IAAMC,EAAiB,CACrBnC,QAAQ,EACRoC,YAAY,EACZC,aAAa,EACbtC,OAAO,EACP5H,MAAM,EACND,KAAK,EACLoK,SAAS,EACTC,UAAU,GAGZ,OAAI7kB,IAAS1C,GACXmnB,EAAepC,OAASmC,EACjBC,GAGLD,EAAaC,OAAjB,GAuIaK,GA5HW,SAAArhB,GAAS,IACzB1D,EAA2B0D,EAA3B1D,GAAI0Q,EAAuBhN,EAAvBgN,UAAWvQ,EAAYuD,EAAZvD,QADUqjB,EAEmBpU,KAA5C/G,EAFyBmb,EAEzBnb,OAAQ4H,EAFiBuT,EAEjBvT,cAAe3H,EAFEkb,EAEFlb,QAAS4J,EAFPsR,EAEOtR,QAElC8S,EAAe/U,GAAiBA,EAAchQ,OAAS1C,EAEvD+mB,EAAe3P,mBAEbhE,EAAmBxQ,EAAnBwQ,SAAUI,EAAS5Q,EAAT4Q,KAIZ3I,EAAWE,EAAQ8H,gBAAgBjQ,GACnCgF,EAAakD,EAAqB,GAAZ,UAiE5B,OACE9E,EAAAjC,EAAAkC,cAACyhB,GAAA,EAAD,CACE9f,UAAWA,EACX+f,OAAO,SAEPvU,SAAUA,EACVI,KAAM,CAAEtH,MAAOsH,EAAKtH,MAAOgB,OAAQ4Z,GAAUC,EAAcnkB,IAC3DoV,QAAS,SAACzB,GAAD,OA3EW,SAACA,GAAD,OAAYA,EAAEqR,kBA2EbA,CAAgBrR,IACrCsR,cAvEkB,SAACtR,GACjB5B,IACJ5J,EAAQkK,iBAAiBrS,GACzBmI,EAAQgL,YAAY5C,EAAW1Q,GAC/BsI,EAAQ+L,eAoENgR,gBAAiBjd,GAAYC,GAAU6J,EACvCoT,WAlEe,SAACxR,EAAQ9S,GAC1Bb,EAAQwQ,SAASK,EAAIhQ,EAAKgQ,EAC1B7Q,EAAQwQ,SAASM,EAAIjQ,EAAKiQ,EAE1B3I,EAAQgJ,cAAcZ,EAAW1Q,EAAIG,IA+DnCukB,eAAgBF,GAAkBrkB,EAAQF,KAAMoI,GAChDkd,aA7DiB,SACnBzR,EACA0R,EACAC,EACAC,EAEA/U,GACG,IAAAgV,EACuBF,EAAWlB,wBAA7B9a,EADLkc,EACKlc,MAAOgB,EADZkb,EACYlb,OAEftK,EAAQwQ,SAASK,EAAIL,EAASK,EAC9B7Q,EAAQwQ,SAASM,EAAIN,EAASM,EAC9B9Q,EAAQ4Q,KAAKtH,MAAQA,EACrBtJ,EAAQ4Q,KAAKtG,OAASA,EACtBnC,EAAQgJ,cAAcZ,EAAW1Q,EAAIG,MAiDjCkI,GAAUD,GACV7E,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASrQ,UAAU,aAAasQ,UAAU,QAAQ3K,MAAM,UACtDvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEzV,KAAK,SACLqF,KAAK,QACLyL,KAAK,QACL4E,MAAM,SACNJ,QAAS,kBAAMjN,EAAQiK,cAAc7B,EAAW1Q,QAIpDqI,GAAUD,GAAY4c,GACtBzhB,EAAAjC,EAAAkC,cAACoiB,GAAD,CAAcvS,gBA7BI,SAACvN,EAAetF,GACtC8H,EAAQ+K,gBAAgB3C,EAAW1Q,EAAI8F,EAAOtF,EAAOL,IA4BDA,QAASA,IA9M3C,SACpBA,EACAmkB,EACAnc,EACA2K,EACAL,EACAI,EACAI,EACAC,EACA9K,EACAC,EACA+K,EACAlB,GAEA,IAAK/R,EAAS,OAAO,KAErB,GAAIA,EAAQF,OAAS1C,EACnB,OAAOgG,EAAAjC,EAAAkC,cAACqiB,GAAD,CAAW/f,MAAO3F,EAAQ2F,QAGnC,GAAI3F,EAAQF,OAAS1C,EACnB,OAAOgG,EAAAjC,EAAAkC,cAACsiB,GAAD,CAAYhgB,MAAO3F,EAAQ2F,QAGpC,GAAI3F,EAAQF,OAAS1C,GAAiB,cAAe4C,EAAS,KACpDa,EAAqDb,EAArDa,KAAMqJ,EAA+ClK,EAA/CkK,aAAc/C,EAAiCnH,EAAjCmH,UAAWxB,EAAsB3F,EAAtB2F,MAAOmC,EAAe9H,EAAf8H,WAE9C,OACE1E,EAAAjC,EAAAkC,cAACuiB,GAAD,CACEhQ,SAAUuO,EACVtjB,KAAMA,EACNqJ,aAAcA,EACd/C,UAAWA,EACXxB,MAAOA,EACPmC,WAAYA,EACZG,SAAUA,EACVC,OAAQA,EACRF,YAAaA,EACb+J,QAASA,EACT5J,QAAS,CACPwK,aACAL,uBACAI,0BACAI,4BACAC,kCAKR,OAAI/S,EAAQF,OAAS1C,GAAiB,UAAW4C,EACxCoD,EAAAjC,EAAAkC,cAACwiB,GAAD,CAAWlgB,MAAO3F,EAAQ2F,MAAOtF,MAAOL,EAAQK,QAErDL,EAAQF,OAAS1C,GAAgB,UAAW4C,EAE5CoD,EAAAjC,EAAAkC,cAACyiB,GAAD,CACEngB,MAAO3F,EAAQ2F,MACfsC,SAAUA,EACV5H,MAAOL,EAAQK,MACf4S,iBAAkBA,SANxB,EA4JK8S,CACC/lB,EACAmkB,EA9Dc,SAAChe,EAAaC,EAAgB/F,GAC/CL,EAAyBa,KAAKsF,GAAKC,GAAU/F,EAC9C8H,EAAQgJ,cAAcZ,EAAW1Q,EAAIG,IAWpB,SAACmG,EAAaC,GAC/B+B,EAAQwK,WAAWpC,EAAW1Q,EAAIG,EAAyBmG,EAAKC,IATrC,WAC3B+B,EAAQmK,qBAAqB/B,EAAW1Q,EAAIG,IAGd,WAC9BmI,EAAQuK,wBAAwBnC,EAAW1Q,EAAIG,IAOf,SAACmG,GACjCgC,EAAQ2K,0BAA0BvC,EAAW1Q,EAAIG,EAAyBmG,IAGvC,SAACC,GACpC+B,EAAQ4K,6BAA6BxC,EAAW1Q,EAAIG,EAAyBoG,IA+CzE6B,EACAC,EA7CmB,SAAC7H,GACxB8H,EAAQ8K,iBAAiB1C,EAAW1Q,EAAIQ,EAAOL,IA8C3C+R,KCrNFiU,GAA+B,SAAAziB,GAAS,IACpCgN,EAA8ChN,EAA9CgN,UAAWU,EAAmC1N,EAAnC0N,KAAM/I,EAA6B3E,EAA7B2E,OAAQC,EAAqB5E,EAArB4E,QAAS4J,EAAYxO,EAAZwO,QADEjH,EAKRC,mBAASyE,SAAS9H,KAAK0c,yBALfpZ,EAAAnM,OAAAoM,EAAA,EAAApM,CAAAiM,EAAA,GAKrCmb,EALqCjb,EAAA,GAKzBkb,EALyBlb,EAAA,GAAA4E,EAMd7E,mBAASkb,EAAW3L,KANNzK,EAAAhR,OAAAoM,EAAA,EAAApM,CAAA+Q,EAAA,GAMrCuW,EANqCtW,EAAA,GAM5BuW,EAN4BvW,EAAA,GAQtCwW,EAAe7R,mBARuB8R,EAUxBC,aAAQ,CAC1BC,OAAQ9C,GACR+C,KAF0B,SAErB1iB,EAAkB2iB,GACrB,IAAMlW,EAAWkW,EAAQC,kBAEzB,GAAKxY,GAAQqC,EAAb,CAEAA,EAASK,EAAIL,EAASK,EAAIwV,EAAQ5d,QAAQme,WAC1CpW,EAASM,EAAIN,EAASM,EAAIuV,EAAQ5d,QAAQoe,UAAYV,EAElDpiB,EAAK/D,UAAY5C,EACnB+K,EAAQmL,SAAS/C,EAAWxM,EAAK/D,QAASwQ,GAE1CrI,EAAQmI,WAAWC,EAAWxM,EAAK/D,QAASwQ,GAG9BkW,EAAQI,YAO1BzG,QAAS,SAAAqG,GAAO,MAAK,CACnBK,OAAQL,EAAQK,SAChBC,cAAeN,EAAQK,OAAO,CAAEE,SAAS,QAnCDC,EAAAroB,OAAAoM,EAAA,EAAApM,CAAAynB,EAAA,GAUrCnY,EAVqC+Y,EAAA,GAUhCT,EAVgCS,EAAA,GAuCtCC,EAAW,WACfjB,EAAc1W,SAAS9H,KAAK0c,yBAC5BgC,GAAYH,EAAW3L,MAUzB,OAPA/K,oBAAU,WAER,OADAxD,OAAOU,iBAAiB,SAAU0a,GAC3B,WACLpb,OAAOqb,oBAAoB,SAAUD,MAKvC/jB,EAAAjC,EAAAkC,cAAA,OACE2B,UAAU,iBACV+P,IAAK0R,EACLrR,QAAS,WACPjN,EAAQ6H,qBACR7H,EAAQiL,kBAGVhQ,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAS,QAAAtF,OAAWqS,EAA2B,GAAjB,gBAAuBgD,IAAKsR,GAC9C,IAAd9V,IAAoBrI,GACnB9E,EAAAjC,EAAAkC,cAAAgS,GAAA,GAASrQ,UAAU,cAAcsQ,UAAU,QAAQ3K,MAAM,UACvDvH,EAAAjC,EAAAkC,cAAAkS,GAAA,GACEzV,KAAK,SACLqF,KAAK,QACLyL,KAAK,QACL4E,MAAM,SACNJ,QAAS,kBAAMjN,EAAQgK,WAAW5B,OAKvCU,EAAKlR,IAAI,SAACC,EAAS8O,GAAV,OACR1L,EAAAjC,EAAAkC,cAACgkB,GAAD,CAAKrkB,IAAK8L,EAAOjP,GAAIiP,EAAOyB,UAAWA,EAAWvQ,QAASA,MAG7DoD,EAAAjC,EAAAkC,cAAA,QAAM2B,UAAU,QAAQuL,EAAY,MCjFtC+W,GAAgC,SAAA/jB,GAAS,IACrC8L,EAAsC9L,EAAtC8L,MAAOkC,EAA+BhO,EAA/BgO,YAAayB,EAAkBzP,EAAlByP,cAE5B,OACE5P,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,cACZnG,OAAO0oB,OAAO3b,IAAU7L,IAAI,SAAAiB,GAAA,IAAG+Y,EAAH/Y,EAAG+Y,QAAH,OAC3B3W,EAAAjC,EAAAkC,cAACmkB,GAAD,CAAyBxkB,IAAK+W,EAAQjZ,KAAMiZ,QAASA,MAGvD3W,EAAAjC,EAAAkC,cAACud,GAAD,CACElW,KAAM6G,EACN5G,MAAM,iBACNrB,MAAO,IACPoS,UAAW,CAAEpR,OAAQ,QACrBzI,QACEuB,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAWZ,UAAU,cACnB5B,EAAAjC,EAAAkC,cAACgY,GAAD,CAAahM,MAAOA,KAGxBuM,QAAS5I,EACTlM,OAAQ,SC+JH2gB,WAAwB7iB,YAxJa,SAAArB,GAAS,IAhBnC4L,EAgBmCkU,EASrDpU,KAPFI,EAFuDgU,EAEvDhU,MACAnH,EAHuDmb,EAGvDnb,OACAqJ,EAJuD8R,EAIvD9R,YACApJ,EALuDkb,EAKvDlb,QACAwJ,EANuD0R,EAMvD1R,cACAnC,EAPuD6T,EAOvD7T,SACAuC,EARuDsR,EAQvDtR,QAGI2V,EAAelY,GAAYA,EAAS5O,SAAW5D,EAAYC,qBAXRoiB,EAaXxU,KAbWyU,EAAAzgB,OAAAoM,EAAA,EAAApM,CAAAwgB,EAAA,GAalDE,EAbkDD,EAAA,GAanCE,EAbmCF,EAAA,GAAA/T,EAc1BzG,qBAAWtH,GAAlCW,EAdiDoN,EAcjDpN,OAAQE,EAdyCkN,EAczClN,WAEVspB,EAAe,SAACtnB,GAAD,OAAgC,WACnD,IAAMsK,EACM,WAAVtK,EAAqB,mCAAqC,mCAE5Dmf,EAAqBtU,cAAc,CACjCR,MAAM,EACNC,QACAC,OAAQ,CAAEvK,QAAO0D,KAAMyL,OAIrB2Q,EAAyB,eAAAnf,EAAAnC,OAAAoC,EAAA,EAAApC,CAAAqC,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAuJ,EAAA,OAAA1J,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACxBgJ,EAAW2U,EAAX3U,SAEQA,EAAO7G,KAHS,CAAArC,EAAAE,KAAA,eAAAF,EAAAQ,OAAA,oBAKX,WAAjB0I,EAAOvK,MALqB,CAAAqB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAMxBzD,EAAOyM,EAAO7G,KAAKlE,IANK,UASX,WAAjB+K,EAAOvK,MATqB,CAAAqB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAUxBvD,EAAWuM,EAAO7G,KAAKlE,IAVC,OAahC2f,EAAqBpU,aAEA,WAAjBR,EAAOvK,OACTkD,EAAMsa,QAAQ+J,SAhBgB,yBAAAlmB,EAAAW,SAAAhB,MAAH,yBAAAL,EAAAvB,MAAAV,KAAAE,YAAA,GAoB/B,OACEmE,EAAAjC,EAAAkC,cAAA2d,EAAA,GAAQhc,UAAU,YAChB5B,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQa,OAAR,CAAe7c,UAAU,UACvB5B,EAAAjC,EAAAkC,cAACsB,EAAD,MAEAvB,EAAAjC,EAAAkC,cAAAkS,GAAA,EAAQsS,MAAR,MACI9V,IAAY7J,GACZ9E,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQH,QAASjN,EAAQ+J,SACvB9O,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,OAAO4V,MAAM,WAD1B,YAMFtS,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQH,QAASjN,EAAQ8J,oBAAzB,UAEE7O,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,eAGbsD,EAAAjC,EAAAkC,cAACuC,GAAA,EAAD,CAAiB4J,SAAUpM,EAAAjC,EAAAkC,cAACgY,GAAD,CAAahM,MAAOA,IAAW4L,SAAS,gBAChE,SAAAzY,KAAG8Y,KAAH9Y,EAAS+Y,IAAT,IAAcC,EAAdhZ,EAAcgZ,QAAd,OAAAhZ,EAAuByL,MACtBuN,EACE,sBAEApY,EAAAjC,EAAAkC,cAAAkS,GAAA,sBAEEnS,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,gBAMnBsD,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQH,QAASjN,EAAQ6K,eAAzB,QAEE5P,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,UAAU4V,MAAM,aAG3BxN,GACA9E,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQH,QAASuS,EAAa,WAA9B,SAEEvkB,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,YAId4nB,GACCtkB,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQH,QAASuS,EAAa,WAA9B,SAEEvkB,EAAAjC,EAAAkC,cAAAoS,EAAA,GAAM3V,KAAK,gBAKjBsD,EAAAjC,EAAAkC,cAAAykB,GAAA,EAAYC,MAAZ,CAAkBC,MAAO,EAAGC,MAAM,IAlHlB9Y,EAmHEK,GAhHpBL,EAAUvO,SAAW5D,EAAYG,SAC5B,WAELgS,EAAUvO,SAAW5D,EAAYE,eAC5B,OAELiS,EAAUvO,SAAW5D,EAAYC,qBAC5B,cAGF,GAZgB,KAsHnBmG,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQc,QAAR,CAAgB9c,UAAU,WACxB5B,EAAAjC,EAAAkC,cAAC6kB,GAAA,EAAD,CAAaC,QAASC,OAClBlgB,GACA9E,EAAAjC,EAAAkC,cAACglB,GAAD,CACEhZ,MAAOA,EACPkC,YAAaA,EACbyB,cAAe7K,EAAQ6K,gBAI3B5P,EAAAjC,EAAAkC,cAAA,OAAK2B,UAAU,SACZqK,EAAMtP,IAAI,SAACkR,EAAMnC,GAAP,OACT1L,EAAAjC,EAAAkC,cAACilB,GAAD,CACEtlB,IAAK8L,EACLyB,UAAWzB,EACXmC,KAAMA,EACN9I,QAASA,EACTD,OAAQA,EACR6J,QAASA,OAIf3O,EAAAjC,EAAAkC,cAAAkS,GAAA,GAAQzV,KAAK,UAAUsV,QAASjN,EAAQ+L,YAAxC,YAGA9Q,EAAAjC,EAAAkC,cAAAklB,GAAA,GACE5d,MAAM,WACNrB,MAAO,IACPwS,QAASnK,EACTiK,QAASzT,EAAQgM,aAEjB/Q,EAAAjC,EAAAkC,cAACmlB,GAAD,SAKNplB,EAAAjC,EAAAkC,cAAA2d,EAAA,EAAQe,OAAR,CAAe/c,UAAU,UAAzB,4BAEA5B,EAAAjC,EAAAkC,cAACud,GAAD,CACElW,KAAM6U,EAAc7U,KACpBC,MAAO4U,EAAc5U,MACrB9I,QAAS0d,EAAc1d,QACvB8Z,SAAUwE,EACVvE,QAAS4D,EAAqBpU,iBCrLhCqd,GAAiC,SAAAllB,GAAS,IAEnCe,EACPf,EADFsB,MAASP,OAGX,OACElB,EAAAjC,EAAAkC,cAAC4L,GAAiB3L,SAAlB,CAA2B8L,YAAa9K,EAAOzE,IAC7CuD,EAAAjC,EAAAkC,cAACokB,GAAD,QCVN,SAASiB,GAAanlB,GAKlB,OAAOH,EAAAjC,EAAAkC,cAACslB,EAAA,EAAD,CAAUjkB,GAAG,kCCExBkkB,IAASre,OACPnH,EAAAjC,EAAAkC,cAACwlB,EAAD,KACEzlB,EAAAjC,EAAAkC,cAAC6Z,GAAgB5Z,SAAjB,KACEF,EAAAjC,EAAAkC,cDCoB,kBACxBD,EAAAjC,EAAAkC,cAACoB,EAAA,EAAD,KACErB,EAAAjC,EAAAkC,cAACslB,EAAA,EAAD,CAAOG,OAAO,EAAM5kB,KAAK,IAAIqG,OAAQme,KACrCtlB,EAAAjC,EAAAkC,cAACslB,EAAA,EAAD,KACEvlB,EAAAjC,EAAAkC,cAACslB,EAAA,EAAD,CAAOzkB,KAAK,iBAAiB6kB,UAAWpH,KACxCve,EAAAjC,EAAAkC,cAACslB,EAAA,EAAD,CAAOzkB,KAAK,gBAAgB6kB,UAAWN,QCNvC,QAGJjZ,SAASwZ,eAAe,SAK1Bhc,EAAcG,8ECxBd8b,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.0f2fb16e.chunk.js","sourcesContent":["import firebase from '@firebase/app';\nimport '@firebase/auth';\nimport '@firebase/firestore';\nimport { FirebaseFirestore } from '@firebase/firestore-types';\n\nconst config = {\n  apiKey: 'AIzaSyCopkTv3qV3lT5nE-TARB5FjBe-TwR8A8w',\n  authDomain: 'binale-software-invoicing.firebaseapp.com',\n  databaseURL: 'https://binale-software-invoicing.firebaseio.com',\n  projectId: 'binale-software-invoicing',\n  storageBucket: 'binale-software-invoicing.appspot.com',\n  messagingSenderId: '878563105532',\n  uploadString: 'binale-software-invoicing.firebaseapp.com',\n};\n\nfirebase.initializeApp(config);\n\nexport const firestore: FirebaseFirestore = (firebase as any).firestore();\n\nexport { firebase };\n","export type GuidType = string;\nexport type DateISO = string;\n\n/*\n  File system models -- start\n */\n\nconst FOLDER = 'FILE_SYSTEM_ELEMENT__FOLDER';\nconst DOCUMENT = 'FILE_SYSTEM_ELEMENT__DOCUMENT';\n\nexport const FILE_SYSTEM_ELEMENT = { FOLDER, DOCUMENT };\n\nexport type FileSystemElementType =\n  | typeof FILE_SYSTEM_ELEMENT.FOLDER\n  | typeof FILE_SYSTEM_ELEMENT.DOCUMENT;\n\nexport interface UserLog {\n  userId?: GuidType;\n  login: string;\n  date: DateISO;\n}\n\nexport interface FSTarget<T> {\n  name?: string;\n  value: string;\n  item: T;\n}\n\nexport interface FileSystemElement {\n  id?: GuidType;\n  parentId: GuidType | null;\n  name: string;\n  type: FileSystemElementType;\n  status?: FileStatusType;\n  formTemplate?: boolean;\n  documentId?: GuidType;\n  editor?: UserLog;\n  creator?: UserLog;\n  isDefault?: boolean;\n}\n\nexport interface FileSystemNode extends FileSystemElement {\n  children?: FileSystemNode[];\n}\n\nconst DOCUMENT_IN_PROGRESS = 'FILE_STATUS__DOCUMENT_IN_PROGRESS';\nconst DOCUMENT__DONE = 'FILE_STATUS__DOCUMENT__DONE';\nconst TEMPLATE = 'FILE_STATUS__TEMPLATE';\n\nexport const FILE_STATUS = { DOCUMENT_IN_PROGRESS, DOCUMENT__DONE, TEMPLATE };\n\nexport type FileStatusType =\n  | typeof FILE_STATUS.DOCUMENT_IN_PROGRESS\n  | typeof FILE_STATUS.DOCUMENT__DONE\n  | typeof FILE_STATUS.TEMPLATE;\n\n/*\n  File system models -- end\n*/\n\n/*\n  Document models -- start\n*/\n\nconst TEXT = 'ELEMENT__TEXT';\nconst BLOCK = 'ELEMENT__BLOCK';\nconst BORDER = 'ELEMENT__BORDER';\nconst IMAGE = 'ELEMENT__IMAGE';\nconst TABLE = 'ELEMENT__TABLE';\n\nexport const ELEMENT = { TEXT, BLOCK, BORDER, IMAGE, TABLE };\n\nexport type ElementType =\n  | typeof ELEMENT.TEXT\n  | typeof ELEMENT.BLOCK\n  | typeof ELEMENT.BORDER\n  | typeof ELEMENT.IMAGE\n  | typeof ELEMENT.TABLE;\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport interface Size {\n  height: number;\n  width: number;\n}\n\nexport interface Element {\n  id: GuidType;\n  type: ElementType;\n  position: Position;\n  size: Size;\n}\n\nexport interface BaseStyle {\n  width?: string;\n  height?: string;\n  borderWidth?: string;\n  borderColor?: string;\n  borderStyle?: string;\n  border?: string;\n  borderTop?: string;\n  borderRight?: string;\n  borderBottom?: string;\n  borderLeft?: string;\n  opacity?: string;\n  backgroundColor?: string;\n  borderBottomWidth?: string;\n  borderBottomStyle?: string;\n  borderBottomColor?: string;\n  borderRightWidth?: string;\n  borderRightStyle?: string;\n  borderRightColor?: string;\n}\n\nexport interface FontStyle {\n  color?: string;\n  fontFamily?: string;\n  fontSize?: string;\n  fontStyle?: string;\n  fontWeight?: string;\n  letterSpacing?: string;\n  lineHeight?: string;\n  textAlign?: string;\n  textTransform?: string;\n  textDecoration?: string;\n}\n\nexport type ElementStyle = BaseStyle & FontStyle;\n\nexport interface CellStyle {\n  colSpan?: number;\n  // rowSpan?: number; TODO: implement in next version\n  style?: ElementStyle;\n}\n\nexport interface CellStyles {\n  [id: string]: CellStyle;\n}\n\nexport type CellType = 'header' | 'body' | 'footer' | 'pdf';\n\nexport interface CellProps {\n  isActive?: boolean;\n  isDone?: boolean;\n  row: number;\n  column: number;\n  value: string;\n  style: ElementStyle;\n  changeTable: ChangeTable | undefined;\n  actions?: {\n    addColSpan: (row: number, column: number) => void;\n    removeColumnFromTableElement: (column: number) => void;\n  };\n  cellType?: CellType;\n}\n\nexport interface TableProps {\n  data: string[][];\n  columnsCount: number;\n  hasFooter?: boolean;\n  style?: ElementStyle;\n  cellsStyle?: CellStyles;\n}\n\nexport type TableElement = Element & TableProps;\n\nexport interface BlockProps {\n  style?: BaseStyle;\n}\n\nexport type BlockElement = Element & BlockProps;\n\nexport interface BorderProps {\n  style?: BaseStyle;\n}\n\nexport type BorderElement = Element & BorderProps;\n\nexport interface TextProps {\n  value?: string;\n  style?: ElementStyle;\n}\n\nexport type TextElement = Element & TextProps;\n\nexport interface ImageProps {\n  style?: BaseStyle;\n  value?: string;\n}\n\nexport type ImageElement = Element & ImageProps;\n\nexport type ElementUnion = TableElement | BlockElement | BorderElement | TextElement | ImageElement;\n\nexport interface Control {\n  name: string;\n  icon: string;\n  type: ElementType;\n}\n\nexport type DocumentPage = ElementUnion[];\n\nexport interface ElementControl {\n  control: Control;\n  element: ElementUnion;\n}\n\nexport interface DragObject {\n  type: string; // TODO: make type\n  element: ElementType;\n}\n\nexport type ChangeTable = (row: number, column: number, value: string) => void;\n\nexport type SerializedDocument = string;\n\nexport interface Document {\n  id?: GuidType;\n  templateId?: GuidType;\n  name: string;\n  content: SerializedDocument; // === JSON.stringify(DocumentPage[])\n}\n\n/*\n  Document models -- end\n*/\n\n/*\n  User models -- start\n*/\n\nconst ADMIN = 'ROLE__ADMIN';\nconst MODERATOR = 'ROLE__MODERATOR';\nconst PARTICIPANT = 'ROLE__PARTICIPANT';\n\nexport const ROLE = { ADMIN, MODERATOR, PARTICIPANT };\n\nexport type RoleType = typeof ROLE.ADMIN | typeof ROLE.MODERATOR | typeof ROLE.PARTICIPANT;\n\nexport interface User {\n  id: GuidType;\n  login: string;\n  role: RoleType;\n}\n\n/*\n  User models -- end\n*/\n","import React from 'react';\n\nimport { CollectionReference, DocumentReference } from '@firebase/firestore-types';\nimport { firestore } from 'config/firebase';\n\nimport {\n  Document,\n  FILE_STATUS,\n  FILE_SYSTEM_ELEMENT,\n  FileSystemElement,\n  FileSystemElementType,\n  FileSystemNode,\n} from 'models';\n\ninterface Company {\n  uuid: string;\n}\n\ninterface Props {\n  activeCompany?: Company;\n}\n\ninterface State {\n  fsItems: Map<string, FileSystemElement>;\n  parentForCreateFromTemplate: FileSystemElement | null;\n  copiedElement: FileSystemElement | null;\n}\n\ninterface FSContextInterface {\n  fsItems: Map<string, FileSystemElement>;\n  documents: CollectionReference;\n  copiedElement: FileSystemElement | null;\n  parentForCreateFromTemplate: FileSystemElement | null;\n  setParentForCreateFromTemplate: (parent: FileSystemElement) => void;\n  getFolderElementsTreeById: (id: string, type?: FileSystemElementType) => FileSystemNode[];\n  getFolderElementsById: (id: string, type?: FileSystemElementType) => FileSystemElement[];\n  getElement: (id?: string) => FileSystemElement | null;\n  commit: (id?: string) => Promise<void>;\n  rename: (data: FileSystemElement) => Promise<void>;\n  removeById: (id?: string) => Promise<void>;\n  createItem: (data: FileSystemElement) => Promise<DocumentReference>;\n  copyItem: (copyData: FileSystemElement) => void;\n  pasteItem: (parentId: string) => Promise<DocumentReference | void>;\n}\nconst mockFn: any = () => {};\n\nconst documents = firestore.collection('documents');\n\nexport const FSContext = React.createContext<FSContextInterface>({\n  fsItems: new Map<string, FileSystemElement>(),\n  documents,\n  parentForCreateFromTemplate: null,\n  copiedElement: null,\n  setParentForCreateFromTemplate: mockFn,\n  getFolderElementsTreeById: mockFn,\n  getFolderElementsById: mockFn,\n  getElement: mockFn,\n  commit: mockFn,\n  rename: mockFn,\n  removeById: mockFn,\n  createItem: mockFn,\n  copyItem: mockFn,\n  pasteItem: mockFn,\n});\n\nexport class FSProvider extends React.PureComponent<Props, State> {\n  state: State = {\n    fsItems: new Map<string, FileSystemElement>(),\n    parentForCreateFromTemplate: null,\n    copiedElement: null,\n  };\n\n  collection = firestore.collection('folders');\n\n  componentDidMount() {\n    this.subscribe();\n  }\n\n  componentWillReceiveProps(nextProps: Readonly<Props>) {\n    this.subscribe();\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const { fsItems, copiedElement, parentForCreateFromTemplate } = this.state;\n\n    return (\n      <FSContext.Provider\n        value={{\n          fsItems,\n          documents,\n          copiedElement,\n          parentForCreateFromTemplate,\n          setParentForCreateFromTemplate: this.setParentForCreateFromTemplate,\n          getFolderElementsTreeById: this.getFolderElementsTreeById,\n          getFolderElementsById: this.getFolderElementsById,\n          getElement: this.getElement,\n          commit: this.commit,\n          rename: this.rename,\n          copyItem: this.copyItem,\n          createItem: this.createItem,\n          pasteItem: this.pasteItem,\n          removeById: this.removeById,\n        }}\n      >\n        {this.props.children}\n      </FSContext.Provider>\n    );\n  }\n\n  protected subscribe() {\n    this.unsubscribe();\n    this.unsubscribe = this.collection.onSnapshot(querySnapshot => {\n      const map = new Map<string, FileSystemElement>();\n      // todo consider docChanges\n      // https://firebase.google.com/docs/firestore/query-data/listen#view_changes_between_snapshots\n      querySnapshot.forEach(doc => {\n        const data: FileSystemElement = doc.data() as any;\n        data.id = doc.id;\n        map.set(doc.id, data);\n      });\n      this.setState({ fsItems: map });\n    });\n  }\n\n  protected unsubscribe: () => void = () => {};\n\n  protected getFolderElementsTreeById = (\n    id: string,\n    type?: FileSystemElementType,\n  ): FileSystemNode[] => {\n    const elements = this.getFolderElementsById(id, type);\n\n    return elements.map<FileSystemNode>(element => {\n      if (!element.id) return element;\n      const children = this.getFolderElementsTreeById(element.id, type);\n      return children.length > 0 ? { ...element, children } : element;\n    });\n  };\n  protected getFolderElementsById = (\n    id: string,\n    type?: FileSystemElementType,\n  ): FileSystemElement[] => {\n    const items: FileSystemElement[] = [];\n\n    this.state.fsItems.forEach(value => {\n      const isNeededType = !type || (type && value.type === type);\n      if (value.parentId === id && isNeededType) items.push({ ...value });\n    });\n\n    return items;\n  };\n  protected getElement = (id?: string): FileSystemElement | null => {\n    if (!id) return null;\n\n    const element = this.state.fsItems.get(id);\n\n    return element || null;\n  };\n  protected commit = (id?: string): Promise<void> => {\n    return this.collection.doc(id).update({ status: FILE_STATUS.DOCUMENT__DONE });\n  };\n  protected rename = (data: FileSystemElement): Promise<void> => {\n    return this.collection.doc(data.id).update({ name: data.name });\n  };\n  protected removeById = (id?: string) => {\n    return this.collection.doc(id).delete();\n  };\n  protected createItem = async (data: FileSystemElement): Promise<DocumentReference> => {\n    try {\n      if (data.type === FILE_SYSTEM_ELEMENT.DOCUMENT) {\n        let newDocument: Document = {\n          name: data.name,\n          content: '[[]]',\n        };\n\n        if (data.formTemplate) {\n          const templateSnapshot = await documents.doc(data.documentId).get();\n          newDocument = templateSnapshot.data() as Document;\n          newDocument.name = data.name;\n        }\n\n        const docRef = await documents.add(newDocument);\n        data.documentId = docRef.id;\n      }\n\n      return await this.collection.add(data);\n    } catch (error) {\n      throw Error('File creation error ' + error);\n    }\n  };\n  protected copyItem = (data: FileSystemElement) => {\n    this.setState({ copiedElement: data });\n  };\n  protected pasteItem = async (parentId: string): Promise<DocumentReference | void> => {\n    const { copiedElement } = this.state;\n    if (!copiedElement) return;\n\n    const newElement: FileSystemElement = {\n      ...copiedElement,\n      parentId,\n    };\n\n    if (copiedElement.parentId === parentId) {\n      newElement.name = `copy_${newElement.name}`;\n    }\n\n    if (newElement.type === FILE_SYSTEM_ELEMENT.DOCUMENT) {\n      if (newElement.status === FILE_STATUS.DOCUMENT__DONE) {\n        newElement.status = FILE_STATUS.DOCUMENT_IN_PROGRESS;\n      }\n\n      newElement.formTemplate = true;\n    }\n\n    const docRef = await this.createItem(newElement);\n\n    this.setState({ copiedElement: null });\n\n    return docRef;\n  };\n  protected setParentForCreateFromTemplate = (parent: FileSystemElement) => {\n    this.setState({ parentForCreateFromTemplate: parent });\n  };\n}\n","import React, { FC, useContext } from 'react';\r\n\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\n\r\nimport { Breadcrumb } from 'antd';\r\n\r\nimport { FSContext } from 'state/context';\r\n\r\nimport { Route } from 'antd/lib/breadcrumb/Breadcrumb';\r\nimport { FileSystemElement, GuidType } from 'models';\r\n\r\nimport './styles.css';\r\n\r\nexport interface BreadcrumbsProps extends RouteComponentProps<{ id: GuidType }> {}\r\n\r\nconst BreadcrumbComponent: FC<BreadcrumbsProps> = props => {\r\n  const { match } = props;\r\n  let { id } = match.params;\r\n\r\n  id = id || 'Root';\r\n\r\n  const { fsItems } = useContext(FSContext);\r\n\r\n  return (\r\n    <Breadcrumb\r\n      className=\"breadcrumb\"\r\n      itemRender={itemRender}\r\n      routes={getBreadcrumbList({ fsItems, id })}\r\n    />\r\n  );\r\n};\r\n\r\ninterface ListProps {\r\n  fsItems: Map<string, FileSystemElement>;\r\n  id: GuidType;\r\n}\r\n\r\nfunction getBreadcrumbList(props: ListProps): Route[] {\r\n  const list: Route[] = [];\r\n\r\n  let item = props.fsItems.get(props.id);\r\n\r\n  for (;;) {\r\n    if (!item) {\r\n      list.reverse();\r\n      break;\r\n    }\r\n\r\n    const { id, name, parentId } = item;\r\n\r\n    list.push({\r\n      path: `/dashboard/${id}`,\r\n      breadcrumbName: name,\r\n      children: [],\r\n    });\r\n\r\n    item = props.fsItems.get(parentId as GuidType);\r\n  }\r\n\r\n  return list;\r\n}\r\n\r\nfunction itemRender(route: Route, params: any, routes: Route[]): React.ReactNode {\r\n  const isLast = routes.indexOf(route) === routes.length - 1;\r\n\r\n  return isLast ? (\r\n    <span>{route.breadcrumbName}</span>\r\n  ) : (\r\n    <Link to={route.path}>{route.breadcrumbName}</Link>\r\n  );\r\n}\r\n\r\nexport { BreadcrumbComponent };\r\n","import { withRouter } from 'react-router';\r\nimport { BreadcrumbComponent } from './breadcrumb';\r\n\r\nexport const Breadcrumb = withRouter(BreadcrumbComponent);\r\n","import { FILE_SYSTEM_ELEMENT, FileSystemElementType } from 'models';\r\n\r\nconst EXPLORER = 'explorer';\r\nconst DOCUMENT = 'document';\r\nconst FOLDER = 'folder';\r\n\r\nexport const CONTEXT_MENU_ID = {\r\n  EXPLORER,\r\n  DOCUMENT,\r\n  FOLDER,\r\n};\r\n\r\nconst explorer = [\r\n  {\r\n    name: 'new folder',\r\n    value: 'new_folder',\r\n    icon: 'folder-add',\r\n  },\r\n  {\r\n    name: 'new file',\r\n    value: 'new_file',\r\n    icon: 'file-add',\r\n  },\r\n  {\r\n    name: 'past',\r\n    value: 'past',\r\n    icon: 'profile',\r\n  },\r\n];\r\n\r\nconst document = [\r\n  {\r\n    name: 'edit',\r\n    value: 'edit-template',\r\n    icon: 'edit',\r\n  },\r\n  {\r\n    name: 'info',\r\n    value: 'info',\r\n    icon: 'info-circle',\r\n  },\r\n  {\r\n    name: 'download',\r\n    value: 'download',\r\n    icon: 'cloud-download',\r\n  },\r\n  {\r\n    name: 'copy',\r\n    value: 'copy',\r\n    icon: 'copy',\r\n  },\r\n  {\r\n    name: 'commit',\r\n    value: 'commit',\r\n    icon: 'file-done',\r\n  },\r\n  {\r\n    name: 'rename',\r\n    value: 'rename',\r\n    icon: 'edit',\r\n  },\r\n  {\r\n    name: 'delete',\r\n    value: 'delete',\r\n    icon: 'delete',\r\n  },\r\n];\r\n\r\nconst folder = [\r\n  {\r\n    name: 'copy',\r\n    value: 'copy',\r\n    icon: 'copy',\r\n  },\r\n  {\r\n    name: 'rename',\r\n    value: 'rename',\r\n    icon: 'edit',\r\n  },\r\n  {\r\n    name: 'delete',\r\n    value: 'delete',\r\n    icon: 'delete',\r\n  },\r\n];\r\n\r\nexport const menus = [\r\n  {\r\n    data: explorer,\r\n    currentId: EXPLORER,\r\n  },\r\n  {\r\n    data: document,\r\n    currentId: DOCUMENT,\r\n  },\r\n  {\r\n    data: folder,\r\n    currentId: FOLDER,\r\n  },\r\n];\r\n\r\nconst contextMenuMap = {\r\n  [FILE_SYSTEM_ELEMENT.FOLDER]: FOLDER,\r\n  [FILE_SYSTEM_ELEMENT.DOCUMENT]: DOCUMENT,\r\n};\r\n\r\nexport const getContextMenuId = (type: FileSystemElementType): string => {\r\n  const contextMenu = contextMenuMap[type];\r\n\r\n  if (contextMenu) return contextMenu;\r\n\r\n  throw new Error('Error of FS element type: ' + type);\r\n};\r\n","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { View } from '@react-pdf/renderer';\r\n\r\nimport { BlockProps } from 'models';\r\n\r\nconst BlockPDF: FC<BlockProps> = props => {\r\n  const { style } = props;\r\n  return <View style={style as CSSProperties} />;\r\n};\r\n\r\nexport { BlockPDF };\r\n","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { BlockProps } from 'models';\r\n\r\nimport './styles.css';\r\n\r\nconst BlockView: FC<BlockProps> = props => {\r\n  const { style } = props;\r\n  return <div className=\"block-element\" style={style as CSSProperties} />;\r\n};\r\n\r\nexport { BlockView };\r\n","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { View } from '@react-pdf/renderer';\r\n\r\nimport { BorderProps } from 'models';\r\n\r\nconst BorderPDF: FC<BorderProps> = props => {\r\n  const { style } = props;\r\n  return <View style={style as CSSProperties} />;\r\n};\r\n\r\nexport { BorderPDF };\r\n","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { BorderProps } from 'models';\r\n\r\nimport './styles.css';\r\n\r\nconst BorderView: FC<BorderProps> = props => {\r\n  const { style } = props;\r\n  return <div className=\"border-element\" style={style as CSSProperties} />;\r\n};\r\n\r\nexport { BorderView };\r\n","import React, { FC } from 'react';\n\nimport { CellProps, CellStyle, CellStyles, CellType, ChangeTable, ElementStyle } from 'models';\n\nexport interface TableMembers {\n  header: string[];\n  body: string[][];\n  footer: string[];\n}\n\nexport interface Count {\n  current: number;\n  length: number;\n}\n\nexport interface CellPosition {\n  row: number;\n  column: number;\n}\n\nconst CELL_POSITION_SPLITTER = '-';\n\nconst DEFAULT_PROPS = {\n  FONT_SIZE: 12,\n  HEADER_BG_COLOR: '#ccc',\n  BODY_BG_COLOR: '#fff',\n  FOOTER_BG_COLOR: '#ccc',\n  CELL_PADDING: '2pt 6pt',\n  BORDER_WIDTH: '1pt',\n  BORDER_COLOR: '#000',\n  BORDER_STYLE: 'solid',\n};\n\nconst DEFAULT_BORDER = `${DEFAULT_PROPS.BORDER_WIDTH} ${DEFAULT_PROPS.BORDER_STYLE} ${\n  DEFAULT_PROPS.BORDER_COLOR\n}`;\n\nexport const getCellPositionFromId = (id: string): CellPosition => {\n  const [row, column] = id.split(CELL_POSITION_SPLITTER);\n  return { row: +row, column: +column };\n};\n\nexport const getIdFromCellPosition = ({ row, column }: CellPosition): string =>\n  `${row}${CELL_POSITION_SPLITTER}${column}`;\n\nconst getCellStyle = (row: number, column: number, styles: CellStyles): CellStyle => {\n  const id = getIdFromCellPosition({ row, column });\n  const style = styles[id];\n  return style || {};\n};\n\nconst getBorderStyle = (row: Count, column: Count, style?: string): ElementStyle => {\n  style = style || DEFAULT_BORDER;\n  const border: ElementStyle = {};\n\n  const isLastRow = row.current + 1 === row.length;\n  const isLastColumn = column.current + 1 === column.length;\n\n  if (!isLastRow) border.borderBottom = style;\n  if (!isLastColumn) border.borderRight = style;\n\n  return border;\n};\n\nexport const baseTableStyles = {\n  table: {\n    display: 'flex',\n    flexDirection: 'column',\n    border: DEFAULT_BORDER,\n    backgroundColor: DEFAULT_PROPS.BODY_BG_COLOR,\n    fontFamily: 'Roboto',\n    fontSize: DEFAULT_PROPS.FONT_SIZE,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    backgroundColor: DEFAULT_PROPS.HEADER_BG_COLOR,\n  },\n  footer: {\n    display: 'flex',\n    flexDirection: 'row',\n    backgroundColor: DEFAULT_PROPS.FOOTER_BG_COLOR,\n    fontWeight: 'bold',\n  },\n  row: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  cell: {\n    display: 'flex',\n    padding: DEFAULT_PROPS.CELL_PADDING,\n  },\n};\n\nexport const getTableMembers = (data: string[][], hasFooter: boolean = false): TableMembers => {\n  const [header, ...other] = data;\n  const footer: string[] = hasFooter ? other.pop() || [] : [];\n\n  return { header, body: other, footer };\n};\n\nexport const cellRender = (\n  defaultColumnWidth: number,\n  defaultCellStyle: ElementStyle,\n  cellsStyle: CellStyles,\n  CellComponent: FC<CellProps>,\n  changeTable?: ChangeTable,\n  isActive?: boolean,\n  isDone?: boolean,\n  actions?: {\n    addColSpan: (row: number, column: number) => void;\n    removeColumnFromTableElement: (column: number) => void;\n  },\n) => (data: string[], rowIndex: number, rowsLength: number, cellType: CellType) => (\n  cell: string,\n  cellIndex: number,\n) => {\n  const rowCount: Count = { current: rowIndex, length: rowsLength };\n  const columnCount: Count = { current: cellIndex, length: data.length };\n\n  const { colSpan = 1, style = {} } = getCellStyle(\n    rowIndex + (cellType === 'body' ? 1 : 0),\n    cellIndex,\n    cellsStyle,\n  );\n\n  const { borderWidth, borderStyle, borderColor, ...defaultStyle } = defaultCellStyle;\n\n  const defaultBorderStyle = `${borderWidth || DEFAULT_PROPS.BORDER_WIDTH} ${borderStyle ||\n    DEFAULT_PROPS.BORDER_COLOR} ${borderColor || DEFAULT_PROPS.BORDER_STYLE}`;\n\n  const resultStyle = {\n    width: `${defaultColumnWidth * colSpan}%`,\n    ...defaultStyle,\n    ...getBorderStyle(rowCount, columnCount, defaultBorderStyle),\n    ...style,\n  };\n\n  const cellComponent: JSX.Element = (\n    <CellComponent\n      key={cellIndex}\n      style={resultStyle}\n      value={cell}\n      isActive={isActive}\n      isDone={isDone}\n      row={rowCount.current + (cellType === 'body' ? 1 : 0)}\n      column={columnCount.current}\n      cellType={cellType}\n      changeTable={changeTable}\n      actions={actions}\n    />\n  );\n\n  return cellComponent;\n};\n","import React, { FC } from 'react';\n\nimport { StyleSheet, Text, View } from '@react-pdf/renderer';\n\nimport { CellProps, TableProps } from 'models';\n\nimport { baseTableStyles, cellRender, getTableMembers } from './helpers';\n\nconst defaultStyles: any = StyleSheet.create(baseTableStyles);\n\nconst TableCell: FC<CellProps> = props => {\n  const { value, style } = props;\n\n  return (\n    <View style={style}>\n      {/* <Text style={{ textWrap: 'nowrap', textOverflow: 'ellipsis', maxLines: 1 }}>{value}</Text> */}\n      <Text>{value}</Text>\n    </View>\n  );\n};\n\nconst TablePDF: FC<TableProps> = props => {\n  const { data, hasFooter = false, columnsCount, style = {}, cellsStyle = {} } = props;\n  const { header, body, footer } = getTableMembers(data, hasFooter);\n\n  const defaultColumnWidth = 100 / columnsCount;\n  const height = data.length;\n\n  const render = cellRender(\n    defaultColumnWidth,\n    {\n      ...defaultStyles.cell,\n      borderWidth: style.borderWidth,\n      borderStyle: style.borderStyle,\n      borderColor: style.borderColor,\n      // backgroundColor: style.backgroundColor,\n    },\n    cellsStyle,\n    TableCell,\n  );\n\n  return (\n    <View style={{ ...defaultStyles.table, ...style }}>\n      <View style={defaultStyles.header}>{header.map(render(header, 0, height, 'header'))}</View>\n\n      {body.map((rows, rowIndex) => (\n        <View style={{ ...defaultStyles.row, height: 25 }} key={rowIndex}>\n          {rows.map(render(rows, rowIndex, height, 'body'))}\n        </View>\n      ))}\n\n      {footer.length ? (\n        <View style={defaultStyles.footer}>\n          {footer.map(render(footer, height - 1, height, 'footer'))}\n        </View>\n      ) : null}\n    </View>\n  );\n};\n\nexport { TablePDF };\n","import { useState } from 'react';\r\n\r\nexport type ModalState<T> = {\r\n  open: boolean;\r\n  title?: string;\r\n  target?: T;\r\n  content?: any;\r\n};\r\n\r\nexport interface ModalActions<T> {\r\n  setModalState: (nextState: ModalState<T>) => void;\r\n  closeModal: () => void;\r\n}\r\n\r\nconst initialState: ModalState<any> = {\r\n  open: false,\r\n  title: '',\r\n  target: null,\r\n  content: null,\r\n};\r\n\r\nexport function useModal<T>(): [ModalState<T>, ModalActions<T>] {\r\n  const [state, setState] = useState<ModalState<T>>(initialState);\r\n\r\n  const setModalState = (nextState: ModalState<T>) => {\r\n    setState(nextState);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setState({ ...initialState });\r\n  };\r\n\r\n  return [\r\n    state,\r\n    {\r\n      setModalState,\r\n      closeModal,\r\n    },\r\n  ];\r\n}\r\n","import { useContext } from 'react';\r\n\r\nimport { FILE_STATUS, GuidType } from 'models';\r\n\r\nimport { FSContext } from 'state/context';\r\n\r\nexport function useFileSystem(folderId: GuidType) {\r\n  const { fsItems, ...other } = useContext(FSContext);\r\n\r\n  const items = other.getFolderElementsById(folderId);\r\n\r\n  const defaultFolders = items.filter(item => item.isDefault);\r\n  const progress = items.filter(item => item.status === FILE_STATUS.DOCUMENT_IN_PROGRESS);\r\n  const body = items.filter(\r\n    item => item.status !== FILE_STATUS.DOCUMENT_IN_PROGRESS && !item.isDefault,\r\n  );\r\n\r\n  return {\r\n    items,\r\n    elements: [defaultFolders, progress, body],\r\n    ...other,\r\n  };\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\ninterface Config {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n}\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href,\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          // tslint:disable-next-line: no-console\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              // tslint:disable-next-line: no-console\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              // tslint:disable-next-line: no-console\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // tslint:disable-next-line: no-console\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // tslint:disable-next-line: no-console\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export function deepClone<T>(obj: T): T {\r\n  if (typeof obj !== 'object') throw Error('Is not an object: ' + obj);\r\n\r\n  const serialized: string = JSON.stringify(obj);\r\n\r\n  try {\r\n    return JSON.parse(serialized);\r\n  } catch (error) {\r\n    throw Error('Error when cloning: ' + error);\r\n  }\r\n}\r\n","import { useContext, useEffect, useState } from 'react';\n\nimport { elements } from 'components/elements';\n\nimport { FSContext } from 'state/context';\n\nimport {\n  Document,\n  DocumentPage,\n  ElementType,\n  ElementUnion,\n  FILE_STATUS,\n  FileSystemElement,\n  Position,\n  TableElement,\n  TextElement,\n} from 'models';\n\nimport { getIdFromCellPosition } from 'components/elements/table/helpers';\nimport { deepClone } from 'utils';\n\nconst maxX: number = 595.28;\nconst maxY: number = 841.89;\n\nconst removeCallback = (removeIndex: number) => (_: any, index: number) => index !== removeIndex;\n\ninterface EditorState {\n  document: FileSystemElement | null;\n  activeElement: ElementUnion | null;\n  pages: DocumentPage[];\n  isDone: boolean;\n  showPreview: boolean;\n  actions: EditorActions;\n  activeId: any;\n  drawerVisible: boolean;\n  preview: boolean;\n}\n\nexport interface EditorActions {\n  addPage: () => void;\n  showPreviewHandler: () => void;\n  deletePage: (pageIndex: number) => void;\n  addElement: (pageIndex: number, type: ElementType, position: Position, value?: string) => void;\n  changeElement: (pageIndex: number, elementIndex: number, element: ElementUnion) => void;\n  deleteElement: (pageIndex: number, elementIndex: number) => void;\n  setActiveElement: (element: ElementUnion) => void;\n  resetActiveElement: () => void;\n  isElementActive: (element: ElementUnion) => boolean;\n  addRowToTableElement: (pageIndex: number, elementIndex: number, element: TableElement) => void;\n  addColumnToTableElement: (pageIndex: number, elementIndex: number, element: TableElement) => void;\n  addColSpan: (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    row: number,\n    column: number,\n  ) => void;\n  removeRowFromTableElement: (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    row: number,\n  ) => void;\n  removeColumnFromTableElement: (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    column: number,\n  ) => void;\n  togglePreview: () => void;\n  closeDrawer: () => void;\n  showDrawer: () => void;\n  addImage: (pageIndex: number, type: ElementType, position: Position) => void;\n  handleChangeText: (\n    pageIndex: number,\n    elementIndex: number,\n    value: string,\n    element: TextElement,\n  ) => void;\n  changeTextStyle: (\n    pageIndex: number,\n    elementIndex: number,\n    style: string,\n    value: string,\n    element: TextElement,\n  ) => void;\n  handleChangeSettings: (\n    pageIndex: number,\n    elementIndex: number,\n    style: string,\n    value: string,\n    type: string,\n    element: ElementUnion,\n  ) => void;\n  setActiveId: (page: number, id: number) => void;\n  resetActiveId: () => void;\n}\n\nexport interface EditorProps {\n  fsElementId: string | undefined;\n}\n\nlet saveIntervalId: any;\n\nconst pagesKey = Symbol('pages');\n\nexport function useEditor(props: EditorProps): EditorState {\n  const { getElement, documents } = useContext(FSContext);\n  const fsElement = getElement(props.fsElementId);\n\n  const isDone = !!fsElement && fsElement.status === FILE_STATUS.DOCUMENT__DONE;\n\n  const [pages, setPages] = useState<DocumentPage[]>([[]]);\n\n  // FIXME: solve LexicalEnvironment issue with refs\n  (window as any)[pagesKey] = pages;\n\n  useEffect(() => {\n    if (!fsElement) return;\n\n    const unsubscribe = documents.doc(fsElement.documentId).onSnapshot(querySnapshot => {\n      console.log('subscribe');\n      const document = querySnapshot.data() as Document;\n      const content: DocumentPage[] = JSON.parse(document.content);\n      if (Array.isArray(content)) setPages(content);\n    });\n\n    saveIntervalId = setInterval(() => {\n      const content = JSON.stringify((window as any)[pagesKey]);\n      documents.doc(fsElement.documentId).update({ content });\n      console.log('Document was updated');\n    }, 5000);\n\n    return () => {\n      unsubscribe();\n      clearInterval(saveIntervalId);\n      console.log('unsubscribe');\n    };\n  }, [fsElement, documents]);\n\n  const addPage = () => setPages([...pages, []]);\n\n  const deletePage = (pageIndex: number) => {\n    setPages(pages.filter(removeCallback(pageIndex)));\n  };\n\n  // tslint:disable-next-line: variable-name\n  const [activeElement, _setActiveElement] = useState<ElementUnion | null>(null);\n\n  const resetActiveElement = () => _setActiveElement(null);\n  const isElementActive = (element: ElementUnion): boolean => {\n    return !!activeElement && activeElement.id === element.id;\n  };\n  const setActiveElement = (element: ElementUnion) => {\n    if (isElementActive(element)) {\n      resetActiveElement();\n    } else {\n      _setActiveElement(element);\n    }\n  };\n  // tslint:disable-next-line: variable-name\n  const [activeId, _setActiveId] = useState<{ page: number; id: number } | null>(null);\n\n  const setActiveId = (page: number, id: number) => _setActiveId({ page, id });\n  const resetActiveId = () => _setActiveId(null);\n\n  const addElement = (pageIndex: number, type: ElementType, position: Position, value?: string) => {\n    const element = deepClone<ElementUnion>(elements[type].element);\n    if (!element) throw new Error('Unknown element type: ' + type);\n    const zoom: any = (window.screen.pixelDepth / 10) * 2;\n    const { size } = element;\n    const x = maxX < position.x + size.width ? maxX - size.width : position.x / zoom;\n    const y = maxY < position.y + size.height ? maxY - size.height : position.y / zoom;\n    element.position = { x, y };\n    element.id = `f${(+new Date()).toString(16)}`;\n    if (value && 'value' in element) {\n      element.value = value;\n    }\n\n    const page: DocumentPage = pages[pageIndex];\n    pages[pageIndex] = [...page, element];\n    setPages([...pages]);\n  };\n\n  const deleteElement = (pageIndex: number, elementIndex: number) => {\n    pages[pageIndex] = pages[pageIndex].filter(removeCallback(elementIndex));\n    setPages([...pages]);\n  };\n\n  const changeElement = (pageIndex: number, elementIndex: number, element: ElementUnion) => {\n    pages[pageIndex][elementIndex] = { ...element } as ElementUnion;\n    setPages([...pages]);\n  };\n\n  const addRowToTableElement = (pageIndex: number, elementIndex: number, element: TableElement) => {\n    const { data, hasFooter } = element;\n    const insertIndex: number = data.length - (hasFooter ? 1 : 0);\n    const columns = data[insertIndex].map(_ => 'cell');\n    element.data.splice(insertIndex, 0, columns);\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const addColumnToTableElement = (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n  ) => {\n    const { data } = element;\n    element.data = data.map(page => [...page, 'cell']);\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const addColSpan = (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    row: number,\n    column: number,\n  ) => {\n    if (!element.cellsStyle) {\n      throw new Error('Error: Table has not cell styles');\n    }\n\n    const data = deepClone(element.data);\n    data[row].splice(column + 1, 1);\n\n    const cellId = getIdFromCellPosition({ row, column });\n    element.cellsStyle[cellId] = element.cellsStyle[cellId] || {};\n    const prevColspan = element.cellsStyle[cellId].colSpan || 1;\n\n    element.cellsStyle[cellId] = {\n      colSpan: prevColspan + 1,\n      style: {\n        ...element.cellsStyle[cellId].style,\n      },\n    };\n\n    element.data = data;\n\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const removeRowFromTableElement = (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    row: number,\n  ) => {\n    const data = deepClone(element.data);\n    data.splice(row, 1);\n    element.data = data;\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const removeColumnFromTableElement = (\n    pageIndex: number,\n    elementIndex: number,\n    element: TableElement,\n    column: number,\n  ) => {\n    const data = deepClone(element.data);\n    data.forEach(row => row.splice(column, 1));\n    element.data = data;\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const handleChangeText = (\n    pageIndex: number,\n    elementIndex: number,\n    value: string,\n    element: TextElement,\n  ) => {\n    element.value = value;\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const changeTextStyle = (\n    pageIndex: number,\n    elementIndex: number,\n    style: string,\n    value: string,\n    element: any,\n  ) => {\n    if (element.style[style] === 'underline') {\n      value = 'none';\n    }\n    if (element.style[style] === 'italic') {\n      value = 'normal';\n    }\n    if (element.style[style] === 'bold') {\n      value = 'normal';\n    }\n    if (style === 'fontSize') {\n      value = `${value}pt`;\n    }\n\n    element.style[style] = value;\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const handleChangeSettings = (\n    pageIndex: number,\n    elementIndex: number,\n    style: string,\n    value: string,\n    type: string,\n  ) => {\n    const element: any = deepClone(activeElement);\n    element[type][style] = value;\n    changeElement(pageIndex, elementIndex, element);\n  };\n\n  const addImage = (pageIndex: number, type: ElementType, position: Position) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n\n    let file: any = {};\n    let result: string = '';\n\n    input.onchange = (e: any) => {\n      const reader = new FileReader();\n\n      file = e.target.files[0];\n      // tslint:disable-next-line:only-arrow-functions\n      reader.onload = function(a: any) {\n        result = a.target.result;\n        addElement(pageIndex, type, position, result);\n      };\n      reader.readAsDataURL(file);\n    };\n    input.click();\n  };\n\n  const [showPreview, setShowPreview] = useState(false);\n\n  const togglePreview = () => setShowPreview(!showPreview);\n\n  const [drawerVisible, setDrawerVisible] = useState(false);\n  const showDrawer = () => setDrawerVisible(true);\n  const closeDrawer = () => setDrawerVisible(false);\n\n  const [preview, setPreview] = useState(false);\n  const showPreviewHandler = () => setPreview(!preview);\n\n  return {\n    document: fsElement,\n    activeId,\n    activeElement,\n    pages,\n    isDone,\n    preview,\n    showPreview,\n    drawerVisible,\n    actions: {\n      showPreviewHandler,\n      addPage,\n      deletePage,\n      addElement,\n      changeElement,\n      deleteElement,\n      setActiveElement,\n      resetActiveElement,\n      isElementActive,\n      addRowToTableElement,\n      addColumnToTableElement,\n      addColSpan,\n      removeRowFromTableElement,\n      removeColumnFromTableElement,\n      togglePreview,\n      handleChangeText,\n      changeTextStyle,\n      setActiveId,\n      resetActiveId,\n      handleChangeSettings,\n      addImage,\n      showDrawer,\n      closeDrawer,\n    },\n  };\n}\n","import createUseContext from 'constate';\n\nimport { useEditor } from 'hooks';\n\nexport const useEditorContext = createUseContext(useEditor);\n","import React, { CSSProperties, FC, useEffect, useRef, useState } from 'react';\n\nimport { Button, Form, Icon, Input, Tooltip } from 'antd';\n\nimport { CellProps, ChangeTable, TableProps } from 'models';\n\nimport { baseTableStyles, cellRender, getTableMembers } from './helpers';\n\nimport { useEditorContext } from 'state/editor';\nimport './styles.css';\n\ninterface TableViewProps extends TableProps {\n  innerRef: any;\n  changeTable: ChangeTable;\n  actions: {\n    addColSpan: (row: number, column: number) => void;\n    addRowToTableElement: () => void;\n    addColumnToTableElement: () => void;\n    removeRowFromTableElement: (row: number) => void;\n    removeColumnFromTableElement: (column: number) => void;\n  };\n  isActive: boolean;\n  isDone: boolean;\n  preview: boolean;\n}\n\nconst defaultStyles: any = baseTableStyles;\n\nconst TableCell: FC<CellProps> = props => {\n  const { preview } = useEditorContext();\n  const { value, style, isActive, isDone, row, column, changeTable, cellType } = props;\n  const [isEditable, setIsEditable] = useState(false);\n  const toggleEditability = () => setIsEditable(!isEditable);\n\n  const inputRef = useRef<HTMLInputElement>();\n\n  useEffect(() => {\n    if (isEditable && inputRef && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isEditable]);\n\n  const onClick = () => {\n    if (isActive && !isDone) toggleEditability();\n  };\n\n  const save = (ev: any) => {\n    if (changeTable) changeTable(row, column, ev.target.value);\n    toggleEditability();\n  };\n\n  const className = cellType === 'header' ? 'cell header-cell' : 'cell';\n\n  const removeColumn = () => {\n    if (!props.actions) return;\n    props.actions.removeColumnFromTableElement(column);\n  };\n\n  const addColSpan = () => {\n    if (!props.actions) return;\n    props.actions.addColSpan(row, column);\n  };\n\n  return isEditable ? (\n    <div className={className} style={style as CSSProperties}>\n      <Form.Item className=\"cell-input\">\n        <Input.TextArea\n          ref={inputRef as any}\n          autosize={true}\n          defaultValue={value}\n          onPressEnter={save}\n          onBlur={save}\n        />\n      </Form.Item>\n    </div>\n  ) : (\n    <div className={className} style={style as CSSProperties} onClick={onClick}>\n      {cellType === 'header' && !preview && !isDone && (\n        <div className=\"header-actions\">\n          <Tooltip placement=\"top\" title=\"delete column\">\n            <Button type=\"danger\" icon=\"close\" size=\"small\" shape=\"circle\" onClick={removeColumn} />\n          </Tooltip>\n        </div>\n      )}\n      {!preview && !isDone && (\n        <div className=\"cell-actions\">\n          <Tooltip placement=\"top\" title=\"combine with next cell\">\n            <Icon type=\"right-circle\" theme=\"filled\" onClick={addColSpan} />\n          </Tooltip>\n        </div>\n      )}\n      <span>{value}</span>\n    </div>\n  );\n};\n\nconst TableView: FC<TableViewProps> = props => {\n  const {\n    data,\n    columnsCount,\n    hasFooter = false,\n    style = {},\n    cellsStyle = {},\n    innerRef,\n    changeTable,\n    actions,\n    isActive,\n    isDone,\n    preview,\n  } = props;\n\n  const { header, body, footer } = getTableMembers(data, hasFooter);\n\n  const defaultColumnWidth = 100 / columnsCount;\n  const height = data.length;\n\n  const render = cellRender(\n    defaultColumnWidth,\n    {\n      ...defaultStyles.cell,\n      borderWidth: style.borderWidth,\n      borderStyle: style.borderStyle,\n      borderColor: style.borderColor,\n      // backgroundColor: style.backgroundColor,\n    },\n    cellsStyle,\n    TableCell,\n    changeTable,\n    isActive,\n    isDone,\n    actions,\n  );\n\n  let tableStyle = { ...defaultStyles.table, ...style };\n  tableStyle = { ...tableStyle, fontSize: tableStyle.fontSize * 2 };\n\n  return (\n    <>\n      {!preview && !isDone && (\n        <div className=\"table-element-controls\">\n          <Tooltip placement=\"right\" title=\"add row\">\n            <Button\n              icon=\"arrow-down\"\n              size=\"small\"\n              shape=\"circle\"\n              onClick={actions.addRowToTableElement}\n            />\n          </Tooltip>\n          <Tooltip placement=\"right\" title=\"add column\">\n            <Button\n              icon=\"arrow-right\"\n              size=\"small\"\n              shape=\"circle\"\n              onClick={actions.addColumnToTableElement}\n            />\n          </Tooltip>\n        </div>\n      )}\n\n      <div ref={innerRef} className=\"table-element\" style={tableStyle}>\n        <div style={defaultStyles.header}>{header.map(render(header, 0, height, 'header'))}</div>\n\n        {body.map((rows, rowIndex) => (\n          <div className=\"row\" style={defaultStyles.row} key={rowIndex}>\n            {!preview && !isDone && (\n              <div className=\"row-actions\">\n                <Tooltip placement=\"left\" title=\"delete row\">\n                  <Button\n                    type=\"danger\"\n                    icon=\"close\"\n                    size=\"small\"\n                    shape=\"circle\"\n                    onClick={() => actions.removeRowFromTableElement(rowIndex)}\n                  />\n                </Tooltip>\n              </div>\n            )}\n            {rows.map(render(rows, rowIndex, height, 'body'))}\n          </div>\n        ))}\n\n        {footer.length ? (\n          <div style={defaultStyles.footer}>\n            {footer.map(render(footer, height - 1, height, 'footer'))}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport { TableView };\n","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { Text, View } from '@react-pdf/renderer';\r\n\r\nimport { TextProps } from 'models';\r\n\r\ninterface TextPropsComponent extends TextProps {\r\n  value?: string;\r\n}\r\n\r\nconst TextPDF: FC<TextPropsComponent> = props => {\r\n  const { style, value } = props;\r\n  return (\r\n    <View style={style as CSSProperties}>\r\n      <Text>{value}</Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport { TextPDF };\r\n","import { Input } from 'antd';\r\nimport { TextProps } from 'models';\r\nimport React, { CSSProperties, FC } from 'react';\r\nimport './styles.css';\r\n\r\nconst { TextArea } = Input;\r\n\r\ninterface TextViewProps extends TextProps {\r\n  isActive: boolean;\r\n  value?: string;\r\n  handleChangeText: (value: string) => void;\r\n}\r\n\r\nconst TextView: FC<TextViewProps> = props => {\r\n  const { style, isActive, handleChangeText, value } = props;\r\n  return (\r\n    <div className=\"text-element\">\r\n      {isActive ? (\r\n        <TextArea\r\n          autosize={true}\r\n          value={value}\r\n          style={{ ...(style as CSSProperties), minHeight: '100%' }}\r\n          onChange={(e: any) => handleChangeText(e.target.value)}\r\n        />\r\n      ) : (\r\n        <div style={{ ...(style as CSSProperties) }}>{value}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TextView };\r\n","import React, { CSSProperties, FC } from 'react';\n\nimport { Image, View } from '@react-pdf/renderer';\n\nimport { ImageProps } from 'models';\n\ninterface ImagePropsComponent extends ImageProps {\n  value?: string;\n}\n\nconst ImagePDF: FC<ImagePropsComponent> = props => {\n  const { style, value } = props;\n  return (\n    <View style={style as CSSProperties}>\n      <Image src={value || ''} />\n    </View>\n  );\n};\n\nexport { ImagePDF };\n","import React, { FC } from 'react';\n\nimport { ImageProps } from 'models';\n\nimport './styles.css';\n\ninterface ImageViewProps extends ImageProps {\n  value?: string;\n}\n\nconst ImageView: FC<ImageViewProps> = props => {\n  const { value } = props;\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '100%',\n        background: `url(${value}) no-repeat`,\n        backgroundSize: '100% 100%',\n      }}\n    />\n  );\n};\n\nexport { ImageView };\n","import {\n  BlockElement,\n  BorderElement,\n  ELEMENT,\n  ElementControl,\n  ImageElement,\n  TableElement,\n  TextElement,\n} from 'models';\nconst textElement: TextElement = {\n  id: 'default-text',\n  type: ELEMENT.TEXT,\n  position: { x: 0, y: 0 },\n  size: { width: 200, height: 200 },\n  style: { fontSize: '16pt', color: '#000' },\n  value: 'Text',\n};\n\nconst imageElement: ImageElement = {\n  id: 'default-image',\n  type: ELEMENT.IMAGE,\n  position: { x: 0, y: 0 },\n  size: { width: 200, height: 200 },\n  style: { backgroundColor: 'black' },\n  value: '',\n};\n\nconst blockElement: BlockElement = {\n  id: 'default-block',\n  type: ELEMENT.BLOCK,\n  position: { x: 0, y: 0 },\n  size: { width: 200, height: 200 },\n  style: { backgroundColor: '#000' },\n};\n\nconst borderElement: BorderElement = {\n  id: 'default-border',\n  type: ELEMENT.BORDER,\n  position: { x: 0, y: 0 },\n  size: { width: 200, height: 200 },\n  style: { borderWidth: '1pt', borderColor: '#000', borderStyle: 'solid' },\n};\n\nconst tableElement: TableElement = {\n  id: 'default-table',\n  type: ELEMENT.TABLE,\n  columnsCount: 2,\n  position: { x: 0, y: 0 },\n  size: { width: 400, height: 200 },\n  style: {\n    backgroundColor: 'white',\n    borderWidth: '1pt',\n    borderColor: '#000',\n    borderStyle: 'solid',\n  },\n  cellsStyle: {},\n  hasFooter: true,\n  data: [\n    ['header 1', 'header 2'],\n    ['cell 1', 'cell 2'],\n    ['cell 3', 'cell 4'],\n    ['cell 5', 'cell 6'],\n    ['cell 3', 'cell 7'],\n  ],\n};\n\nconst tableElement1: TableElement = {\n  id: 'default-table',\n  type: ELEMENT.TABLE,\n  columnsCount: 6,\n  position: { x: 0, y: 0 },\n  size: { width: 800, height: 200 },\n  style: {\n    backgroundColor: 'white',\n    borderWidth: '1pt',\n    borderColor: '#000',\n    borderStyle: 'solid',\n  },\n  cellsStyle: {\n    '0-1': {\n      style: {},\n      colSpan: 4,\n    },\n    '1-1': {\n      style: {},\n      colSpan: 4,\n    },\n    '2-1': {\n      style: {},\n      colSpan: 4,\n    },\n    '3-1': {\n      style: {},\n      colSpan: 4,\n    },\n    '4-0': {\n      style: {},\n      colSpan: 5,\n    },\n    '5-0': {\n      style: {},\n      colSpan: 4,\n    },\n    '6-0': {\n      style: {},\n      colSpan: 5,\n    },\n  },\n  hasFooter: true,\n  data: [\n    ['Pos.', 'Bezeichnung', 'EUR'],\n    ['1.', 'Bezeichnung 1', '123,69'],\n    ['2.', 'Bezeichnung 2', '1.835,00'],\n    ['3.', 'Bezeichnung 3', '10,88'],\n    ['Rechnungsbetrag (Netto)', '1.969,57'],\n    ['Umsatzsteuer', '19%', '374,22'],\n    ['RECHNUNGSBETRAG', '2.343,79'],\n  ],\n};\n\nconst tableElement2: TableElement = {\n  id: 'default-table',\n  type: ELEMENT.TABLE,\n  columnsCount: 10,\n  position: { x: 0, y: 0 },\n  size: { width: 1100, height: 200 },\n  style: {\n    backgroundColor: 'white',\n    borderWidth: '1pt',\n    borderColor: '#000',\n    borderStyle: 'solid',\n  },\n  cellsStyle: {\n    '0-1': {\n      style: {},\n      colSpan: 5,\n    },\n    '1-1': {\n      style: {},\n      colSpan: 5,\n    },\n    '2-1': {\n      style: {},\n      colSpan: 5,\n    },\n    '3-1': {\n      style: {},\n      colSpan: 5,\n    },\n    '4-1': {\n      style: {},\n      colSpan: 5,\n    },\n    '4-5': {\n      style: {\n        fontWeight: 'bold',\n      },\n    },\n    '5-0': {\n      style: {},\n      colSpan: 10,\n    },\n    '6-0': {\n      style: {},\n      colSpan: 9,\n    },\n    '7-0': {\n      style: {},\n      colSpan: 7,\n    },\n    '7-1': {\n      style: {},\n      colSpan: 2,\n    },\n    '8-0': {\n      style: {},\n      colSpan: 9,\n    },\n  },\n  hasFooter: true,\n  data: [\n    ['Pos.', 'Bezeichnung', 'Menge', 'Einheit', 'E-Preis EUR', 'Netto EUR'],\n    ['1.', 'Bezeichnung 1', '5,0', 'Stk.', '10,00', '50,00'],\n    ['2.', 'Bezeichnung 2', '2,0', 'Stk.', '15,50', '31,00'],\n    ['3.', 'Bezeichnung 3', '20,0', 'Stk.', '2,00', '40,00'],\n    ['_', '_', '_', '_', '_', '121,00'],\n    ['_'],\n    ['Rechnungsbetrag (Netto)', '121,00'],\n    ['Umsatzsteuer', '19%', '22,99'],\n    ['RECHNUNGSBETRAG', '143,99'],\n  ],\n};\n\nconst tableElement3: TableElement = {\n  id: 'default-table',\n  type: ELEMENT.TABLE,\n  columnsCount: 10,\n  position: { x: 0, y: 0 },\n  size: { width: 1160, height: 500 },\n  style: {\n    backgroundColor: 'white',\n    borderWidth: '1pt',\n    borderColor: '#000',\n    borderStyle: 'solid',\n  },\n  cellsStyle: {\n    '0-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '1-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '2-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '3-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '4-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '5-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '6-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '7-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '8-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '9-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '10-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '11-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '12-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '13-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '14-0': {\n      style: {},\n      colSpan: 7,\n    },\n    '15-0': {\n      style: {},\n      colSpan: 7,\n    },\n    '16-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '17-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '18-1': {\n      style: {},\n      colSpan: 3,\n    },\n    '18-5': {\n      style: {\n        fontWeight: 'bold',\n      },\n    },\n    '18-7': {\n      style: {\n        fontWeight: 'bold',\n      },\n    },\n    '19-0': {\n      style: {},\n      colSpan: 10,\n    },\n    '20-0': {\n      style: {\n        backgroundColor: '#ccc',\n      },\n      colSpan: 5,\n    },\n    '20-1': {\n      style: {\n        backgroundColor: '#ccc',\n      },\n      colSpan: 2,\n    },\n    '20-2': {\n      style: {\n        backgroundColor: '#ccc',\n      },\n    },\n    '20-3': {\n      style: {\n        backgroundColor: '#ccc',\n      },\n    },\n    '20-4': {\n      style: {\n        backgroundColor: '#ccc',\n      },\n    },\n    '21-0': {\n      style: {},\n      colSpan: 5,\n    },\n    '21-1': {\n      style: {},\n      colSpan: 2,\n    },\n    '22-0': {\n      style: {},\n      colSpan: 5,\n    },\n    '22-1': {\n      style: {},\n      colSpan: 2,\n    },\n    '23-0': {\n      style: {},\n      colSpan: 5,\n    },\n    '23-1': {\n      style: {},\n      colSpan: 2,\n    },\n    '24-0': {\n      style: {},\n      colSpan: 5,\n    },\n    '24-1': {\n      style: {\n        fontWeight: 'bold',\n      },\n      colSpan: 2,\n    },\n    '24-3': {\n      style: {\n        fontWeight: 'bold',\n      },\n    },\n    '24-4': {\n      style: {\n        fontWeight: 'bold',\n      },\n    },\n    '25-0': {\n      style: {},\n      colSpan: 10,\n    },\n    '26-0': {\n      style: {},\n      colSpan: 9,\n    },\n  },\n  hasFooter: true,\n  data: [\n    ['Pos.', 'Bezeichnung', 'Menge', 'Einheit', 'E-Preis EUR', 'Netto EUR', 'USt %', 'Brutto EUR'],\n    ['1', 'Bezeichnung', '5,0', 'Stk.', '10,00', '50,00', '7%', '53,50'],\n    ['2', 'Bezeichnung', '2,0', 'Stk.', '15,00', '31,00', '19%', '36,89'],\n    ['3', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['4', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['5', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['6', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['7', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['8', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['9', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['10', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['11', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['12', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['13', 'Bezeichnung', '1,0', 'Stk.', '25,00', '25,00', '19%', '29,75'],\n    ['Zwischensumme', '356,00', '_', '417,64'],\n    ['Ubertrag', '356,00', '_', '417,64'],\n    ['14', 'Bezeichnung', '10,0', 'Stk.', '1,50', '15,00', '19%', '17,85'],\n    ['15', 'Bezeichnung', '20,0', 'Stk.', '2,00', '40,00', '19%', '47,60'],\n    ['_', '_', '_', '_', '_', '411,00', '_', '483,09'],\n    ['_'],\n    ['Aufteilung nach USt-Satzen', 'Netto EUR', 'USt %', 'USt EUR', 'Brutto EUR'],\n    ['Umsatzsteuer 0%', '0,00', '0%', '0,00', '0,00'],\n    ['Umsatzsteuer 7%', '50,00', '7%', '3,50', '53,50'],\n    ['Umsatzsteuer 19%', '361,00', '19%', '68,59', '429,59'],\n    ['_', '121,00', '_', '72,09', '483,09'],\n    ['_'],\n    ['RECHNUNGSBETRAG', '483,09'],\n  ],\n};\n\nexport const elements: { [key: string]: ElementControl } = {\n  [ELEMENT.TEXT]: {\n    control: {\n      name: 'Text',\n      icon: 'font-size',\n      type: ELEMENT.TEXT,\n    },\n    element: textElement,\n  },\n  [ELEMENT.BLOCK]: {\n    control: {\n      name: 'Block',\n      icon: 'block',\n      type: ELEMENT.BLOCK,\n    },\n    element: blockElement,\n  },\n  [ELEMENT.BORDER]: {\n    control: {\n      name: 'Border',\n      icon: 'border',\n      type: ELEMENT.BORDER,\n    },\n    element: borderElement,\n  },\n  [ELEMENT.IMAGE]: {\n    control: {\n      name: 'Image',\n      icon: 'picture',\n      type: ELEMENT.IMAGE,\n    },\n    element: imageElement,\n  },\n  [ELEMENT.TABLE]: {\n    control: {\n      name: 'Table',\n      icon: 'table',\n      type: ELEMENT.TABLE,\n    },\n    element: tableElement,\n  },\n  [ELEMENT.TABLE + 1]: {\n    control: {\n      name: 'Table 1',\n      icon: 'table',\n      type: ELEMENT.TABLE + 1,\n    },\n    element: tableElement1,\n  },\n  [ELEMENT.TABLE + 2]: {\n    control: {\n      name: 'Table 2',\n      icon: 'table',\n      type: ELEMENT.TABLE + 2,\n    },\n    element: tableElement2,\n  },\n  [ELEMENT.TABLE + 3]: {\n    control: {\n      name: 'Table 3',\n      icon: 'table',\n      type: ELEMENT.TABLE + 3,\n    },\n    element: tableElement3,\n  },\n};\n\nexport * from './block';\nexport * from './border';\nexport * from './table';\nexport * from './text';\nexport * from './image';\n","import React, { FC } from 'react';\n\nimport { Document, Font, Page } from '@react-pdf/renderer';\n\nimport { BlockPDF, BorderPDF, ImagePDF, TablePDF, TextPDF } from 'components/elements';\n\nimport { DocumentPage, ELEMENT } from 'models';\n\nFont.register({\n  family: 'Roboto',\n  fonts: [\n    {\n      src:\n        'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-regular-webfont.ttf',\n    },\n    {\n      src:\n        'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-bold-webfont.woff',\n      fontWeight: 'bold',\n    },\n    {\n      src:\n        'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-italic-webfont.ttf',\n      fontWeight: 'normal',\n      fontStyle: 'italic',\n    },\n    {\n      src:\n        'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-bolditalic-webfont.ttf',\n      fontWeight: 'bold',\n      fontStyle: 'italic',\n    },\n  ],\n} as any);\n\nexport interface DocumentPDFProps {\n  pages: DocumentPage[];\n}\n\nconst DocumentPDF: FC<DocumentPDFProps> = props => {\n  const { pages } = props;\n\n  return (\n    <Document>\n      {pages.map((page, key) => (\n        <Page key={key}>\n          {page.map((element, elementKey) => {\n            const style: any = {\n              position: 'absolute',\n              top: element.position.y / 2,\n              left: element.position.x / 2,\n              width: element.size.width / 2,\n              height: element.size.height / 2,\n              ...element.style,\n            };\n\n            if (element.type === ELEMENT.BLOCK) {\n              return <BlockPDF key={elementKey} style={style} />;\n            }\n\n            if (element.type === ELEMENT.BORDER) {\n              return <BorderPDF key={elementKey} style={style} />;\n            }\n\n            if (element.type === ELEMENT.TEXT && 'value' in element) {\n              return <TextPDF key={elementKey} style={style} value={element.value} />;\n            }\n\n            if (element.type === ELEMENT.IMAGE && 'value' in element) {\n              return <ImagePDF key={elementKey} style={style} value={element.value} />;\n            }\n\n            if (element.type === ELEMENT.TABLE && 'hasFooter' in element) {\n              const { data, columnsCount, hasFooter, cellsStyle } = element;\n\n              // use a little hack\n              style.top -= 4;\n              delete style.height;\n\n              return (\n                <TablePDF\n                  key={elementKey}\n                  data={data}\n                  columnsCount={columnsCount}\n                  hasFooter={hasFooter}\n                  style={style}\n                  cellsStyle={cellsStyle}\n                />\n              );\n            }\n\n            return null;\n          })}\n        </Page>\n      ))}\n    </Document>\n  );\n};\n\nexport { DocumentPDF };\n","import React, { FC, useContext, useEffect, useState } from 'react';\n\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport { Icon, Menu } from 'antd';\nimport { connectMenu, ContextMenu, MenuItem } from 'react-contextmenu';\n\nimport { DocumentPDF } from 'components/documentPDF';\n\nimport { FSContext } from 'state/context';\n\nimport { Document, DocumentPage, FILE_STATUS, FileSystemElement } from 'models';\n\nimport { CONTEXT_MENU_ID } from '../explorer/contextMenu';\nimport './styles.css';\n\nexport interface DataItem {\n  name: string;\n  icon: string;\n  value: string;\n  target: string;\n}\n\nexport interface MenuProps {\n  data: DataItem[];\n  currentId: string;\n  onChange: any;\n  trigger: {\n    item: FileSystemElement;\n  };\n}\n\nconst ContextMenuComponent: FC<MenuProps> = props => {\n  const { currentId, trigger, onChange } = props;\n\n  let { data } = props;\n\n  if (trigger && trigger.item) {\n    if (trigger.item.status === FILE_STATUS.DOCUMENT_IN_PROGRESS) {\n      data = data.filter(item => item.value !== 'edit-template');\n    }\n\n    if (trigger.item.status === FILE_STATUS.DOCUMENT__DONE) {\n      data = data.filter(\n        item => !['delete', 'commit', 'edit-template', 'rename'].includes(item.value),\n      );\n    }\n\n    if (trigger.item.status === FILE_STATUS.TEMPLATE) {\n      data = data.filter(item => !['commit', 'download'].includes(item.value));\n    }\n  }\n\n  const [pages, setPages] = useState<DocumentPage[]>([]);\n  const { documents } = useContext(FSContext);\n\n  useEffect(() => {\n    if (!trigger || !trigger.item) return;\n\n    const unsubscribe = documents.doc(trigger.item.documentId).onSnapshot(querySnapshot => {\n      const document = querySnapshot.data() as Document;\n      const content: DocumentPage[] = JSON.parse(document.content);\n      setPages(content);\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [documents, trigger]);\n\n  const fileName = trigger && trigger.item ? `${trigger.item.name}.pdf` : '';\n\n  return (\n    <ContextMenu id={currentId} className=\"context-menu\">\n      <Menu selectable={false}>\n        {data.map((item: DataItem) => (\n          <Menu.Item key={item.name}>\n            <MenuItem key={item.name} data={item} onClick={onChange}>\n              {item.value === 'download' ? (\n                <PDFDownloadLink\n                  key={item.name}\n                  document={<DocumentPDF pages={pages} />}\n                  fileName={fileName}\n                >\n                  {({ blob, url, loading, error }) =>\n                    loading ? (\n                      'Document loading...'\n                    ) : (\n                      <>\n                        <Icon\n                          type={item.icon}\n                          className={item.value === 'delete' ? 'alert' : 'primary'}\n                        />\n                        <span>{item.name}</span>\n                      </>\n                    )\n                  }\n                </PDFDownloadLink>\n              ) : (\n                <>\n                  <Icon\n                    type={item.icon}\n                    className={item.value === 'delete' ? 'alert' : 'primary'}\n                  />\n                  <span>{item.name}</span>\n                </>\n              )}\n            </MenuItem>\n          </Menu.Item>\n        ))}\n      </Menu>\n    </ContextMenu>\n  );\n};\n\nexport const ContextMenuConnected = connectMenu(CONTEXT_MENU_ID.DOCUMENT)(ContextMenuComponent);\n","import React, { FC } from 'react';\r\n\r\nimport { Modal } from 'antd';\r\n\r\nexport interface DialogProps {\r\n  open: boolean;\r\n  width?: string | number;\r\n  bodyStyle?: any;\r\n  title?: string;\r\n  content: any;\r\n  footer?: React.ReactNode | null;\r\n  onClose?: (e: React.MouseEvent<HTMLElement>) => void;\r\n  onAction?: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst DialogComponent: FC<DialogProps> = props => {\r\n  const { open, title, content, width, bodyStyle, onAction, onClose, footer } = props;\r\n\r\n  return (\r\n    <Modal\r\n      width={width}\r\n      bodyStyle={bodyStyle}\r\n      visible={open}\r\n      title={title}\r\n      onOk={onAction}\r\n      onCancel={onClose}\r\n      footer={footer}\r\n    >\r\n      {content}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { DialogComponent };\r\n","import React, { FC } from 'react';\r\n\r\nimport { FileSystemElement, FileSystemNode } from 'models';\r\n\r\nimport Icon from 'antd/lib/icon';\r\nimport Tree, { AntdTreeNodeAttribute } from 'antd/lib/tree';\r\n\r\nconst getTreeNodeIcon = ({ expanded }: AntdTreeNodeAttribute) => (\r\n  <Icon type={expanded ? 'folder-open' : 'folder'} theme=\"filled\" />\r\n);\r\n\r\nconst getTreeNodes = (data: FileSystemNode[]) => {\r\n  return data.map(item => (\r\n    <Tree.TreeNode data={item} key={item.id} icon={getTreeNodeIcon} title={item.name}>\r\n      {item.children ? getTreeNodes(item.children) : null}\r\n    </Tree.TreeNode>\r\n  ));\r\n};\r\n\r\nexport interface TreeComponentProps {\r\n  data: FileSystemNode[];\r\n  onSelect: (parent: FileSystemElement) => void;\r\n}\r\n\r\nexport const TreeComponent: FC<TreeComponentProps> = props => {\r\n  const { data, onSelect } = props;\r\n\r\n  return (\r\n    <Tree\r\n      showIcon={true}\r\n      switcherIcon={<Icon type=\"down\" />}\r\n      onSelect={(_, event) => {\r\n        if (!event.node.props.data) return;\r\n        onSelect(event.node.props.data);\r\n      }}\r\n    >\r\n      {getTreeNodes(data)}\r\n    </Tree>\r\n  );\r\n};\r\n","import createUseContext from 'constate';\nimport { useState } from 'react';\n\nconst CREATE_FOLDER = 'CREATE_FOLDER';\nconst CREATE_DOCUMENT = 'CREATE_DOCUMENT';\nconst CREATE_DOCUMENT_FROM_TEMPLATE = 'CREATE_DOCUMENT_FROM_TEMPLATE';\nconst RENAME_FS_ITEM = 'RENAME_FS_ITEM';\nexport const MODAL_MODES = {\n  CREATE_FOLDER,\n  CREATE_DOCUMENT,\n  CREATE_DOCUMENT_FROM_TEMPLATE,\n  RENAME_FS_ITEM,\n};\n\nexport type ModalModesType =\n  | typeof MODAL_MODES.CREATE_FOLDER\n  | typeof MODAL_MODES.CREATE_DOCUMENT\n  | typeof MODAL_MODES.CREATE_DOCUMENT_FROM_TEMPLATE\n  | typeof MODAL_MODES.RENAME_FS_ITEM;\n\nfunction useModal() {\n  const [open, setOpen] = useState(false);\n  const [mode, setMode] = useState<ModalModesType>(MODAL_MODES.CREATE_FOLDER);\n  const [target, setTarget] = useState<any>(null);\n\n  // tslint:disable-next-line: no-shadowed-variable\n  const modalToggle = (modalMode?: ModalModesType, target?: any) => {\n    setOpen(!open);\n    setMode(modalMode || MODAL_MODES.CREATE_FOLDER);\n    setTarget(target);\n  };\n\n  return {\n    open,\n    mode,\n    modalToggle,\n    target,\n    setTarget,\n  };\n}\n\nexport const useModalContext = createUseContext(useModal);\n","import React, { FC, useContext, useState } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { Input, Modal as ModalAnt } from 'antd';\n\nimport { FILE_STATUS, FILE_SYSTEM_ELEMENT, FileSystemElement } from 'models';\n\nimport { MODAL_MODES, ModalModesType, useModalContext } from 'state';\nimport { FSContext } from 'state/context';\n\nexport interface ModalProps extends RouteComponentProps<{ id: string }> {}\n\nconst getTitle = (mode: ModalModesType): string => {\n  if (mode === MODAL_MODES.CREATE_DOCUMENT) {\n    return 'Create new document';\n  }\n  if (mode === MODAL_MODES.CREATE_FOLDER) {\n    return 'Create new folder';\n  }\n  if (mode === MODAL_MODES.CREATE_DOCUMENT_FROM_TEMPLATE) {\n    return 'Create document from template';\n  }\n  if (mode === MODAL_MODES.RENAME_FS_ITEM) {\n    return 'Rename element';\n  }\n\n  throw new Error('Unknown mode: ' + mode);\n};\n\nconst ModalComponent: FC<ModalProps> = props => {\n  const [name, setName] = useState('');\n  const { open, mode, modalToggle, target } = useModalContext();\n  const { fsItems, createItem, rename, parentForCreateFromTemplate } = useContext(FSContext);\n\n  const { match, history } = props;\n\n  const onClose = () => {\n    modalToggle();\n    setName('');\n  };\n  const onCreate = async () => {\n    const data: FileSystemElement = {\n      name,\n      parentId: match.params.id,\n      type: FILE_SYSTEM_ELEMENT.FOLDER,\n    };\n\n    if (mode === MODAL_MODES.CREATE_DOCUMENT) {\n      const parent: FileSystemElement | undefined = fsItems.get(match.params.id);\n      if (!parent) return;\n\n      const isTemplate = parent.name === 'Vorlage';\n      data.type = FILE_SYSTEM_ELEMENT.DOCUMENT;\n      data.status = isTemplate ? FILE_STATUS.TEMPLATE : FILE_STATUS.DOCUMENT_IN_PROGRESS;\n    }\n\n    if (mode === MODAL_MODES.CREATE_DOCUMENT_FROM_TEMPLATE) {\n      if (!parentForCreateFromTemplate || !parentForCreateFromTemplate.id) return;\n\n      data.parentId = parentForCreateFromTemplate.id;\n      data.type = FILE_SYSTEM_ELEMENT.DOCUMENT;\n      data.status = FILE_STATUS.DOCUMENT_IN_PROGRESS;\n      data.formTemplate = true;\n      data.documentId = (target as FileSystemElement).documentId;\n    }\n\n    await createItem(data);\n    onClose();\n\n    if (mode === MODAL_MODES.CREATE_DOCUMENT_FROM_TEMPLATE && parentForCreateFromTemplate) {\n      history.push({ pathname: `${parentForCreateFromTemplate.id}` });\n    }\n  };\n\n  const handleOk = async () => {\n    try {\n      if (mode === MODAL_MODES.RENAME_FS_ITEM) {\n        await rename({ ...target, name });\n        onClose();\n      } else {\n        onCreate();\n      }\n    } catch (error) {\n      console.log('Error on create FS element', error);\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    setName(event.target.value);\n  };\n\n  const defaultValue =\n    mode === MODAL_MODES.RENAME_FS_ITEM ? (target as FileSystemElement).name : '';\n\n  return (\n    <ModalAnt visible={open} title={getTitle(mode)} onOk={handleOk} onCancel={onClose}>\n      {open && <Input autoFocus={true} onChange={handleInputChange} defaultValue={defaultValue} />}\n    </ModalAnt>\n  );\n};\n\nexport const Modal = withRouter(ModalComponent);\n","import createUseContext from 'constate';\n\nimport { useFileSystem } from 'hooks';\n\nexport const useFileSystemContext = createUseContext(useFileSystem);\n","const hasOwn = {}.hasOwnProperty;\r\n\r\nexport default function classNames(\r\n  ...args: Array<string | { [className: string]: boolean }>\r\n): string {\r\n  const classes = [];\r\n\r\n  for (const arg of args) {\r\n    if (!arg) {\r\n      continue;\r\n    }\r\n\r\n    const argType = typeof arg;\r\n\r\n    if (argType === 'string' || argType === 'number') {\r\n      classes.push(arg);\r\n    } else if (Array.isArray(arg)) {\r\n      classes.push(classNames.apply(null, arg));\r\n    } else if (argType === 'object') {\r\n      const obj = arg as { [className: string]: boolean };\r\n      for (const key of Object.keys(obj)) {\r\n        if (hasOwn.call(obj, key) && obj[key]) {\r\n          classes.push(key);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return classes.join(' ');\r\n}\r\n","import React, { FC } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport Icon from 'antd/lib/icon';\nimport Table from 'antd/lib/table';\n\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport { CONTEXT_MENU_ID, getContextMenuId, menus } from './contextMenu';\n\nimport { ContextMenuComponent } from 'components/contextMenu';\nimport { DialogComponent } from 'components/dialog';\nimport { TreeComponent } from 'components/fsTree';\nimport { Modal } from 'components/modal';\n\nimport { FILE_STATUS, FILE_SYSTEM_ELEMENT, FileSystemElement, FSTarget } from 'models';\n\nimport classNames from 'utils/classnames';\n\nimport { useFileSystem, useModal } from 'hooks';\nimport { MODAL_MODES, useModalContext } from 'state';\n\nimport 'antd/es/tree/style/css';\nimport './styles.css';\n\nexport interface IconsMap {\n  [key: string]: JSX.Element;\n}\n\nconst getIcon = (item: FileSystemElement) => {\n  let docMark = 'sync';\n  if (item.status === FILE_STATUS.TEMPLATE) docMark = 'layout';\n  if (item.status === FILE_STATUS.DOCUMENT__DONE) docMark = 'check-circle';\n\n  let folderType = 'lock';\n  if (item.name === 'Vorlage') folderType = 'layout';\n\n  const iconsMap: IconsMap = {\n    [FILE_SYSTEM_ELEMENT.FOLDER]: (\n      <>\n        {item.isDefault && <Icon className=\"marker\" type={folderType} />}\n        <Icon className=\"icon folder\" type=\"folder\" theme=\"filled\" />\n      </>\n    ),\n    [FILE_SYSTEM_ELEMENT.DOCUMENT]: (\n      <>\n        {<Icon className=\"marker doc\" type={docMark} />}\n        <Icon className=\"icon\" type=\"file\" theme=\"filled\" />\n      </>\n    ),\n  };\n\n  return iconsMap[item.type];\n};\n\nconst getFSElementClasses = (item: FileSystemElement): string => {\n  const classes = {\n    'fs-element': true,\n    'in-progress': item.status === FILE_STATUS.DOCUMENT_IN_PROGRESS,\n  };\n\n  return classNames(classes);\n};\n\nexport interface ExplorerProps extends RouteComponentProps<{ id: string }> {}\n\nconst ExplorerComponent: FC<ExplorerProps> = props => {\n  const { match, history } = props;\n\n  const {\n    items,\n    elements,\n    copiedElement,\n    parentForCreateFromTemplate,\n    ...fsActions\n  } = useFileSystem(match.params.id);\n  const [elementsModal, elementsModalActions] = useModal<FSTarget<FileSystemElement>>();\n  const { modalToggle } = useModalContext();\n\n  const handleFSElement = (item: FileSystemElement) => () => {\n    if (item.type === FILE_SYSTEM_ELEMENT.FOLDER) {\n      history.push({ pathname: `${item.id}` });\n    } else {\n      if (item.status === FILE_STATUS.TEMPLATE) {\n        const target: FSTarget<FileSystemElement> = {\n          item,\n          name: 'new_file_from_template',\n          value: 'new_file_from_template',\n        };\n\n        elementsModalActions.setModalState({\n          open: true,\n          title: 'Create document from template',\n          target,\n          content: (\n            <TreeComponent\n              data={fsActions.getFolderElementsTreeById('Root', FILE_SYSTEM_ELEMENT.FOLDER)}\n              onSelect={fsActions.setParentForCreateFromTemplate}\n            />\n          ),\n        });\n      } else {\n        history.push(`/document/${item.id}`);\n      }\n    }\n  };\n\n  const handleContextMenuActions = (event: any, target: FSTarget<FileSystemElement>) => {\n    switch (target.value) {\n      case 'new_file': {\n        return modalToggle(MODAL_MODES.CREATE_DOCUMENT);\n      }\n      case 'new_folder': {\n        return modalToggle(MODAL_MODES.CREATE_FOLDER);\n      }\n      case 'rename': {\n        return modalToggle(MODAL_MODES.RENAME_FS_ITEM, target.item);\n      }\n      case 'edit-template': {\n        return history.push(`/document/${target.item.id}`);\n      }\n      case 'past': {\n        return fsActions.pasteItem(match.params.id);\n      }\n      case 'delete': {\n        if (target.item.isDefault) return;\n        const title = 'Are you sure you want to delete?';\n        return elementsModalActions.setModalState({ open: true, title, target });\n      }\n      case 'download': {\n        return console.log('download', event, target);\n      }\n      case 'info': {\n        const title = 'Document information';\n\n        const columns = [\n          {\n            dataIndex: 'title',\n          },\n          {\n            dataIndex: 'date',\n          },\n        ];\n\n        const data = [\n          {\n            title: 'Created',\n            date: '19.02.2019',\n          },\n          {\n            title: 'Updated',\n            date: '19.02.2019',\n          },\n        ];\n\n        const content = (\n          <Table\n            size=\"small\"\n            bordered={true}\n            showHeader={false}\n            pagination={false}\n            columns={columns}\n            dataSource={data}\n          />\n        );\n\n        return elementsModalActions.setModalState({ open: true, title, target, content });\n      }\n      case 'copy': {\n        return fsActions.copyItem(target.item);\n      }\n      case 'commit': {\n        const title = 'Are you sure you want to commit?';\n        return elementsModalActions.setModalState({ open: true, title, target });\n      }\n      default:\n        return;\n    }\n  };\n\n  const handleElementsModalAction = async () => {\n    if (!elementsModal.target) return;\n\n    const { value, name, item } = elementsModal.target;\n\n    if (!value || !item) return;\n\n    try {\n      if (value === 'delete') {\n        await fsActions.removeById(item.id);\n      }\n      if (value === 'commit') {\n        await fsActions.commit(item.id);\n      }\n      if (value === 'new_file_from_template') {\n        modalToggle(MODAL_MODES.CREATE_DOCUMENT_FROM_TEMPLATE, item);\n      }\n\n      elementsModalActions.closeModal();\n    } catch (error) {\n      console.log(`Error on ${name} FS element`, error);\n    }\n  };\n\n  const getElements = (data: FileSystemElement[], index: number) => (\n    <div key={index} className=\"root\">\n      {data.map(item => (\n        <ContextMenuTrigger\n          key={item.id}\n          collect={params => ({ ...params, item })}\n          id={item.isDefault ? '' : getContextMenuId(item.type)}\n        >\n          <div className={getFSElementClasses(item)} onClick={handleFSElement(item)}>\n            {getIcon(item)}\n            <span className=\"text\">{item.name}</span>\n          </div>\n        </ContextMenuTrigger>\n      ))}\n    </div>\n  );\n\n  return (\n    <ContextMenuTrigger id={CONTEXT_MENU_ID.EXPLORER}>\n      <div className=\"explorer\">{elements.map(getElements)}</div>\n\n      {menus.map(item => {\n        let menuData = item.data;\n\n        const parent = fsActions.getElement(match.params.id);\n        const isTemplate: boolean = !!parent && parent.name === 'Vorlage';\n\n        if (item.currentId === CONTEXT_MENU_ID.EXPLORER) {\n          menuData = item.data.filter(\n            i =>\n              i.value !== 'past' ||\n              (copiedElement &&\n                ((copiedElement.status !== FILE_STATUS.TEMPLATE && !isTemplate) ||\n                  (copiedElement.status === FILE_STATUS.TEMPLATE && isTemplate))),\n          );\n        }\n\n        return (\n          <ContextMenuComponent\n            key={item.currentId}\n            data={menuData}\n            currentId={item.currentId}\n            onChange={handleContextMenuActions}\n          />\n        );\n      })}\n\n      <Modal />\n\n      <DialogComponent\n        open={elementsModal.open}\n        title={elementsModal.title}\n        content={elementsModal.content}\n        onAction={handleElementsModalAction}\n        onClose={elementsModalActions.closeModal}\n      />\n    </ContextMenuTrigger>\n  );\n};\n\nexport { ExplorerComponent };\n","import { withRouter } from 'react-router';\r\n\r\nimport { ExplorerComponent } from './explorer';\r\n\r\nexport const Explorer = withRouter(ExplorerComponent);\r\n","import React, { FC, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Icon, Layout, Menu } from 'antd';\r\nimport { ClickParam } from 'antd/lib/menu';\r\n\r\nimport { MODAL_MODES, useModalContext } from 'state';\r\n\r\nimport logo from 'assets/logo.png';\r\nimport './styles.css';\r\n\r\nexport interface MenuItem {\r\n  key: string;\r\n  text: string;\r\n  icon: string;\r\n}\r\nexport interface SidebarProps {}\r\n\r\nconst SidebarComponent: FC<SidebarProps> = props => {\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const { modalToggle } = useModalContext();\r\n\r\n  const onMenuClick = (params: ClickParam) => {\r\n    if (params.key === 'file') {\r\n      modalToggle(MODAL_MODES.CREATE_DOCUMENT);\r\n    }\r\n\r\n    if (params.key === 'folder') {\r\n      modalToggle(MODAL_MODES.CREATE_FOLDER);\r\n    }\r\n  };\r\n\r\n  const menuItems: MenuItem[] = [\r\n    {\r\n      key: 'folder',\r\n      text: 'New folder',\r\n      icon: 'folder-add',\r\n    },\r\n    {\r\n      key: 'file',\r\n      text: 'New document',\r\n      icon: 'file-add',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Layout.Sider collapsible={true} collapsed={collapsed} onCollapse={setCollapsed}>\r\n      <Link to=\"/\" className=\"logoContainer\">\r\n        <img className=\"logo\" alt=\"logo\" src={logo} />\r\n\r\n        {'binale'.split('').map((letter, index) => (\r\n          <span key={index} className=\"logoText\">\r\n            {letter}\r\n          </span>\r\n        ))}\r\n      </Link>\r\n\r\n      <Menu theme=\"dark\" selectable={false} onClick={onMenuClick}>\r\n        {menuItems.map(item => (\r\n          <Menu.Item key={item.key}>\r\n            <Icon type={item.icon} />\r\n            <span>{item.text}</span>\r\n          </Menu.Item>\r\n        ))}\r\n      </Menu>\r\n    </Layout.Sider>\r\n  );\r\n};\r\n\r\nexport { SidebarComponent };\r\n","import React, { FC } from 'react';\r\n\r\nimport { Layout } from 'antd';\r\n\r\nimport { SidebarComponent } from 'components/sidebar';\r\n\r\nimport './styles.css';\r\n\r\nexport interface LayoutProps {}\r\n\r\nconst LayoutComponent: FC<LayoutProps> = props => {\r\n  return (\r\n    <Layout className=\"layout\">\r\n      <SidebarComponent />\r\n\r\n      {props.children}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport { LayoutComponent };\r\n","import React, { FC } from 'react';\r\n\r\nimport { Layout } from 'antd';\r\n\r\nimport { Breadcrumb } from 'components/breadcrumb';\r\nimport { Explorer } from 'components/explorer';\r\nimport { LayoutComponent } from 'components/layout';\r\n\r\nimport './styles.css';\r\n\r\nexport interface DashboardProps {}\r\n\r\nconst DashboardPage: FC<DashboardProps> = props => {\r\n  return (\r\n    <LayoutComponent>\r\n      <Layout className=\"dashboard\">\r\n        <Layout.Header className=\"header\" />\r\n\r\n        <Layout.Content className=\"content\">\r\n          <Breadcrumb />\r\n\r\n          <div className=\"main\">\r\n            <Explorer />\r\n          </div>\r\n        </Layout.Content>\r\n\r\n        <Layout.Footer className=\"footer\">Binale Software 2019</Layout.Footer>\r\n      </Layout>\r\n    </LayoutComponent>\r\n  );\r\n};\r\n\r\nexport { DashboardPage };\r\n","import React, { FC, useState } from 'react';\n\nimport { Button, InputNumber } from 'antd';\nimport ChromePicker from 'react-color/lib/components/chrome/Chrome';\n\nimport { ELEMENT, ElementUnion } from 'models';\nimport '../styles.css';\n\nexport interface BlockProps {\n  handleChangeSettings: (style: string, value: string, type: string) => void;\n  activeElement: ElementUnion;\n}\n\nconst popover = {\n  position: 'absolute',\n  zIndex: '2',\n};\nconst cover = {\n  position: 'fixed',\n  top: '0px',\n  right: '0px',\n  bottom: '0px',\n  left: '0px',\n};\n\nconst setColor = (style: any): any => (style ? style : null);\n\nconst BlockComponent: FC<BlockProps> = ({ handleChangeSettings, activeElement }) => {\n  const { size, position, style, type } = activeElement;\n\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\n\n  const handleClick = () => {\n    setDisplayColorPicker(!displayColorPicker);\n  };\n\n  const handleClose = () => {\n    setDisplayColorPicker(false);\n  };\n\n  const colorActive = setColor(style);\n  // @ts-ignore\n  return (\n    <div className=\"block-settings-editor\">\n      <div className=\"fields\">\n        <span>Width:</span>\n        <InputNumber\n          value={size.width}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('width', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Height:</span>\n        <InputNumber\n          value={size.height}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('height', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>X:</span>\n        <InputNumber\n          value={position.x}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('x', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Y:</span>\n        <InputNumber\n          value={position.y}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('y', value, 'position')}\n        />\n      </div>\n      <div>\n        Background: <Button icon=\"bg-colors\" className=\"icon-settings\" onClick={handleClick} />\n        {displayColorPicker ? (\n          <div style={popover as any}>\n            <div style={cover as any} onClick={handleClose} />\n            <ChromePicker\n              color={colorActive.backgroundColor}\n              onChangeComplete={(color: any) =>\n                handleChangeSettings('backgroundColor', color.hex, 'style')\n              }\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default BlockComponent;\n","import React, { FC, useState } from 'react';\n\nimport { Button, InputNumber } from 'antd';\nimport ChromePicker from 'react-color/lib/components/chrome/Chrome';\n\nimport { ELEMENT, ElementUnion } from 'models';\nimport '../styles.css';\n\nexport interface BlockProps {\n  handleChangeSettings: (style: string, value: string, type: string) => void;\n  activeElement: ElementUnion;\n}\n\nconst popover = {\n  position: 'absolute',\n  zIndex: '2',\n};\nconst cover = {\n  position: 'fixed',\n  top: '0px',\n  right: '0px',\n  bottom: '0px',\n  left: '0px',\n};\n\nconst setColor = (style: any): any => (style ? style : null);\n\nconst BorderComponent: FC<BlockProps> = ({ handleChangeSettings, activeElement }) => {\n  const { size, position, style } = activeElement;\n\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\n\n  const handleClick = () => {\n    setDisplayColorPicker(!displayColorPicker);\n  };\n\n  const handleClose = () => {\n    setDisplayColorPicker(false);\n  };\n\n  const styleDefault = setColor(style);\n  // @ts-ignore\n  return (\n    <div className=\"block-settings-editor\">\n      <div className=\"fields\">\n        <span>Width:</span>\n        <InputNumber\n          value={size.width}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('width', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Height:</span>\n        <InputNumber\n          value={size.height}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('height', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>X:</span>\n        <InputNumber\n          value={position.x}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('x', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Y:</span>\n        <InputNumber\n          value={position.y}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('y', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Border:</span>\n        <InputNumber\n          value={styleDefault.borderWidth}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('borderWidth', value, 'style')}\n        />\n      </div>\n      <div>\n        Border Color: <Button icon=\"bg-colors\" className=\"icon-settings\" onClick={handleClick} />\n        {displayColorPicker ? (\n          <div style={popover as any}>\n            <div style={cover as any} onClick={handleClose} />\n            <ChromePicker\n              color={styleDefault.backgroundColor}\n              onChangeComplete={(color: any) =>\n                handleChangeSettings('borderColor', color.hex, 'style')\n              }\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default BorderComponent;\n","import React, { FC, useState } from 'react';\n\nimport { Button, InputNumber } from 'antd';\nimport ChromePicker from 'react-color/lib/components/chrome/Chrome';\n\nimport { ELEMENT, ElementUnion } from 'models';\nimport '../styles.css';\n\nexport interface BlockProps {\n  handleChangeSettings: (style: string, value: string, type: string) => void;\n  activeElement: ElementUnion;\n}\n\nconst popover = {\n  position: 'absolute',\n  zIndex: '2',\n};\nconst cover = {\n  position: 'fixed',\n  top: '0px',\n  right: '0px',\n  bottom: '0px',\n  left: '0px',\n};\n\nconst ImageComponent: FC<BlockProps> = ({ handleChangeSettings, activeElement }) => {\n  const { size, position } = activeElement;\n\n  // @ts-ignore\n  return (\n    <div className=\"block-settings-editor\">\n      <div className=\"fields\">\n        <span>Width:</span>\n        <InputNumber\n          value={size.width}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('width', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Height:</span>\n        <InputNumber\n          value={size.height}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('height', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>X:</span>\n        <InputNumber\n          value={position.x}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('x', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Y:</span>\n        <InputNumber\n          value={position.y}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('y', value, 'position')}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ImageComponent;\n","import React, { FC, useState } from 'react';\n\nimport { Button, InputNumber } from 'antd';\nimport ChromePicker from 'react-color/lib/components/chrome/Chrome';\n\nimport { ELEMENT, ElementUnion } from 'models';\nimport '../styles.css';\n\nexport interface BlockProps {\n  handleChangeSettings: (style: string, value: string, type: string) => void;\n  activeElement: ElementUnion;\n}\n\nconst popover = {\n  position: 'absolute',\n  zIndex: '2',\n};\nconst cover = {\n  position: 'fixed',\n  top: '0px',\n  right: '0px',\n  bottom: '0px',\n  left: '0px',\n};\n\nconst setColor = (style: any): any => (style ? style : null);\n\nconst TableComponent: FC<BlockProps> = ({ handleChangeSettings, activeElement }) => {\n  const { size, position, style, type } = activeElement;\n\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\n  const [openBorderColor, setBorderColor] = useState(false);\n\n  const handleClick = () => {\n    setDisplayColorPicker(!displayColorPicker);\n  };\n\n  const handleClose = () => {\n    setDisplayColorPicker(false);\n  };\n\n  const handleClickBorder = () => {\n    setBorderColor(!openBorderColor);\n  };\n\n  const handleCloseBorder = () => {\n    setBorderColor(false);\n  };\n\n  const styleDefault = setColor(style);\n  // @ts-ignore\n  return (\n    <div className=\"block-settings-editor\">\n      <div className=\"fields\">\n        <span>Width:</span>\n        <InputNumber\n          value={size.width}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('width', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Height:</span>\n        <InputNumber\n          value={size.height}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('height', value, 'size')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>X:</span>\n        <InputNumber\n          value={position.x}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('x', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Y:</span>\n        <InputNumber\n          value={position.y}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('y', value, 'position')}\n        />\n      </div>\n      <div className=\"fields\">\n        <span>Border:</span>\n        <InputNumber\n          value={styleDefault.borderWidth}\n          size=\"small\"\n          onChange={(value: any) => handleChangeSettings('borderWidth', `${value}pt`, 'style')}\n        />\n      </div>\n      <div>\n        Background: <Button icon=\"bg-colors\" className=\"icon-settings\" onClick={handleClick} />\n        {displayColorPicker ? (\n          <div style={popover as any}>\n            <div style={cover as any} onClick={handleClose} />\n            <ChromePicker\n              color={styleDefault.backgroundColor}\n              onChangeComplete={(color: any) =>\n                handleChangeSettings('backgroundColor', color.hex, 'style')\n              }\n            />\n          </div>\n        ) : null}\n      </div>\n      <div>\n        Border Color:{' '}\n        <Button icon=\"bg-colors\" className=\"icon-settings\" onClick={handleClickBorder} />\n        {openBorderColor ? (\n          <div style={popover as any}>\n            <div style={cover as any} onClick={handleCloseBorder} />\n            <ChromePicker\n              color={styleDefault.backgroundColor}\n              onChangeComplete={(color: any) =>\n                handleChangeSettings('borderColor', color.hex, 'style')\n              }\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default TableComponent;\n","import React, { FC } from 'react';\n\nimport { useEditorContext } from 'state/editor';\n\nimport { ELEMENT, ElementUnion } from 'models';\n\nimport BlockComponent from './components/block/block';\nimport BorderComponent from './components/border/border';\nimport ImageComponent from './components/image/image';\nimport TableComponent from './components/table/table';\n\n// import { VorlageComponent } from '../vorlage';\n\nimport './styles.css';\n\nexport interface EditorProps {}\nconst settingsComponents = (activeElement: ElementUnion, handleChangeSettings: any): any => ({\n  [ELEMENT.BLOCK]: (\n    <BlockComponent activeElement={activeElement} handleChangeSettings={handleChangeSettings} />\n  ),\n  [ELEMENT.BORDER]: (\n    <BorderComponent activeElement={activeElement} handleChangeSettings={handleChangeSettings} />\n  ),\n  [ELEMENT.IMAGE]: (\n    <ImageComponent activeElement={activeElement} handleChangeSettings={handleChangeSettings} />\n  ),\n  [ELEMENT.TABLE]: (\n    <TableComponent activeElement={activeElement} handleChangeSettings={handleChangeSettings} />\n  ),\n});\n\nconst EditorComponent: FC<EditorProps> = () => {\n  const { actions, activeId, activeElement, isDone } = useEditorContext();\n\n  const handleChangeSettings = (style: string, value: string, type: string) => {\n    actions.handleChangeSettings(\n      activeId.page,\n      activeId.id,\n      style,\n      value,\n      type,\n      activeElement as ElementUnion,\n    );\n  };\n\n  return (\n    <div className=\"editor-container\">\n      <div className=\"editor-page\">\n        Page settings\n        {/*<>\n          <Button icon=\"bg-colors\" className=\"icon-settings\" onClick={handleClick} />\n          {displayColorPicker ? (\n            <div style={popover as any}>\n              <div style={cover as any} onClick={handleClose} />\n              <ChromePicker\n                color={colorActive}\n                onChangeComplete={(color: any) =>\n                  handleChangeSettings(colorActive.type, color.hex, 'style')\n                }\n              />\n            </div>\n          ) : null}\n        </>*/}\n      </div>\n\n      {!isDone && !!activeElement && (\n        <div className=\"editor-settings\">\n          {settingsComponents(activeElement, handleChangeSettings)[activeElement.type]}\n        </div>\n      )}\n      {/* <VorlageComponent /> */}\n    </div>\n  );\n};\n\nexport { EditorComponent };\n","import React, { FC } from 'react';\n\nimport { useDrag } from 'react-dnd';\n\nimport { Icon } from 'antd';\n\nimport { Control } from 'models';\n\nimport './styles.css';\n\nexport const DND_CONTROL_TYPES = {\n  BOX: 'DND_CONTROL_TYPE__BOX',\n};\n\nexport interface ElementProps {\n  control: Control;\n}\n\nconst ElementControlComponent: FC<ElementProps> = props => {\n  const { control } = props;\n  const [, drag] = useDrag({ item: { type: DND_CONTROL_TYPES.BOX, element: control.type } });\n  return (\n    <div>\n      <div className=\"element-control\" ref={drag}>\n        <Icon type={control.icon} />\n        <span className=\"text\">{control.name}</span>\n      </div>\n    </div>\n  );\n};\n\nexport { ElementControlComponent };\n","import { Button, Icon, InputNumber } from 'antd';\r\nimport React, { FC, useState } from 'react';\r\nimport { ChromePicker } from 'react-color';\r\n\r\nimport './styles.css';\r\n\r\nexport interface TextSettingsProps {\r\n  changeTextStyle: (style: string, value: string) => void;\r\n  element: any;\r\n}\r\n\r\nconst settingsContent = [\r\n  {\r\n    icon: 'align-left',\r\n    style: 'textAlign',\r\n    value: 'left',\r\n  },\r\n  {\r\n    icon: 'align-center',\r\n    style: 'textAlign',\r\n    value: 'center',\r\n  },\r\n  {\r\n    icon: 'align-right',\r\n    style: 'textAlign',\r\n    value: 'right',\r\n  },\r\n  {\r\n    icon: 'underline',\r\n    style: 'textDecoration',\r\n    value: 'underline',\r\n  },\r\n  {\r\n    icon: 'bold',\r\n    style: 'fontWeight',\r\n    value: 'bold',\r\n  },\r\n  {\r\n    icon: 'italic',\r\n    style: 'fontWeight',\r\n    value: 'italic',\r\n  },\r\n];\r\n\r\nconst popover = {\r\n  position: 'absolute',\r\n  zIndex: '2',\r\n};\r\nconst cover = {\r\n  position: 'fixed',\r\n  top: '0px',\r\n  right: '0px',\r\n  bottom: '0px',\r\n  left: '0px',\r\n};\r\n\r\nconst TextSettings: FC<TextSettingsProps> = ({ changeTextStyle, element }) => {\r\n  const { style } = element;\r\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setDisplayColorPicker(!displayColorPicker);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDisplayColorPicker(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-settings-root\">\r\n      <div className=\"font-setting\">\r\n        <Icon type=\"font-size\" className=\"icon-settings\" />\r\n        <InputNumber value={style.fontSize} onChange={(e: any) => changeTextStyle('fontSize', e)} />\r\n      </div>\r\n      <Button icon=\"font-colors\" className=\"icon-settings\" onClick={handleClick} />\r\n      {displayColorPicker ? (\r\n        <div style={popover as any}>\r\n          <div style={cover as any} onClick={handleClose} />\r\n          <ChromePicker\r\n            color={style.color}\r\n            onChangeComplete={(color: any) => changeTextStyle('color', color.hex)}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      {settingsContent.map((item, index) => (\r\n        <Button\r\n          icon={item.icon}\r\n          key={index}\r\n          className=\"icon-settings\"\r\n          onClick={() => changeTextStyle(item.style, item.value)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { TextSettings };\r\n","import React, { FC, MutableRefObject, useRef } from 'react';\nimport { DraggableData, ResizableDelta, Rnd } from 'react-rnd';\n\nimport { Button, Tooltip } from 'antd';\n\nimport { BlockView, BorderView, ImageView, TableView, TextView } from 'components/elements';\nimport { TextSettings } from 'components/textSettings';\n\nimport { useEditorContext } from 'state/editor';\n\nimport { ELEMENT, ElementType, ElementUnion, Position, TableElement, TextElement } from 'models';\n\nimport './styles.css';\n\nconst renderElement = (\n  element: ElementUnion,\n  innerElement: MutableRefObject<HTMLDivElement | undefined>,\n  changeTable: (row: number, column: number, value: string) => void,\n  addColSpan: (row: number, column: number) => void,\n  addRowToTableElement: () => void,\n  addColumnToTableElement: () => void,\n  removeRowFromTableElement: (row: number) => void,\n  removeColumnFromTableElement: (column: number) => void,\n  isActive: boolean,\n  isDone: boolean,\n  handleChangeText: (value: string) => void,\n  preview: boolean,\n) => {\n  if (!element) return null;\n\n  if (element.type === ELEMENT.BLOCK) {\n    return <BlockView style={element.style} />;\n  }\n\n  if (element.type === ELEMENT.BORDER) {\n    return <BorderView style={element.style} />;\n  }\n\n  if (element.type === ELEMENT.TABLE && 'hasFooter' in element) {\n    const { data, columnsCount, hasFooter, style, cellsStyle } = element;\n\n    return (\n      <TableView\n        innerRef={innerElement}\n        data={data}\n        columnsCount={columnsCount}\n        hasFooter={hasFooter}\n        style={style}\n        cellsStyle={cellsStyle}\n        isActive={isActive}\n        isDone={isDone}\n        changeTable={changeTable}\n        preview={preview}\n        actions={{\n          addColSpan,\n          addRowToTableElement,\n          addColumnToTableElement,\n          removeRowFromTableElement,\n          removeColumnFromTableElement,\n        }}\n      />\n    );\n  }\n  if (element.type === ELEMENT.IMAGE && 'value' in element) {\n    return <ImageView style={element.style} value={element.value} />;\n  }\n  if (element.type === ELEMENT.TEXT && 'value' in element) {\n    return (\n      <TextView\n        style={element.style}\n        isActive={isActive}\n        value={element.value}\n        handleChangeText={handleChangeText}\n      />\n    );\n  }\n};\n\nconst getHeight = (\n  innerElement: MutableRefObject<HTMLDivElement | undefined>,\n  element: ElementUnion,\n) => {\n  if (element.type !== ELEMENT.TABLE || !innerElement.current) return element.size.height;\n\n  const boundingRect = innerElement.current.getBoundingClientRect();\n  return boundingRect.height;\n};\n\nconst getEnableResizing = (type: ElementType, done: boolean) => {\n  const enableResizing = {\n    bottom: false,\n    bottomLeft: false,\n    bottomRight: false,\n    right: false,\n    left: false,\n    top: false,\n    topLeft: false,\n    topRight: false,\n  };\n\n  if (type === ELEMENT.TABLE) {\n    enableResizing.right = !done;\n    return enableResizing;\n  }\n\n  if (done) return enableResizing;\n\n  return undefined;\n};\n\nexport interface BoxProps {\n  id: number;\n  pageIndex: number;\n  element: ElementUnion;\n}\n\nconst Box: FC<BoxProps> = props => {\n  const { id, pageIndex, element } = props;\n  const { isDone, activeElement, actions, preview } = useEditorContext();\n\n  const isActiveText = activeElement && activeElement.type === ELEMENT.TEXT;\n\n  const innerElement = useRef<HTMLDivElement>();\n\n  const { position, size } = element;\n\n  const stopPropagation = (e: any) => e.stopPropagation();\n\n  const isActive = actions.isElementActive(element);\n  const className = !isDone ? 'dnd-box' : '';\n\n  const onDoubleClick = (e: any) => {\n    if (preview) return;\n    actions.setActiveElement(element);\n    actions.setActiveId(pageIndex, id);\n    actions.showDrawer();\n  };\n\n  const onDragStop = (e: any, data: DraggableData) => {\n    element.position.x = data.x;\n    element.position.y = data.y;\n\n    actions.changeElement(pageIndex, id, element);\n  };\n\n  const onResizeStop = (\n    e: any,\n    dir: any,\n    elementRef: HTMLDivElement,\n    delta: ResizableDelta,\n    // tslint:disable-next-line: no-shadowed-variable\n    position: Position,\n  ) => {\n    const { width, height } = elementRef.getBoundingClientRect();\n\n    element.position.x = position.x;\n    element.position.y = position.y;\n    element.size.width = width;\n    element.size.height = height;\n    actions.changeElement(pageIndex, id, element);\n  };\n\n  const changeTable = (row: number, column: number, value: string) => {\n    (element as TableElement).data[row][column] = value;\n    actions.changeElement(pageIndex, id, element);\n  };\n\n  const addRowToTableElement = () => {\n    actions.addRowToTableElement(pageIndex, id, element as TableElement);\n  };\n\n  const addColumnToTableElement = () => {\n    actions.addColumnToTableElement(pageIndex, id, element as TableElement);\n  };\n\n  const addColSpan = (row: number, column: number) => {\n    actions.addColSpan(pageIndex, id, element as TableElement, row, column);\n  };\n\n  const removeRowFromTableElement = (row: number) => {\n    actions.removeRowFromTableElement(pageIndex, id, element as TableElement, row);\n  };\n\n  const removeColumnFromTableElement = (column: number) => {\n    actions.removeColumnFromTableElement(pageIndex, id, element as TableElement, column);\n  };\n\n  const handleChangeText = (value: string) => {\n    actions.handleChangeText(pageIndex, id, value, element as TextElement);\n  };\n\n  const changeTextStyle = (style: string, value: string) => {\n    actions.changeTextStyle(pageIndex, id, style, value, element as TextElement);\n  };\n  return (\n    <Rnd\n      className={className}\n      bounds=\"parent\"\n      // default={{ ...position, ...size }}\n      position={position}\n      size={{ width: size.width, height: getHeight(innerElement, element) }}\n      onClick={(e: any) => stopPropagation(e)}\n      onDoubleClick={onDoubleClick}\n      disableDragging={isActive || isDone || preview}\n      onDragStop={onDragStop}\n      enableResizing={getEnableResizing(element.type, isDone)}\n      onResizeStop={onResizeStop}\n    >\n      {!isDone && isActive && (\n        <Tooltip className=\"remove-btn\" placement=\"right\" title=\"delete\">\n          <Button\n            type=\"danger\"\n            icon=\"close\"\n            size=\"small\"\n            shape=\"circle\"\n            onClick={() => actions.deleteElement(pageIndex, id)}\n          />\n        </Tooltip>\n      )}\n      {!isDone && isActive && isActiveText && (\n        <TextSettings changeTextStyle={changeTextStyle} element={element} />\n      )}\n      {renderElement(\n        element,\n        innerElement,\n        changeTable,\n        addColSpan,\n        addRowToTableElement,\n        addColumnToTableElement,\n        removeRowFromTableElement,\n        removeColumnFromTableElement,\n        isActive,\n        isDone,\n        handleChangeText,\n        preview,\n      )}\n    </Rnd>\n  );\n};\n\nexport default Box;\n","import React, { FC, useEffect, useRef, useState } from 'react';\n\nimport { DND_CONTROL_TYPES } from 'components/elementControl';\nimport { useDrop } from 'react-dnd';\n\nimport { Button, Tooltip } from 'antd';\nimport Box from './box';\n\nimport { EditorActions } from 'hooks/useEditor';\nimport { DocumentPage, DragObject, ELEMENT } from 'models';\n\nimport './styles.css';\n\nexport interface PageProps {\n  pageIndex: number;\n  page: DocumentPage;\n  actions: EditorActions;\n  isDone: boolean;\n  preview: boolean;\n}\n\nconst PageComponent: FC<PageProps> = props => {\n  const { pageIndex, page, isDone, actions, preview } = props;\n\n  // const [hasDropped, setHasDropped] = useState(false);\n  // const [hasDroppedOnChild, setHasDroppedOnChild] = useState(false);\n  const [bodyOffset, setBodyOffset] = useState(document.body.getBoundingClientRect());\n  const [scrollY, setScrollY] = useState(bodyOffset.top);\n\n  const listRef: any = useRef();\n\n  const [obj, drop] = useDrop({\n    accept: DND_CONTROL_TYPES.BOX,\n    drop(item: DragObject, monitor) {\n      const position = monitor.getClientOffset();\n\n      if (!obj || !position) return;\n\n      position.x = position.x - listRef.current.offsetLeft;\n      position.y = position.y - listRef.current.offsetTop + scrollY;\n\n      if (item.element === ELEMENT.IMAGE) {\n        actions.addImage(pageIndex, item.element, position);\n      } else {\n        actions.addElement(pageIndex, item.element, position);\n      }\n\n      const didDrop = monitor.didDrop();\n\n      if (didDrop) return;\n\n      // setHasDropped(true);\n      // setHasDroppedOnChild(didDrop);\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      isOverCurrent: monitor.isOver({ shallow: true }),\n    }),\n  });\n\n  const listener = () => {\n    setBodyOffset(document.body.getBoundingClientRect());\n    setScrollY(-bodyOffset.top);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', listener);\n    return () => {\n      window.removeEventListener('scroll', listener);\n    };\n  });\n\n  return (\n    <div\n      className=\"list-container\"\n      ref={drop}\n      onClick={() => {\n        actions.resetActiveElement();\n        actions.resetActiveId();\n      }}\n    >\n      <div className={`list ${!preview ? 'greed-helper' : ''}`} ref={listRef}>\n        {pageIndex !== 0 && !isDone && (\n          <Tooltip className=\"remove-page\" placement=\"right\" title=\"delete\">\n            <Button\n              type=\"danger\"\n              icon=\"close\"\n              size=\"small\"\n              shape=\"circle\"\n              onClick={() => actions.deletePage(pageIndex)}\n            />\n          </Tooltip>\n        )}\n\n        {page.map((element, index) => (\n          <Box key={index} id={index} pageIndex={pageIndex} element={element} />\n        ))}\n\n        <span className=\"page\">{pageIndex + 1}</span>\n      </div>\n    </div>\n  );\n};\n\nexport { PageComponent };\n","import React, { FC } from 'react';\n\nimport { PDFViewer } from '@react-pdf/renderer';\n\nimport { DialogComponent } from 'components/dialog';\nimport { DocumentPDF } from 'components/documentPDF';\nimport { ElementControlComponent } from 'components/elementControl';\nimport { elements } from 'components/elements';\n\nimport { DocumentPage } from 'models';\n\nexport interface LeftPanelProps {\n  pages: DocumentPage[];\n  showPreview: boolean;\n  togglePreview: () => void;\n}\n\nconst LeftPanel: FC<LeftPanelProps> = props => {\n  const { pages, showPreview, togglePreview } = props;\n\n  return (\n    <div className=\"left-panel\">\n      {Object.values(elements).map(({ control }) => (\n        <ElementControlComponent key={control.name} control={control} />\n      ))}\n\n      <DialogComponent\n        open={showPreview}\n        title=\"Print document\"\n        width={1000}\n        bodyStyle={{ height: '70vh' }}\n        content={\n          <PDFViewer className=\"pdf-viewer\">\n            <DocumentPDF pages={pages} />\n          </PDFViewer>\n        }\n        onClose={togglePreview}\n        footer={null}\n      />\n    </div>\n  );\n};\n\nexport { LeftPanel };\n","import React, { FC, useContext } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nimport { Button, Drawer, Icon, Layout, Typography } from 'antd';\n\nimport { PDFDownloadLink } from '@react-pdf/renderer';\n\nimport { Breadcrumb } from 'components/breadcrumb';\nimport { DialogComponent } from 'components/dialog';\nimport { DocumentPDF } from 'components/documentPDF';\nimport { EditorComponent } from 'components/editor';\nimport { PageComponent } from 'components/page';\n\nimport { LeftPanel } from './components';\n\nimport { useModal } from 'hooks';\nimport { FSContext } from 'state/context';\nimport { useEditorContext } from 'state/editor';\n\nimport { FILE_STATUS, FileSystemElement, FSTarget } from 'models';\n\nimport './styles.css';\n\nexport interface DocumentProps extends RouteComponentProps<{ id: string }> {}\n\nconst getStatusLabel = (fsElement: FileSystemElement | null): string => {\n  if (!fsElement) return '';\n\n  if (fsElement.status === FILE_STATUS.TEMPLATE) {\n    return 'Template';\n  }\n  if (fsElement.status === FILE_STATUS.DOCUMENT__DONE) {\n    return 'Done';\n  }\n  if (fsElement.status === FILE_STATUS.DOCUMENT_IN_PROGRESS) {\n    return 'In progress';\n  }\n\n  return '';\n};\n\nconst DocumentPageComponentR: FC<DocumentProps> = props => {\n  const {\n    pages,\n    isDone,\n    showPreview,\n    actions,\n    drawerVisible,\n    document,\n    preview,\n  } = useEditorContext();\n\n  const isInProgress = document && document.status === FILE_STATUS.DOCUMENT_IN_PROGRESS;\n\n  const [elementsModal, elementsModalActions] = useModal<FSTarget<FileSystemElement | null>>();\n  const { commit, removeById } = useContext(FSContext);\n\n  const handleAction = (value: 'commit' | 'delete') => () => {\n    const title =\n      value === 'commit' ? 'Are you sure you want to commit?' : 'Are you sure you want to delete?';\n\n    elementsModalActions.setModalState({\n      open: true,\n      title,\n      target: { value, item: document },\n    });\n  };\n\n  const handleElementsModalAction = async () => {\n    const { target } = elementsModal;\n\n    if (!target || !target.item) return;\n\n    if (target.value === 'commit') {\n      await commit(target.item.id);\n    }\n\n    if (target.value === 'delete') {\n      await removeById(target.item.id);\n    }\n\n    elementsModalActions.closeModal();\n\n    if (target.value === 'delete') {\n      props.history.goBack();\n    }\n  };\n\n  return (\n    <Layout className=\"document\">\n      <Layout.Header className=\"header\">\n        <Breadcrumb />\n\n        <Button.Group>\n          {!preview && !isDone && (\n            <Button onClick={actions.addPage}>\n              <Icon type=\"file\" theme=\"filled\" />\n              Add page\n            </Button>\n          )}\n\n          <Button onClick={actions.showPreviewHandler}>\n            Preview\n            <Icon type=\"file-done\" />\n          </Button>\n\n          <PDFDownloadLink document={<DocumentPDF pages={pages} />} fileName=\"somename.pdf\">\n            {({ blob, url, loading, error }) =>\n              loading ? (\n                'Loading document...'\n              ) : (\n                <Button>\n                  Download PDF\n                  <Icon type=\"download\" />\n                </Button>\n              )\n            }\n          </PDFDownloadLink>\n\n          <Button onClick={actions.togglePreview}>\n            Print\n            <Icon type=\"printer\" theme=\"filled\" />\n          </Button>\n\n          {!isDone && (\n            <Button onClick={handleAction('delete')}>\n              Delete\n              <Icon type=\"delete\" />\n            </Button>\n          )}\n\n          {isInProgress && (\n            <Button onClick={handleAction('commit')}>\n              Commit\n              <Icon type=\"file-done\" />\n            </Button>\n          )}\n        </Button.Group>\n\n        <Typography.Title level={4} code={true}>\n          {getStatusLabel(document)}\n        </Typography.Title>\n      </Layout.Header>\n\n      <Layout.Content className=\"content\">\n        <DndProvider backend={HTML5Backend}>\n          {!isDone && (\n            <LeftPanel\n              pages={pages}\n              showPreview={showPreview}\n              togglePreview={actions.togglePreview}\n            />\n          )}\n\n          <div className=\"pages\">\n            {pages.map((page, index: number) => (\n              <PageComponent\n                key={index}\n                pageIndex={index}\n                page={page}\n                actions={actions}\n                isDone={isDone}\n                preview={preview}\n              />\n            ))}\n          </div>\n          <Button type=\"primary\" onClick={actions.showDrawer}>\n            Settings\n          </Button>\n          <Drawer\n            title=\"Settings\"\n            width={720}\n            visible={drawerVisible}\n            onClose={actions.closeDrawer}\n          >\n            <EditorComponent />\n          </Drawer>\n        </DndProvider>\n      </Layout.Content>\n\n      <Layout.Footer className=\"footer\">Binale Software 2019</Layout.Footer>\n\n      <DialogComponent\n        open={elementsModal.open}\n        title={elementsModal.title}\n        content={elementsModal.content}\n        onAction={handleElementsModalAction}\n        onClose={elementsModalActions.closeModal}\n      />\n    </Layout>\n  );\n};\n\nexport const DocumentPageComponent = withRouter(DocumentPageComponentR);\n","import React, { FC } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport { DocumentPageComponent } from './document';\n\nimport { useEditorContext } from 'state/editor';\n\ninterface DocumentPage extends RouteComponentProps<{ id: string }> {}\n\nconst DocumentPage: FC<DocumentPage> = props => {\n  const {\n    match: { params },\n  } = props;\n\n  return (\n    <useEditorContext.Provider fsElementId={params.id}>\n      <DocumentPageComponent />\n    </useEditorContext.Provider>\n  );\n};\n\nexport { DocumentPage };\n","import React, { FC } from 'react';\nimport { HashRouter, Redirect, Route, RouteComponentProps, Switch } from 'react-router-dom';\n\nimport { DashboardPage } from 'pages/dashboard';\nimport { DocumentPage } from 'pages/document';\n\nfunction renderLayout(props: RouteComponentProps<any, any>) {\n  // TODO: implement auth if it'll be needed\n  const loggedIn: boolean = true;\n\n  if (loggedIn) {\n    return <Redirect to=\"/dashboard/Root\" />;\n  } else {\n    return <Redirect to=\"/auth\" />;\n  }\n}\n\nexport const Router: FC = () => (\n  <HashRouter>\n    <Route exact={true} path=\"/\" render={renderLayout} />\n    <Switch>\n      <Route path=\"/dashboard/:id\" component={DashboardPage} />\n      <Route path=\"/document/:id\" component={DocumentPage} />\n    </Switch>\n  </HashRouter>\n);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Router } from 'routing';\r\n\r\nimport { useModalContext } from 'state';\r\nimport { FSProvider } from 'state/context';\r\n\r\nimport 'assets/index.css';\r\n\r\nimport 'react-app-polyfill/ie11';\r\nimport { serviceWorker } from 'utils';\r\n\r\nReactDOM.render(\r\n  <FSProvider>\r\n    <useModalContext.Provider>\r\n      <Router />\r\n    </useModalContext.Provider>\r\n  </FSProvider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// TODO: change unregister() to register() after deployment will done\r\n// http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.2fcb8508.png\";"],"sourceRoot":""}