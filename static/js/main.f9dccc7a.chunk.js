(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1023:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"register",function(){return Ie}),n.d(a,"unregister",function(){return De});var r=n(1),l=n.n(r),o=n(14),c=n.n(o),i=n(69),s=n(173),u=(n(208),n(77)),m=(n(1028),n(512)),d=n(65),f=n.n(d),p=n(107),E=n(24),h=n(30),b=n(31),g=n(134),v=n(129),y=n(136),C=n(25),S=n.n(C);n(525),n(526);S.a.initializeApp({apiKey:"AIzaSyCopkTv3qV3lT5nE-TARB5FjBe-TwR8A8w",authDomain:"binale-software-invoicing.firebaseapp.com",databaseURL:"https://binale-software-invoicing.firebaseio.com",projectId:"binale-software-invoicing",storageBucket:"binale-software-invoicing.appspot.com",messagingSenderId:"878563105532",uploadString:"binale-software-invoicing.firebaseapp.com"});var O=S.a.firestore(),w={FOLDER:"FILE_SYSTEM_ELEMENT__FOLDER",DOCUMENT:"FILE_SYSTEM_ELEMENT__DOCUMENT"},T={DOCUMENT_IN_PROGRESS:"FILE_STATUS__DOCUMENT_IN_PROGRESS",DOCUMENT__DONE:"FILE_STATUS__DOCUMENT__DONE",TEMPLATE:"FILE_STATUS__TEMPLATE"},N="ELEMENT__TEXT",k="ELEMENT__BLOCK",x="ELEMENT__BORDER",_="ELEMENT__IMAGE",j="ELEMENT__TABLE",R=function(){},I=O.collection("documents"),F=l.a.createContext({fsItems:new Map,documents:I,parentForCreateFromTemplate:null,copiedElement:null,setParentForCreateFromTemplate:R,getFolderElementsTreeById:R,getFolderElementsById:R,getElement:R,commit:R,rename:R,removeById:R,createItem:R,copyItem:R,pasteItem:R}),D=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={fsItems:new Map,parentForCreateFromTemplate:null,copiedElement:null},n.collection=O.collection("folders"),n.unsubscribe=function(){},n.getFolderElementsTreeById=function(e,t){return n.getFolderElementsById(e,t).map(function(e){if(!e.id)return e;var a=n.getFolderElementsTreeById(e.id,t);return a.length>0?Object(E.a)({},e,{children:a}):e})},n.getFolderElementsById=function(e,t){var a=[];return n.state.fsItems.forEach(function(n){var r=!t||t&&n.type===t;n.parentId===e&&r&&a.push(Object(E.a)({},n))}),a},n.getElement=function(e){return e&&n.state.fsItems.get(e)||null},n.commit=function(e){return n.collection.doc(e).update({status:T.DOCUMENT__DONE})},n.rename=function(e){return n.collection.doc(e.id).update({name:e.name})},n.removeById=function(e){return n.collection.doc(e).delete()},n.createItem=function(){var e=Object(p.a)(f.a.mark(function e(t){var a,r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.type!==w.DOCUMENT){e.next=13;break}if(a={name:t.name,content:"[[]]"},!t.formTemplate){e.next=9;break}return e.next=6,I.doc(t.documentId).get();case 6:r=e.sent,(a=r.data()).name=t.name;case 9:return e.next=11,I.add(a);case 11:l=e.sent,t.documentId=l.id;case 13:return e.next=15,n.collection.add(t);case 15:return e.abrupt("return",e.sent);case 18:throw e.prev=18,e.t0=e.catch(0),Error("File creation error "+e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t){return e.apply(this,arguments)}}(),n.copyItem=function(e){n.setState({copiedElement:e})},n.pasteItem=function(){var e=Object(p.a)(f.a.mark(function e(t){var a,r,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.copiedElement){e.next=3;break}return e.abrupt("return");case 3:return r=Object(E.a)({},a,{parentId:t}),a.parentId===t&&(r.name="copy_".concat(r.name)),r.type===w.DOCUMENT&&(r.status===T.DOCUMENT__DONE&&(r.status=T.DOCUMENT_IN_PROGRESS),r.formTemplate=!0),e.next=8,n.createItem(r);case 8:return l=e.sent,n.setState({copiedElement:null}),e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.setParentForCreateFromTemplate=function(e){n.setState({parentForCreateFromTemplate:e})},n}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.subscribe()}},{key:"componentWillReceiveProps",value:function(e){this.subscribe()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.fsItems,n=e.copiedElement,a=e.parentForCreateFromTemplate;return l.a.createElement(F.Provider,{value:{fsItems:t,documents:I,copiedElement:n,parentForCreateFromTemplate:a,setParentForCreateFromTemplate:this.setParentForCreateFromTemplate,getFolderElementsTreeById:this.getFolderElementsTreeById,getFolderElementsById:this.getFolderElementsById,getElement:this.getElement,commit:this.commit,rename:this.rename,copyItem:this.copyItem,createItem:this.createItem,pasteItem:this.pasteItem,removeById:this.removeById}},this.props.children)}},{key:"subscribe",value:function(){var e=this;this.unsubscribe(),this.unsubscribe=this.collection.onSnapshot(function(t){var n=new Map;t.forEach(function(e){var t=e.data();t.id=e.id,n.set(e.id,t)}),e.setState({fsItems:n})})}}]),t}(l.a.PureComponent);n(528);function z(e){for(var t=[],n=e.fsItems.get(e.id);;){if(!n){t.reverse();break}var a=n,r=a.id,l=a.name,o=a.parentId;t.push({path:"/dashboard/".concat(r),breadcrumbName:l,children:[]}),n=e.fsItems.get(o)}return t}function M(e,t,n){return n.indexOf(e)===n.length-1?l.a.createElement("span",null,e.breadcrumbName):l.a.createElement(s.b,{to:e.path},e.breadcrumbName)}var A,B=Object(i.g)(function(e){var t=e.match.params.id;t=t||"Root";var n=Object(r.useContext)(F).fsItems;return l.a.createElement(m.a,{className:"breadcrumb",itemRender:M,routes:z({fsItems:n,id:t})})}),U=n(16),P=n(135),L=n(43),W=n(57),G=n.n(W),H=n(500),V=n.n(H),J=n(158),Y="explorer",X="document",K=[{data:[{name:"new folder",value:"new_folder",icon:"folder-add"},{name:"new file",value:"new_file",icon:"file-add"},{name:"past",value:"past",icon:"profile"}],currentId:"explorer"},{data:[{name:"edit",value:"edit-template",icon:"edit"},{name:"info",value:"info",icon:"info-circle"},{name:"download",value:"download",icon:"cloud-download"},{name:"copy",value:"copy",icon:"copy"},{name:"commit",value:"commit",icon:"file-done"},{name:"rename",value:"rename",icon:"edit"},{name:"delete",value:"delete",icon:"delete"}],currentId:"document"},{data:[{name:"copy",value:"copy",icon:"copy"},{name:"rename",value:"rename",icon:"edit"},{name:"delete",value:"delete",icon:"delete"}],currentId:"folder"}],q=(A={},Object(L.a)(A,w.FOLDER,"folder"),Object(L.a)(A,w.DOCUMENT,"document"),A),Z=function(e){var t=q[e];if(t)return t;throw new Error("Error of FS element type: "+e)},$=(n(266),n(120)),Q=(n(162),n(17)),ee=n(41),te=function(e){var t=e.style;return l.a.createElement(ee.i,{style:t})},ne=(n(718),function(e){var t=e.style;return l.a.createElement("div",{className:"block-element",style:t})}),ae=function(e){var t=e.style;return l.a.createElement(ee.i,{style:t})},re=(n(719),function(e){var t=e.style;return l.a.createElement("div",{className:"border-element",style:t})}),le=n(497),oe=12,ce="#ccc",ie="#fff",se="#ccc",ue="2pt 6pt",me="1pt",de="#000",fe="solid",pe="".concat(me," ").concat(fe," ").concat(de),Ee=function(e){var t=e.row,n=e.column;return"".concat(t).concat("-").concat(n)},he={table:{display:"flex",flexDirection:"column",border:pe,backgroundColor:ie,fontFamily:"Roboto",fontSize:oe},header:{display:"flex",flexDirection:"row",backgroundColor:ce},footer:{display:"flex",flexDirection:"row",backgroundColor:se,fontWeight:"bold"},row:{display:"flex",flexDirection:"row"},cell:{display:"flex",padding:ue}},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(le.a)(e),a=n[0],r=n.slice(1),l=t&&r.pop()||[];return{header:a,body:r,footer:l}},ge=function(e,t,n,a,r,o,c,i){return function(s,u,m,d){return function(f,p){var h={current:u,length:m},b={current:p,length:s.length},g=n[Ee({row:u+("body"===d?1:0),column:p})]||{},v=g.colSpan,y=void 0===v?1:v,C=g.style,S=void 0===C?{}:C,O=t.borderWidth,w=t.borderStyle,T=t.borderColor,N=Object(P.a)(t,["borderWidth","borderStyle","borderColor"]),k="".concat(O||me," ").concat(w||de," ").concat(T||fe),x=Object(E.a)({width:"".concat(e*y,"%")},N,function(e,t,n){n=n||pe;var a={},r=e.current+1===e.length,l=t.current+1===t.length;return r||(a.borderBottom=n),l||(a.borderRight=n),a}(h,b,k),S);return l.a.createElement(a,{key:p,style:x,value:f,isActive:o,isDone:c,row:h.current+("body"===d?1:0),column:b.current,cellType:d,changeTable:r,actions:i})}}},ve=ee.g.create(he),ye=function(e){var t=e.value,n=e.style;return l.a.createElement(ee.i,{style:n},l.a.createElement(ee.h,null,t))},Ce=function(e){var t=e.data,n=e.hasFooter,a=void 0!==n&&n,r=e.columnsCount,o=e.style,c=void 0===o?{}:o,i=e.cellsStyle,s=void 0===i?{}:i,u=be(t,a),m=u.header,d=u.body,f=u.footer,p=100/r,h=t.length,b=ge(p,Object(E.a)({},ve.cell,{borderWidth:c.borderWidth,borderStyle:c.borderStyle,borderColor:c.borderColor}),s,ye);return l.a.createElement(ee.i,{style:Object(E.a)({},ve.table,c)},l.a.createElement(ee.i,{style:ve.header},m.map(b(m,0,h,"header"))),d.map(function(e,t){return l.a.createElement(ee.i,{style:Object(E.a)({},ve.row,{height:25}),key:t},e.map(b(e,t,h,"body")))}),f.length?l.a.createElement(ee.i,{style:ve.footer},f.map(b(f,h-1,h,"footer"))):null)},Se=(n(183),n(73)),Oe=(n(92),n(32)),we=(n(1029),n(509)),Te=(n(222),n(178)),Ne=n(176),ke={open:!1,title:"",target:null,content:null};function xe(){var e=Object(r.useState)(ke),t=Object(U.a)(e,2),n=t[0],a=t[1];return[n,{setModalState:function(e){a(e)},closeModal:function(){a(Object(E.a)({},ke))}}]}function _e(e){var t=Object(r.useContext)(F),n=(t.fsItems,Object(P.a)(t,["fsItems"])),a=n.getFolderElementsById(e),l=a.filter(function(e){return e.isDefault}),o=a.filter(function(e){return e.status===T.DOCUMENT_IN_PROGRESS}),c=a.filter(function(e){return e.status!==T.DOCUMENT_IN_PROGRESS&&!e.isDefault});return Object(E.a)({items:a,elements:[l,o,c]},n)}var je=n(159),Re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ie(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Re?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Fe(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Fe(t,e)})}}function Fe(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function De(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}function ze(e){if("object"!==typeof e)throw Error("Is not an object: "+e);var t=JSON.stringify(e);try{return JSON.parse(t)}catch(n){throw Error("Error when cloning: "+n)}}var Me,Ae=595.28,Be=841.89,Ue=function(e){return function(t,n){return n!==e}},Pe=Symbol("pages");var Le,We=Object(Ne.a)(function(e){var t=Object(r.useContext)(F),n=t.getElement,a=t.documents,l=n(e.fsElementId),o=!!l&&l.status===T.DOCUMENT__DONE,c=Object(r.useState)([[]]),i=Object(U.a)(c,2),s=i[0],u=i[1];window[Pe]=s,Object(r.useEffect)(function(){if(l){var e=a.doc(l.documentId).onSnapshot(function(e){console.log("subscribe");var t=e.data(),n=JSON.parse(t.content);Array.isArray(n)&&u(n)});return Me=setInterval(function(){var e=JSON.stringify(window[Pe]);a.doc(l.documentId).update({content:e}),console.log("Document was updated")},5e3),function(){e(),clearInterval(Me),console.log("unsubscribe")}}},[l,a]);var m=Object(r.useState)(null),d=Object(U.a)(m,2),f=d[0],p=d[1],h=function(){return p(null)},b=function(e){return!!f&&f.id===e.id},g=Object(r.useState)(null),v=Object(U.a)(g,2),y=v[0],C=v[1],S=function(e,t,n,a){var r=ze(lt[t].element);if(!r)throw new Error("Unknown element type: "+t);var l=window.screen.pixelDepth/10*2,o=r.size,c=Ae<n.x+o.width?Ae-o.width:n.x/l,i=Be<n.y+o.height?Be-o.height:n.y/l;r.position={x:c,y:i},r.id="f".concat((+new Date).toString(16)),a&&"value"in r&&(r.value=a);var m=s[e];s[e]=[].concat(Object(je.a)(m),[r]),u(Object(je.a)(s))},O=function(e,t,n){s[e][t]=Object(E.a)({},n),u(Object(je.a)(s))},w=Object(r.useState)(!1),N=Object(U.a)(w,2),k=N[0],x=N[1],_=Object(r.useState)(!1),j=Object(U.a)(_,2),R=j[0],I=j[1],D=Object(r.useState)(!1),z=Object(U.a)(D,2),M=z[0],A=z[1];return{document:l,activeId:y,activeElement:f,pages:s,isDone:o,preview:M,showPreview:k,drawerVisible:R,actions:{showPreviewHandler:function(){return A(!M)},addPage:function(){return u([].concat(Object(je.a)(s),[[]]))},deletePage:function(e){u(s.filter(Ue(e)))},addElement:S,changeElement:O,deleteElement:function(e,t){s[e]=s[e].filter(Ue(t)),u(Object(je.a)(s))},setActiveElement:function(e){b(e)?h():p(e)},resetActiveElement:h,isElementActive:b,addRowToTableElement:function(e,t,n){var a=n.data,r=n.hasFooter,l=a.length-(r?1:0),o=a[l].map(function(e){return"cell"});n.data.splice(l,0,o),O(e,t,n)},addColumnToTableElement:function(e,t,n){var a=n.data;n.data=a.map(function(e){return[].concat(Object(je.a)(e),["cell"])}),O(e,t,n)},addColSpan:function(e,t,n,a,r){if(!n.cellsStyle)throw new Error("Error: Table has not cell styles");var l=ze(n.data);l[a].splice(r+1,1);var o=Ee({row:a,column:r});n.cellsStyle[o]=n.cellsStyle[o]||{};var c=n.cellsStyle[o].colSpan||1;n.cellsStyle[o]={colSpan:c+1,style:Object(E.a)({},n.cellsStyle[o].style)},n.data=l,O(e,t,n)},removeRowFromTableElement:function(e,t,n,a){var r=ze(n.data);r.splice(a,1),n.data=r,O(e,t,n)},removeColumnFromTableElement:function(e,t,n,a){var r=ze(n.data);r.forEach(function(e){return e.splice(a,1)}),n.data=r,O(e,t,n)},togglePreview:function(){return x(!k)},handleChangeText:function(e,t,n,a){a.value=n,O(e,t,a)},changeTextStyle:function(e,t,n,a,r){"underline"===r.style[n]&&(a="none"),"italic"===r.style[n]&&(a="normal"),"bold"===r.style[n]&&(a="normal"),"fontSize"===n&&(a="".concat(a,"pt")),r.style[n]=a,O(e,t,r)},setActiveId:function(e,t){return C({page:e,id:t})},resetActiveId:function(){return C(null)},handleChangeSettings:function(e,t,n,a,r){var l=ze(f);l[r][n]=a,O(e,t,l)},addImage:function(e,t,n){var a=document.createElement("input");a.type="file";var r={},l="";a.onchange=function(a){var o=new FileReader;r=a.target.files[0],o.onload=function(a){l=a.target.result,S(e,t,n,l)},o.readAsDataURL(r)},a.click()},showDrawer:function(){return I(!0)},closeDrawer:function(){return I(!1)}}}}),Ge=(n(723),he),He=function(e){var t=We().preview,n=e.value,a=e.style,o=e.isActive,c=e.isDone,i=e.row,s=e.column,u=e.changeTable,m=e.cellType,d=Object(r.useState)(!1),f=Object(U.a)(d,2),p=f[0],E=f[1],h=function(){return E(!p)},b=Object(r.useRef)();Object(r.useEffect)(function(){p&&b&&b.current&&b.current.focus()},[p]);var g=function(e){u&&u(i,s,e.target.value),h()},v="header"===m?"cell header-cell":"cell";return p?l.a.createElement("div",{className:v,style:a},l.a.createElement(we.a.Item,{className:"cell-input"},l.a.createElement(Te.a.TextArea,{ref:b,autosize:!0,defaultValue:n,onPressEnter:g,onBlur:g}))):l.a.createElement("div",{className:v,style:a,onClick:function(){o&&!c&&h()}},"header"===m&&!t&&!c&&l.a.createElement("div",{className:"header-actions"},l.a.createElement(Se.a,{placement:"top",title:"delete column"},l.a.createElement(Oe.a,{type:"danger",icon:"close",size:"small",shape:"circle",onClick:function(){e.actions&&e.actions.removeColumnFromTableElement(s)}}))),!t&&!c&&l.a.createElement("div",{className:"cell-actions"},l.a.createElement(Se.a,{placement:"top",title:"combine with next cell"},l.a.createElement(Q.a,{type:"right-circle",theme:"filled",onClick:function(){e.actions&&e.actions.addColSpan(i,s)}}))),l.a.createElement("span",null,n))},Ve=function(e){var t=e.data,n=e.columnsCount,a=e.hasFooter,r=void 0!==a&&a,o=e.style,c=void 0===o?{}:o,i=e.cellsStyle,s=void 0===i?{}:i,u=e.innerRef,m=e.changeTable,d=e.actions,f=e.isActive,p=e.isDone,h=e.preview,b=be(t,r),g=b.header,v=b.body,y=b.footer,C=100/n,S=t.length,O=ge(C,Object(E.a)({},Ge.cell,{borderWidth:c.borderWidth,borderStyle:c.borderStyle,borderColor:c.borderColor}),s,He,m,f,p,d),w=Object(E.a)({},Ge.table,c);return w=Object(E.a)({},w,{fontSize:2*w.fontSize}),l.a.createElement(l.a.Fragment,null,!h&&!p&&l.a.createElement("div",{className:"table-element-controls"},l.a.createElement(Se.a,{placement:"right",title:"add row"},l.a.createElement(Oe.a,{icon:"arrow-down",size:"small",shape:"circle",onClick:d.addRowToTableElement})),l.a.createElement(Se.a,{placement:"right",title:"add column"},l.a.createElement(Oe.a,{icon:"arrow-right",size:"small",shape:"circle",onClick:d.addColumnToTableElement}))),l.a.createElement("div",{ref:u,className:"table-element",style:w},l.a.createElement("div",{style:Ge.header},g.map(O(g,0,S,"header"))),v.map(function(e,t){return l.a.createElement("div",{className:"row",style:Ge.row,key:t},!h&&!p&&l.a.createElement("div",{className:"row-actions"},l.a.createElement(Se.a,{placement:"left",title:"delete row"},l.a.createElement(Oe.a,{type:"danger",icon:"close",size:"small",shape:"circle",onClick:function(){return d.removeRowFromTableElement(t)}}))),e.map(O(e,t,S,"body")))}),y.length?l.a.createElement("div",{style:Ge.footer},y.map(O(y,S-1,S,"footer"))):null))},Je=function(e){var t=e.style,n=e.value;return l.a.createElement(ee.i,{style:t},l.a.createElement(ee.h,null,n))},Ye=(n(762),Te.a.TextArea),Xe=function(e){var t=e.style,n=e.isActive,a=e.handleChangeText,r=e.value;return l.a.createElement("div",{className:"text-element"},n?l.a.createElement(Ye,{autosize:!0,value:r,style:Object(E.a)({},t,{minHeight:"100%"}),onChange:function(e){return a(e.target.value)}}):l.a.createElement("div",{style:Object(E.a)({},t)},r))},Ke=function(e){var t=e.style,n=e.value;return l.a.createElement(ee.i,{style:t},l.a.createElement(ee.c,{src:n||""}))},qe=(n(763),function(e){var t=e.value;return l.a.createElement("div",{style:{width:"100%",height:"100%",background:"url(".concat(t,") no-repeat"),backgroundSize:"100% 100%"}})}),Ze={id:"default-text",type:N,position:{x:0,y:0},size:{width:200,height:200},style:{fontSize:"16pt",color:"#000"},value:"Text"},$e={id:"default-image",type:_,position:{x:0,y:0},size:{width:200,height:200},style:{backgroundColor:"black"},value:""},Qe={id:"default-block",type:k,position:{x:0,y:0},size:{width:200,height:200},style:{backgroundColor:"#000"}},et={id:"default-border",type:x,position:{x:0,y:0},size:{width:200,height:200},style:{borderWidth:"1pt",borderColor:"#000",borderStyle:"solid"}},tt={id:"default-table",type:j,columnsCount:2,position:{x:0,y:0},size:{width:400,height:200},style:{backgroundColor:"white",borderWidth:"1pt",borderColor:"#000",borderStyle:"solid"},cellsStyle:{},hasFooter:!0,data:[["header 1","header 2"],["cell 1","cell 2"],["cell 3","cell 4"],["cell 5","cell 6"],["cell 3","cell 7"]]},nt={id:"default-table",type:j,columnsCount:6,position:{x:0,y:0},size:{width:800,height:200},style:{backgroundColor:"white",borderWidth:"1pt",borderColor:"#000",borderStyle:"solid"},cellsStyle:{"0-1":{style:{},colSpan:4},"1-1":{style:{},colSpan:4},"2-1":{style:{},colSpan:4},"3-1":{style:{},colSpan:4},"4-0":{style:{},colSpan:5},"5-0":{style:{},colSpan:4},"6-0":{style:{},colSpan:5}},hasFooter:!0,data:[["Pos.","Bezeichnung","EUR"],["1.","Bezeichnung 1","123,69"],["2.","Bezeichnung 2","1.835,00"],["3.","Bezeichnung 3","10,88"],["Rechnungsbetrag (Netto)","1.969,57"],["Umsatzsteuer","19%","374,22"],["RECHNUNGSBETRAG","2.343,79"]]},at={id:"default-table",type:j,columnsCount:10,position:{x:0,y:0},size:{width:1100,height:200},style:{backgroundColor:"white",borderWidth:"1pt",borderColor:"#000",borderStyle:"solid"},cellsStyle:{"0-1":{style:{},colSpan:5},"1-1":{style:{},colSpan:5},"2-1":{style:{},colSpan:5},"3-1":{style:{},colSpan:5},"4-1":{style:{},colSpan:5},"4-5":{style:{fontWeight:"bold"}},"5-0":{style:{},colSpan:10},"6-0":{style:{},colSpan:9},"7-0":{style:{},colSpan:7},"7-1":{style:{},colSpan:2},"8-0":{style:{},colSpan:9}},hasFooter:!0,data:[["Pos.","Bezeichnung","Menge","Einheit","E-Preis EUR","Netto EUR"],["1.","Bezeichnung 1","5,0","Stk.","10,00","50,00"],["2.","Bezeichnung 2","2,0","Stk.","15,50","31,00"],["3.","Bezeichnung 3","20,0","Stk.","2,00","40,00"],["_","_","_","_","_","121,00"],["_"],["Rechnungsbetrag (Netto)","121,00"],["Umsatzsteuer","19%","22,99"],["RECHNUNGSBETRAG","143,99"]]},rt={id:"default-table",type:j,columnsCount:10,position:{x:0,y:0},size:{width:1160,height:500},style:{backgroundColor:"white",borderWidth:"1pt",borderColor:"#000",borderStyle:"solid"},cellsStyle:{"0-1":{style:{},colSpan:3},"1-1":{style:{},colSpan:3},"2-1":{style:{},colSpan:3},"3-1":{style:{},colSpan:3},"4-1":{style:{},colSpan:3},"5-1":{style:{},colSpan:3},"6-1":{style:{},colSpan:3},"7-1":{style:{},colSpan:3},"8-1":{style:{},colSpan:3},"9-1":{style:{},colSpan:3},"10-1":{style:{},colSpan:3},"11-1":{style:{},colSpan:3},"12-1":{style:{},colSpan:3},"13-1":{style:{},colSpan:3},"14-0":{style:{},colSpan:7},"15-0":{style:{},colSpan:7},"16-1":{style:{},colSpan:3},"17-1":{style:{},colSpan:3},"18-1":{style:{},colSpan:3},"18-5":{style:{fontWeight:"bold"}},"18-7":{style:{fontWeight:"bold"}},"19-0":{style:{},colSpan:10},"20-0":{style:{backgroundColor:"#ccc"},colSpan:5},"20-1":{style:{backgroundColor:"#ccc"},colSpan:2},"20-2":{style:{backgroundColor:"#ccc"}},"20-3":{style:{backgroundColor:"#ccc"}},"20-4":{style:{backgroundColor:"#ccc"}},"21-0":{style:{},colSpan:5},"21-1":{style:{},colSpan:2},"22-0":{style:{},colSpan:5},"22-1":{style:{},colSpan:2},"23-0":{style:{},colSpan:5},"23-1":{style:{},colSpan:2},"24-0":{style:{},colSpan:5},"24-1":{style:{fontWeight:"bold"},colSpan:2},"24-3":{style:{fontWeight:"bold"}},"24-4":{style:{fontWeight:"bold"}},"25-0":{style:{},colSpan:10},"26-0":{style:{},colSpan:9}},hasFooter:!0,data:[["Pos.","Bezeichnung","Menge","Einheit","E-Preis EUR","Netto EUR","USt %","Brutto EUR"],["1","Bezeichnung","5,0","Stk.","10,00","50,00","7%","53,50"],["2","Bezeichnung","2,0","Stk.","15,00","31,00","19%","36,89"],["3","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["4","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["5","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["6","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["7","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["8","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["9","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["10","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["11","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["12","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["13","Bezeichnung","1,0","Stk.","25,00","25,00","19%","29,75"],["Zwischensumme","356,00","_","417,64"],["U\u0308bertrag","356,00","_","417,64"],["14","Bezeichnung","10,0","Stk.","1,50","15,00","19%","17,85"],["15","Bezeichnung","20,0","Stk.","2,00","40,00","19%","47,60"],["_","_","_","_","_","411,00","_","483,09"],["_"],["Aufteilung nach USt-Sa\u0308tzen","Netto EUR","USt %","USt EUR","Brutto EUR"],["Umsatzsteuer 0%","0,00","0%","0,00","0,00"],["Umsatzsteuer 7%","50,00","7%","3,50","53,50"],["Umsatzsteuer 19%","361,00","19%","68,59","429,59"],["_","121,00","_","72,09","483,09"],["_"],["RECHNUNGSBETRAG","483,09"]]},lt=(Le={},Object(L.a)(Le,N,{control:{name:"Text",icon:"font-size",type:N},element:Ze}),Object(L.a)(Le,k,{control:{name:"Block",icon:"block",type:k},element:Qe}),Object(L.a)(Le,x,{control:{name:"Border",icon:"border",type:x},element:et}),Object(L.a)(Le,_,{control:{name:"Image",icon:"picture",type:_},element:$e}),Object(L.a)(Le,j,{control:{name:"Table",icon:"table",type:j},element:tt}),Object(L.a)(Le,j+1,{control:{name:"Table 1",icon:"table",type:j+1},element:nt}),Object(L.a)(Le,j+2,{control:{name:"Table 2",icon:"table",type:j+2},element:at}),Object(L.a)(Le,j+3,{control:{name:"Table 3",icon:"table",type:j+3},element:rt}),Le);ee.b.register({family:"Roboto",fonts:[{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-regular-webfont.ttf"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-bold-webfont.woff",fontWeight:"bold"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-italic-webfont.ttf",fontWeight:"normal",fontStyle:"italic"},{src:"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto_condensed/robotocondensed-bolditalic-webfont.ttf",fontWeight:"bold",fontStyle:"italic"}]});var ot=function(e){var t=e.pages;return l.a.createElement(ee.a,null,t.map(function(e,t){return l.a.createElement(ee.f,{key:t},e.map(function(e,t){var n=Object(E.a)({position:"absolute",top:e.position.y/2,left:e.position.x/2,width:e.size.width/2,height:e.size.height/2},e.style);if(e.type===k)return l.a.createElement(te,{key:t,style:n});if(e.type===x)return l.a.createElement(ae,{key:t,style:n});if(e.type===N&&"value"in e)return l.a.createElement(Je,{key:t,style:n,value:e.value});if(e.type===_&&"value"in e)return l.a.createElement(Ke,{key:t,style:n,value:e.value});if(e.type===j&&"hasFooter"in e){var a=e.data,r=e.columnsCount,o=e.hasFooter,c=e.cellsStyle;return n.top-=4,delete n.height,l.a.createElement(Ce,{key:t,data:a,columnsCount:r,hasFooter:o,style:n,cellsStyle:c})}return null}))}))},ct=(n(764),Object(J.d)(X)(function(e){var t=e.currentId,n=e.trigger,a=e.onChange,o=e.data;n&&n.item&&(n.item.status===T.DOCUMENT_IN_PROGRESS&&(o=o.filter(function(e){return"edit-template"!==e.value})),n.item.status===T.DOCUMENT__DONE&&(o=o.filter(function(e){return!["delete","commit","edit-template","rename"].includes(e.value)})),n.item.status===T.TEMPLATE&&(o=o.filter(function(e){return!["commit","download"].includes(e.value)})));var c=Object(r.useState)([]),i=Object(U.a)(c,2),s=i[0],u=i[1],m=Object(r.useContext)(F).documents;Object(r.useEffect)(function(){if(n&&n.item){var e=m.doc(n.item.documentId).onSnapshot(function(e){var t=e.data(),n=JSON.parse(t.content);u(n)});return function(){e()}}},[m,n]);var d=n&&n.item?"".concat(n.item.name,".pdf"):"";return l.a.createElement(J.a,{id:t,className:"context-menu"},l.a.createElement($.b,{selectable:!1},o.map(function(e){return l.a.createElement($.b.Item,{key:e.name},l.a.createElement(J.c,{key:e.name,data:e,onClick:a},"download"===e.value?l.a.createElement(ee.d,{key:e.name,document:l.a.createElement(ot,{pages:s}),fileName:d},function(t){t.blob,t.url;var n=t.loading;return t.error,n?"Document loading...":l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{type:e.icon,className:"delete"===e.value?"alert":"primary"}),l.a.createElement("span",null,e.name))}):l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{type:e.icon,className:"delete"===e.value?"alert":"primary"}),l.a.createElement("span",null,e.name))))})))})),it=(n(425),n(261)),st=function(e){var t=e.open,n=e.title,a=e.content,r=e.width,o=e.bodyStyle,c=e.onAction,i=e.onClose,s=e.footer;return l.a.createElement(it.a,{width:r,bodyStyle:o,visible:t,title:n,onOk:c,onCancel:i,footer:s},a)},ut=n(356),mt=n.n(ut),dt=function(e){var t=e.expanded;return l.a.createElement(G.a,{type:t?"folder-open":"folder",theme:"filled"})},ft=function(e){var t=e.data,n=e.onSelect;return l.a.createElement(mt.a,{showIcon:!0,switcherIcon:l.a.createElement(G.a,{type:"down"}),onSelect:function(e,t){t.node.props.data&&n(t.node.props.data)}},function e(t){return t.map(function(t){return l.a.createElement(mt.a.TreeNode,{data:t,key:t.id,icon:dt,title:t.name},t.children?e(t.children):null)})}(t))},pt={CREATE_FOLDER:"CREATE_FOLDER",CREATE_DOCUMENT:"CREATE_DOCUMENT",CREATE_DOCUMENT_FROM_TEMPLATE:"CREATE_DOCUMENT_FROM_TEMPLATE",RENAME_FS_ITEM:"RENAME_FS_ITEM"};var Et=Object(Ne.a)(function(){var e=Object(r.useState)(!1),t=Object(U.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)(pt.CREATE_FOLDER),o=Object(U.a)(l,2),c=o[0],i=o[1],s=Object(r.useState)(null),u=Object(U.a)(s,2),m=u[0],d=u[1];return{open:n,mode:c,modalToggle:function(e,t){a(!n),i(e||pt.CREATE_FOLDER),d(t)},target:m,setTarget:d}}),ht=(Object(Ne.a)(_e),function(e){if(e===pt.CREATE_DOCUMENT)return"Create new document";if(e===pt.CREATE_FOLDER)return"Create new folder";if(e===pt.CREATE_DOCUMENT_FROM_TEMPLATE)return"Create document from template";if(e===pt.RENAME_FS_ITEM)return"Rename element";throw new Error("Unknown mode: "+e)}),bt=Object(i.g)(function(e){var t=Object(r.useState)(""),n=Object(U.a)(t,2),a=n[0],o=n[1],c=Et(),i=c.open,s=c.mode,u=c.modalToggle,m=c.target,d=Object(r.useContext)(F),h=d.fsItems,b=d.createItem,g=d.rename,v=d.parentForCreateFromTemplate,y=e.match,C=e.history,S=function(){u(),o("")},O=function(){var e=Object(p.a)(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:a,parentId:y.params.id,type:w.FOLDER},s!==pt.CREATE_DOCUMENT){e.next=8;break}if(n=h.get(y.params.id)){e.next=5;break}return e.abrupt("return");case 5:r="Vorlage"===n.name,t.type=w.DOCUMENT,t.status=r?T.TEMPLATE:T.DOCUMENT_IN_PROGRESS;case 8:if(s!==pt.CREATE_DOCUMENT_FROM_TEMPLATE){e.next=16;break}if(v&&v.id){e.next=11;break}return e.abrupt("return");case 11:t.parentId=v.id,t.type=w.DOCUMENT,t.status=T.DOCUMENT_IN_PROGRESS,t.formTemplate=!0,t.documentId=m.documentId;case 16:return e.next=18,b(t);case 18:S(),s===pt.CREATE_DOCUMENT_FROM_TEMPLATE&&v&&C.push({pathname:"".concat(v.id)});case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s!==pt.RENAME_FS_ITEM){e.next=7;break}return e.next=4,g(Object(E.a)({},m,{name:a}));case 4:S(),e.next=8;break;case 7:O();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error on create FS element",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),k=s===pt.RENAME_FS_ITEM?m.name:"";return l.a.createElement(it.a,{visible:i,title:ht(s),onOk:N,onCancel:S},i&&l.a.createElement(Te.a,{autoFocus:!0,onChange:function(e){o(e.target.value)},defaultValue:k}))}),gt={}.hasOwnProperty;n(782),n(784);var vt=function(e){return function e(){for(var t=[],n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];for(var l=0,o=a;l<o.length;l++){var c=o[l];if(c){var i=typeof c;if("string"===i||"number"===i)t.push(c);else if(Array.isArray(c))t.push(e.apply(null,c));else if("object"===i)for(var s=c,u=0,m=Object.keys(s);u<m.length;u++){var d=m[u];gt.call(s,d)&&s[d]&&t.push(d)}}}return t.join(" ")}({"fs-element":!0,"in-progress":e.status===T.DOCUMENT_IN_PROGRESS})},yt=Object(i.g)(function(e){var t=e.match,n=e.history,a=_e(t.params.id),r=(a.items,a.elements),o=a.copiedElement,c=(a.parentForCreateFromTemplate,Object(P.a)(a,["items","elements","copiedElement","parentForCreateFromTemplate"])),i=xe(),s=Object(U.a)(i,2),u=s[0],m=s[1],d=Et().modalToggle,h=function(e){return function(){if(e.type===w.FOLDER)n.push({pathname:"".concat(e.id)});else if(e.status===T.TEMPLATE){var t={item:e,name:"new_file_from_template",value:"new_file_from_template"};m.setModalState({open:!0,title:"Create document from template",target:t,content:l.a.createElement(ft,{data:c.getFolderElementsTreeById("Root",w.FOLDER),onSelect:c.setParentForCreateFromTemplate})})}else n.push("/document/".concat(e.id))}},b=function(e,a){switch(a.value){case"new_file":return d(pt.CREATE_DOCUMENT);case"new_folder":return d(pt.CREATE_FOLDER);case"rename":return d(pt.RENAME_FS_ITEM,a.item);case"edit-template":return n.push("/document/".concat(a.item.id));case"past":return c.pasteItem(t.params.id);case"delete":if(a.item.isDefault)return;return m.setModalState({open:!0,title:"Are you sure you want to delete?",target:a});case"download":return console.log("download",e,a);case"info":var r=l.a.createElement(V.a,{size:"small",bordered:!0,showHeader:!1,pagination:!1,columns:[{dataIndex:"title"},{dataIndex:"date"}],dataSource:[{title:"Created",date:"19.02.2019"},{title:"Updated",date:"19.02.2019"}]});return m.setModalState({open:!0,title:"Document information",target:a,content:r});case"copy":return c.copyItem(a.item);case"commit":return m.setModalState({open:!0,title:"Are you sure you want to commit?",target:a});default:return}},g=function(){var e=Object(p.a)(f.a.mark(function e(){var t,n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.target){e.next=2;break}return e.abrupt("return");case 2:if(t=u.target,n=t.value,a=t.name,r=t.item,n&&r){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,"delete"!==n){e.next=9;break}return e.next=9,c.removeById(r.id);case 9:if("commit"!==n){e.next=12;break}return e.next=12,c.commit(r.id);case 12:"new_file_from_template"===n&&d(pt.CREATE_DOCUMENT_FROM_TEMPLATE,r),m.closeModal(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Error on ".concat(a," FS element"),e.t0);case 19:case"end":return e.stop()}},e,null,[[5,16]])}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(J.b,{id:Y},l.a.createElement("div",{className:"explorer"},r.map(function(e,t){return l.a.createElement("div",{key:t,className:"root"},e.map(function(e){return l.a.createElement(J.b,{key:e.id,collect:function(t){return Object(E.a)({},t,{item:e})},id:e.isDefault?"":Z(e.type)},l.a.createElement("div",{className:vt(e),onClick:h(e)},function(e){var t,n="sync";e.status===T.TEMPLATE&&(n="layout"),e.status===T.DOCUMENT__DONE&&(n="check-circle");var a="lock";return"Vorlage"===e.name&&(a="layout"),(t={},Object(L.a)(t,w.FOLDER,l.a.createElement(l.a.Fragment,null,e.isDefault&&l.a.createElement(G.a,{className:"marker",type:a}),l.a.createElement(G.a,{className:"icon folder",type:"folder",theme:"filled"}))),Object(L.a)(t,w.DOCUMENT,l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{className:"marker doc",type:n}),l.a.createElement(G.a,{className:"icon",type:"file",theme:"filled"}))),t)[e.type]}(e),l.a.createElement("span",{className:"text"},e.name)))}))})),K.map(function(e){var n=e.data,a=c.getElement(t.params.id),r=!!a&&"Vorlage"===a.name;return e.currentId===Y&&(n=e.data.filter(function(e){return"past"!==e.value||o&&(o.status!==T.TEMPLATE&&!r||o.status===T.TEMPLATE&&r)})),l.a.createElement(ct,{key:e.currentId,data:n,currentId:e.currentId,onChange:b})}),l.a.createElement(bt,null),l.a.createElement(st,{open:u.open,title:u.title,content:u.content,onAction:g,onClose:m.closeModal}))}),Ct=n(502),St=n.n(Ct),Ot=(n(846),function(e){var t=Object(r.useState)(!1),n=Object(U.a)(t,2),a=n[0],o=n[1],c=Et().modalToggle;return l.a.createElement(u.a.Sider,{collapsible:!0,collapsed:a,onCollapse:o},l.a.createElement(s.b,{to:"/",className:"logoContainer"},l.a.createElement("img",{className:"logo",alt:"logo",src:St.a}),"binale".split("").map(function(e,t){return l.a.createElement("span",{key:t,className:"logoText"},e)})),l.a.createElement($.b,{theme:"dark",selectable:!1,onClick:function(e){"file"===e.key&&c(pt.CREATE_DOCUMENT),"folder"===e.key&&c(pt.CREATE_FOLDER)}},[{key:"folder",text:"New folder",icon:"folder-add"},{key:"file",text:"New document",icon:"file-add"}].map(function(e){return l.a.createElement($.b.Item,{key:e.key},l.a.createElement(Q.a,{type:e.icon}),l.a.createElement("span",null,e.text))})))}),wt=(n(847),function(e){return l.a.createElement(u.a,{className:"layout"},l.a.createElement(Ot,null),e.children)}),Tt=(n(848),function(e){return l.a.createElement(wt,null,l.a.createElement(u.a,{className:"dashboard"},l.a.createElement(u.a.Header,{className:"header"}),l.a.createElement(u.a.Content,{className:"content"},l.a.createElement(B,null),l.a.createElement("div",{className:"main"},l.a.createElement(yt,null))),l.a.createElement(u.a.Footer,{className:"footer"},"Binale Software \xa92019")))}),Nt=(n(849),n(513)),kt=(n(851),n(511)),xt=n(177),_t=n(510),jt=(n(196),n(46)),Rt=n(133),It=n.n(Rt),Ft=(n(238),{position:"absolute",zIndex:"2"}),Dt={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},zt=function(e){var t=e.handleChangeSettings,n=e.activeElement,a=n.size,o=n.position,c=n.style,i=(n.type,Object(r.useState)(!1)),s=Object(U.a)(i,2),u=s[0],m=s[1],d=function(e){return e||null}(c);return l.a.createElement("div",{className:"block-settings-editor"},l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Width:"),l.a.createElement(jt.a,{value:a.width,size:"small",onChange:function(e){return t("width",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Height:"),l.a.createElement(jt.a,{value:a.height,size:"small",onChange:function(e){return t("height",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"X:"),l.a.createElement(jt.a,{value:o.x,size:"small",onChange:function(e){return t("x",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Y:"),l.a.createElement(jt.a,{value:o.y,size:"small",onChange:function(e){return t("y",e,"position")}})),l.a.createElement("div",null,"Background: ",l.a.createElement(Oe.a,{icon:"bg-colors",className:"icon-settings",onClick:function(){m(!u)}}),u?l.a.createElement("div",{style:Ft},l.a.createElement("div",{style:Dt,onClick:function(){m(!1)}}),l.a.createElement(It.a,{color:d.backgroundColor,onChangeComplete:function(e){return t("backgroundColor",e.hex,"style")}})):null))},Mt={position:"absolute",zIndex:"2"},At={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},Bt=function(e){var t=e.handleChangeSettings,n=e.activeElement,a=n.size,o=n.position,c=n.style,i=Object(r.useState)(!1),s=Object(U.a)(i,2),u=s[0],m=s[1],d=function(e){return e||null}(c);return l.a.createElement("div",{className:"block-settings-editor"},l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Width:"),l.a.createElement(jt.a,{value:a.width,size:"small",onChange:function(e){return t("width",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Height:"),l.a.createElement(jt.a,{value:a.height,size:"small",onChange:function(e){return t("height",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"X:"),l.a.createElement(jt.a,{value:o.x,size:"small",onChange:function(e){return t("x",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Y:"),l.a.createElement(jt.a,{value:o.y,size:"small",onChange:function(e){return t("y",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Border:"),l.a.createElement(jt.a,{value:d.borderWidth,size:"small",onChange:function(e){return t("borderWidth",e,"style")}})),l.a.createElement("div",null,"Border Color: ",l.a.createElement(Oe.a,{icon:"bg-colors",className:"icon-settings",onClick:function(){m(!u)}}),u?l.a.createElement("div",{style:Mt},l.a.createElement("div",{style:At,onClick:function(){m(!1)}}),l.a.createElement(It.a,{color:d.backgroundColor,onChangeComplete:function(e){return t("borderColor",e.hex,"style")}})):null))},Ut=function(e){var t=e.handleChangeSettings,n=e.activeElement,a=n.size,r=n.position;return l.a.createElement("div",{className:"block-settings-editor"},l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Width:"),l.a.createElement(jt.a,{value:a.width,size:"small",onChange:function(e){return t("width",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Height:"),l.a.createElement(jt.a,{value:a.height,size:"small",onChange:function(e){return t("height",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"X:"),l.a.createElement(jt.a,{value:r.x,size:"small",onChange:function(e){return t("x",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Y:"),l.a.createElement(jt.a,{value:r.y,size:"small",onChange:function(e){return t("y",e,"position")}})))},Pt={position:"absolute",zIndex:"2"},Lt={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},Wt=function(e){var t=e.handleChangeSettings,n=e.activeElement,a=n.size,o=n.position,c=n.style,i=(n.type,Object(r.useState)(!1)),s=Object(U.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(!1),f=Object(U.a)(d,2),p=f[0],E=f[1],h=function(e){return e||null}(c);return l.a.createElement("div",{className:"block-settings-editor"},l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Width:"),l.a.createElement(jt.a,{value:a.width,size:"small",onChange:function(e){return t("width",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Height:"),l.a.createElement(jt.a,{value:a.height,size:"small",onChange:function(e){return t("height",e,"size")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"X:"),l.a.createElement(jt.a,{value:o.x,size:"small",onChange:function(e){return t("x",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Y:"),l.a.createElement(jt.a,{value:o.y,size:"small",onChange:function(e){return t("y",e,"position")}})),l.a.createElement("div",{className:"fields"},l.a.createElement("span",null,"Border:"),l.a.createElement(jt.a,{value:h.borderWidth,size:"small",onChange:function(e){return t("borderWidth","".concat(e,"pt"),"style")}})),l.a.createElement("div",null,"Background: ",l.a.createElement(Oe.a,{icon:"bg-colors",className:"icon-settings",onClick:function(){m(!u)}}),u?l.a.createElement("div",{style:Pt},l.a.createElement("div",{style:Lt,onClick:function(){m(!1)}}),l.a.createElement(It.a,{color:h.backgroundColor,onChangeComplete:function(e){return t("backgroundColor",e.hex,"style")}})):null),l.a.createElement("div",null,"Border Color:"," ",l.a.createElement(Oe.a,{icon:"bg-colors",className:"icon-settings",onClick:function(){E(!p)}}),p?l.a.createElement("div",{style:Pt},l.a.createElement("div",{style:Lt,onClick:function(){E(!1)}}),l.a.createElement(It.a,{color:h.backgroundColor,onChangeComplete:function(e){return t("borderColor",e.hex,"style")}})):null))},Gt=(n(925),function(){var e=We(),t=e.actions,n=e.activeId,a=e.activeElement,r=e.isDone;return l.a.createElement("div",{className:"editor-container"},l.a.createElement("div",{className:"editor-page"},"Page settings"),!r&&!!a&&l.a.createElement("div",{className:"editor-settings"},function(e,t){var n;return n={},Object(L.a)(n,k,l.a.createElement(zt,{activeElement:e,handleChangeSettings:t})),Object(L.a)(n,x,l.a.createElement(Bt,{activeElement:e,handleChangeSettings:t})),Object(L.a)(n,_,l.a.createElement(Ut,{activeElement:e,handleChangeSettings:t})),Object(L.a)(n,j,l.a.createElement(Wt,{activeElement:e,handleChangeSettings:t})),n}(a,function(e,r,l){t.handleChangeSettings(n.page,n.id,e,r,l,a)})[a.type]))}),Ht=(n(926),"DND_CONTROL_TYPE__BOX"),Vt=function(e){var t=e.control,n=Object(xt.c)({item:{type:Ht,element:t.type}}),a=Object(U.a)(n,2)[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"element-control",ref:a},l.a.createElement(Q.a,{type:t.icon}),l.a.createElement("span",{className:"text"},t.name)))},Jt=n(505),Yt=n(507),Xt=(n(962),[{icon:"align-left",style:"textAlign",value:"left"},{icon:"align-center",style:"textAlign",value:"center"},{icon:"align-right",style:"textAlign",value:"right"},{icon:"underline",style:"textDecoration",value:"underline"},{icon:"bold",style:"fontWeight",value:"bold"},{icon:"italic",style:"fontWeight",value:"italic"}]),Kt={position:"absolute",zIndex:"2"},qt={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},Zt=function(e){var t=e.changeTextStyle,n=e.element.style,a=Object(r.useState)(!1),o=Object(U.a)(a,2),c=o[0],i=o[1];return l.a.createElement("div",{className:"text-settings-root"},l.a.createElement("div",{className:"font-setting"},l.a.createElement(Q.a,{type:"font-size",className:"icon-settings"}),l.a.createElement(jt.a,{value:n.fontSize,onChange:function(e){return t("fontSize",e)}})),l.a.createElement(Oe.a,{icon:"font-colors",className:"icon-settings",onClick:function(){i(!c)}}),c?l.a.createElement("div",{style:Kt},l.a.createElement("div",{style:qt,onClick:function(){i(!1)}}),l.a.createElement(Yt.ChromePicker,{color:n.color,onChangeComplete:function(e){return t("color",e.hex)}})):null,Xt.map(function(e,n){return l.a.createElement(Oe.a,{icon:e.icon,key:n,className:"icon-settings",onClick:function(){return t(e.style,e.value)}})}))},$t=(n(468),function(e,t){return t.type===j&&e.current?e.current.getBoundingClientRect().height:t.size.height}),Qt=function(e,t){var n={bottom:!1,bottomLeft:!1,bottomRight:!1,right:!1,left:!1,top:!1,topLeft:!1,topRight:!1};return e===j?(n.right=!t,n):t?n:void 0},en=function(e){var t=e.id,n=e.pageIndex,a=e.element,o=We(),c=o.isDone,i=o.activeElement,s=o.actions,u=o.preview,m=i&&i.type===N,d=Object(r.useRef)(),f=a.position,p=a.size,E=s.isElementActive(a),h=c?"":"dnd-box";return l.a.createElement(Jt.a,{className:h,bounds:"parent",position:f,size:{width:p.width,height:$t(d,a)},onClick:function(e){return function(e){return e.stopPropagation()}(e)},onDoubleClick:function(e){u||(s.setActiveElement(a),s.setActiveId(n,t),s.showDrawer())},disableDragging:E||c||u,onDragStop:function(e,r){a.position.x=r.x,a.position.y=r.y,s.changeElement(n,t,a)},enableResizing:Qt(a.type,c),onResizeStop:function(e,r,l,o,c){var i=l.getBoundingClientRect(),u=i.width,m=i.height;a.position.x=c.x,a.position.y=c.y,a.size.width=u,a.size.height=m,s.changeElement(n,t,a)}},!c&&E&&l.a.createElement(Se.a,{className:"remove-btn",placement:"right",title:"delete"},l.a.createElement(Oe.a,{type:"danger",icon:"close",size:"small",shape:"circle",onClick:function(){return s.deleteElement(n,t)}})),!c&&E&&m&&l.a.createElement(Zt,{changeTextStyle:function(e,r){s.changeTextStyle(n,t,e,r,a)},element:a}),function(e,t,n,a,r,o,c,i,s,u,m,d){if(!e)return null;if(e.type===k)return l.a.createElement(ne,{style:e.style});if(e.type===x)return l.a.createElement(re,{style:e.style});if(e.type===j&&"hasFooter"in e){var f=e.data,p=e.columnsCount,E=e.hasFooter,h=e.style,b=e.cellsStyle;return l.a.createElement(Ve,{innerRef:t,data:f,columnsCount:p,hasFooter:E,style:h,cellsStyle:b,isActive:s,isDone:u,changeTable:n,preview:d,actions:{addColSpan:a,addRowToTableElement:r,addColumnToTableElement:o,removeRowFromTableElement:c,removeColumnFromTableElement:i}})}return e.type===_&&"value"in e?l.a.createElement(qe,{style:e.style,value:e.value}):e.type===N&&"value"in e?l.a.createElement(Xe,{style:e.style,isActive:s,value:e.value,handleChangeText:m}):void 0}(a,d,function(e,r,l){a.data[e][r]=l,s.changeElement(n,t,a)},function(e,r){s.addColSpan(n,t,a,e,r)},function(){s.addRowToTableElement(n,t,a)},function(){s.addColumnToTableElement(n,t,a)},function(e){s.removeRowFromTableElement(n,t,a,e)},function(e){s.removeColumnFromTableElement(n,t,a,e)},E,c,function(e){s.handleChangeText(n,t,e,a)},u))},tn=function(e){var t=e.pageIndex,n=e.page,a=e.isDone,o=e.actions,c=e.preview,i=Object(r.useState)(document.body.getBoundingClientRect()),s=Object(U.a)(i,2),u=s[0],m=s[1],d=Object(r.useState)(u.top),f=Object(U.a)(d,2),p=f[0],E=f[1],h=Object(r.useRef)(),b=Object(xt.d)({accept:Ht,drop:function(e,n){var a=n.getClientOffset();if(v&&a){a.x=a.x-h.current.offsetLeft,a.y=a.y-h.current.offsetTop+p,e.element===_?o.addImage(t,e.element,a):o.addElement(t,e.element,a);n.didDrop()}},collect:function(e){return{isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0})}}}),g=Object(U.a)(b,2),v=g[0],y=g[1],C=function(){m(document.body.getBoundingClientRect()),E(-u.top)};return Object(r.useEffect)(function(){return window.addEventListener("scroll",C),function(){window.removeEventListener("scroll",C)}}),l.a.createElement("div",{className:"list-container",ref:y,onClick:function(){o.resetActiveElement(),o.resetActiveId()}},l.a.createElement("div",{className:"list ".concat(c?"":"greed-helper"),ref:h},0!==t&&!a&&l.a.createElement(Se.a,{className:"remove-page",placement:"right",title:"delete"},l.a.createElement(Oe.a,{type:"danger",icon:"close",size:"small",shape:"circle",onClick:function(){return o.deletePage(t)}})),n.map(function(e,n){return l.a.createElement(en,{key:n,id:n,pageIndex:t,element:e})}),l.a.createElement("span",{className:"page"},t+1)))},nn=function(e){var t=e.pages,n=e.showPreview,a=e.togglePreview;return l.a.createElement("div",{className:"left-panel"},Object.values(lt).map(function(e){var t=e.control;return l.a.createElement(Vt,{key:t.name,control:t})}),l.a.createElement(st,{open:n,title:"Print document",width:1e3,bodyStyle:{height:"70vh"},content:l.a.createElement(ee.e,{className:"pdf-viewer"},l.a.createElement(ot,{pages:t})),onClose:a,footer:null}))},an=(n(963),Object(i.g)(function(e){var t,n=We(),a=n.pages,o=n.isDone,c=n.showPreview,i=n.actions,s=n.drawerVisible,m=n.document,d=n.preview,E=m&&m.status===T.DOCUMENT_IN_PROGRESS,h=xe(),b=Object(U.a)(h,2),g=b[0],v=b[1],y=Object(r.useContext)(F),C=y.commit,S=y.removeById,O=function(e){return function(){var t="commit"===e?"Are you sure you want to commit?":"Are you sure you want to delete?";v.setModalState({open:!0,title:t,target:{value:e,item:m}})}},w=function(){var t=Object(p.a)(f.a.mark(function t(){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=g.target)&&n.item){t.next=3;break}return t.abrupt("return");case 3:if("commit"!==n.value){t.next=6;break}return t.next=6,C(n.item.id);case 6:if("delete"!==n.value){t.next=9;break}return t.next=9,S(n.item.id);case 9:v.closeModal(),"delete"===n.value&&e.history.goBack();case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return l.a.createElement(u.a,{className:"document"},l.a.createElement(u.a.Header,{className:"header"},l.a.createElement(B,null),l.a.createElement(Oe.a.Group,null,!d&&!o&&l.a.createElement(Oe.a,{onClick:i.addPage},l.a.createElement(Q.a,{type:"file",theme:"filled"}),"Add page"),l.a.createElement(Oe.a,{onClick:i.showPreviewHandler},"Preview",l.a.createElement(Q.a,{type:"file-done"})),l.a.createElement(ee.d,{document:l.a.createElement(ot,{pages:a}),fileName:"somename.pdf"},function(e){e.blob,e.url;var t=e.loading;return e.error,t?"Loading document...":l.a.createElement(Oe.a,null,"Download PDF",l.a.createElement(Q.a,{type:"download"}))}),l.a.createElement(Oe.a,{onClick:i.togglePreview},"Print",l.a.createElement(Q.a,{type:"printer",theme:"filled"})),!o&&l.a.createElement(Oe.a,{onClick:O("delete")},"Delete",l.a.createElement(Q.a,{type:"delete"})),E&&l.a.createElement(Oe.a,{onClick:O("commit")},"Commit",l.a.createElement(Q.a,{type:"file-done"}))),l.a.createElement(kt.a.Title,{level:4,code:!0},(t=m)?t.status===T.TEMPLATE?"Template":t.status===T.DOCUMENT__DONE?"Done":t.status===T.DOCUMENT_IN_PROGRESS?"In progress":"":"")),l.a.createElement(u.a.Content,{className:"content"},l.a.createElement(xt.b,{backend:_t.a},!o&&l.a.createElement(nn,{pages:a,showPreview:c,togglePreview:i.togglePreview}),l.a.createElement("div",{className:"pages"},a.map(function(e,t){return l.a.createElement(tn,{key:t,pageIndex:t,page:e,actions:i,isDone:o,preview:d})})),l.a.createElement(Oe.a,{type:"primary",onClick:i.showDrawer},"Settings"),l.a.createElement(Nt.a,{title:"Settings",width:720,visible:s,onClose:i.closeDrawer},l.a.createElement(Gt,null)))),l.a.createElement(u.a.Footer,{className:"footer"},"Binale Software \xa92019"),l.a.createElement(st,{open:g.open,title:g.title,content:g.content,onAction:w,onClose:v.closeModal}))})),rn=function(e){var t=e.match.params;return l.a.createElement(We.Provider,{fsElementId:t.id},l.a.createElement(an,null))};function ln(e){return l.a.createElement(i.a,{to:"/dashboard/Root"})}n(965),n(966);c.a.render(l.a.createElement(D,null,l.a.createElement(Et.Provider,null,l.a.createElement(function(){return l.a.createElement(s.a,null,l.a.createElement(i.b,{exact:!0,path:"/",render:ln}),l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/dashboard/:id",component:Tt}),l.a.createElement(i.b,{path:"/document/:id",component:rn})))},null))),document.getElementById("root")),a.unregister()},238:function(e,t,n){},468:function(e,t,n){},502:function(e,t,n){e.exports=n.p+"static/media/logo.2fcb8508.png"},514:function(e,t,n){e.exports=n(1023)},528:function(e,t,n){},585:function(e,t){},587:function(e,t){},624:function(e,t){},625:function(e,t){},718:function(e,t,n){},719:function(e,t,n){},723:function(e,t,n){},762:function(e,t,n){},763:function(e,t,n){},764:function(e,t,n){},784:function(e,t,n){},846:function(e,t,n){},847:function(e,t,n){},848:function(e,t,n){},925:function(e,t,n){},926:function(e,t,n){},962:function(e,t,n){},963:function(e,t,n){},965:function(e,t,n){}},[[514,1,2]]]);
//# sourceMappingURL=main.f9dccc7a.chunk.js.map